!function(o,w){"object"==typeof exports&&"object"==typeof module?module.exports=w():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],w):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=w():o["pdfjs-dist/build/pdf"]=o.pdfjsLib=w()}(this,function(){return function(K){var o={};function w(c){if(o[c])return o[c].exports;var k=o[c]={i:c,l:!1,exports:{}};return K[c].call(k.exports,k,k.exports,w),k.l=!0,k.exports}return w.m=K,w.c=o,w.d=function(c,k,N){w.o(c,k)||Object.defineProperty(c,k,{enumerable:!0,get:N})},w.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},w.t=function(c,k){if(1&k&&(c=w(c)),8&k||4&k&&"object"==typeof c&&c&&c.__esModule)return c;var N=Object.create(null);if(w.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:c}),2&k&&"string"!=typeof c)for(var P in c)w.d(N,P,function(R){return c[R]}.bind(null,P));return N},w.n=function(c){var k=c&&c.__esModule?function(){return c.default}:function(){return c};return w.d(k,"a",k),k},w.o=function(c,k){return Object.prototype.hasOwnProperty.call(c,k)},w.p="",w(w.s=0)}([function(K,o,w){"use strict";var N=w(1),P=w(3),R=w(16),p=w(17),s=w(4),e=w(18);const r=w(10),y=w(6);{const{isNodeJS:t}=w(7);if(t){const a=w(19).PDFNodeStream;P.setPDFNetworkStreamFactory(n=>new a(n))}else{const a=w(22).PDFNetworkStream;let n;s.isFetchSupported()&&(n=w(23).PDFFetchStream),P.setPDFNetworkStreamFactory(i=>n&&s.isValidFetchUrl(i.url)?new n(i):new a(i))}}o.build=P.build,o.version=P.version,o.getDocument=P.getDocument,o.LoopbackPort=P.LoopbackPort,o.PDFDataRangeTransport=P.PDFDataRangeTransport,o.PDFWorker=P.PDFWorker,o.renderTextLayer=R.renderTextLayer,o.AnnotationLayer=p.AnnotationLayer,o.createPromiseCapability=N.createPromiseCapability,o.PasswordResponses=N.PasswordResponses,o.InvalidPDFException=N.InvalidPDFException,o.MissingPDFException=N.MissingPDFException,o.SVGGraphics=e.SVGGraphics,o.NativeImageDecoding=N.NativeImageDecoding,o.CMapCompressionType=N.CMapCompressionType,o.PermissionFlag=N.PermissionFlag,o.UnexpectedResponseException=N.UnexpectedResponseException,o.OPS=N.OPS,o.VerbosityLevel=N.VerbosityLevel,o.UNSUPPORTED_FEATURES=N.UNSUPPORTED_FEATURES,o.createValidAbsoluteUrl=N.createValidAbsoluteUrl,o.createObjectURL=N.createObjectURL,o.removeNullCharacters=N.removeNullCharacters,o.shadow=N.shadow,o.Util=N.Util,o.RenderingCancelledException=s.RenderingCancelledException,o.getFilenameFromUrl=s.getFilenameFromUrl,o.LinkTarget=s.LinkTarget,o.addLinkAttributes=s.addLinkAttributes,o.loadScript=s.loadScript,o.PDFDateString=s.PDFDateString,o.GlobalWorkerOptions=r.GlobalWorkerOptions,o.apiCompatibilityParams=y.apiCompatibilityParams},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.arrayByteLength=se,o.arraysToBytes=function W(le){const J=le.length;if(1===J&&le[0]instanceof Uint8Array)return le[0];let ne=0;for(let ae=0;ae<J;ae++)ne+=se(le[ae]);let ue=0;const de=new Uint8Array(ne);for(let ae=0;ae<J;ae++){let ce=le[ae];ce instanceof Uint8Array||(ce="string"==typeof ce?ie(ce):new Uint8Array(ce));const ye=ce.byteLength;de.set(ce,ue),ue+=ye}return de},o.assert=q,o.bytesToString=function Q(le){q(null!==le&&"object"==typeof le&&void 0!==le.length,"Invalid argument for bytesToString");const J=le.length;if(J<8192)return String.fromCharCode.apply(null,le);const ue=[];for(let de=0;de<J;de+=8192){const ae=Math.min(de+8192,J),ce=le.subarray(de,ae);ue.push(String.fromCharCode.apply(null,ce))}return ue.join("")},o.createPromiseCapability=function Oe(){const le=Object.create(null);let J=!1;return Object.defineProperty(le,"settled",{get:()=>J}),le.promise=new Promise(function(ne,ue){le.resolve=function(de){J=!0,ne(de)},le.reject=function(de){J=!0,ue(de)}}),le},o.getVerbosityLevel=function A(){return _},o.info=function x(le){_>=m.INFOS&&console.log(`Info: ${le}`)},o.isArrayBuffer=function be(le){return"object"==typeof le&&null!==le&&void 0!==le.byteLength},o.isArrayEqual=function Ee(le,J){return le.length===J.length&&le.every(function(ne,ue){return ne===J[ue]})},o.isBool=function me(le){return"boolean"==typeof le},o.isEmptyObj=function ve(le){for(const J in le)return!1;return!0},o.isNum=function pe(le){return"number"==typeof le},o.isString=function Se(le){return"string"==typeof le},o.isSameOrigin=function U(le,J){let ne;try{if(ne=new URL(le),!ne.origin||"null"===ne.origin)return!1}catch{return!1}const ue=new URL(J,ne);return ne.origin===ue.origin},o.createValidAbsoluteUrl=function v(le,J){if(!le)return null;try{const ne=J?new URL(le,J):new URL(le);if(function j(le){if(!le)return!1;switch(le.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ne))return ne}catch{}return null},o.removeNullCharacters=function $(le){return"string"!=typeof le?(D("The argument for removeNullCharacters must be a string."),le):le.replace(z,"")},o.setVerbosityLevel=function f(le){Number.isInteger(le)&&(_=le)},o.shadow=O,o.string32=function H(le){return String.fromCharCode(le>>24&255,le>>16&255,le>>8&255,255&le)},o.stringToBytes=ie,o.stringToPDFString=function oe(le){const J=le.length,ne=[];if("\xfe"===le[0]&&"\xff"===le[1])for(let ue=2;ue<J;ue+=2)ne.push(String.fromCharCode(le.charCodeAt(ue)<<8|le.charCodeAt(ue+1)));else if("\xff"===le[0]&&"\xfe"===le[1])for(let ue=2;ue<J;ue+=2)ne.push(String.fromCharCode(le.charCodeAt(ue+1)<<8|le.charCodeAt(ue)));else for(let ue=0;ue<J;++ue){const de=ee[le.charCodeAt(ue)];ne.push(de?String.fromCharCode(de):le.charAt(ue))}return ne.join("")},o.stringToUTF8String=function fe(le){return decodeURIComponent(escape(le))},o.utf8StringToString=function he(le){return unescape(encodeURIComponent(le))},o.warn=D,o.unreachable=I,o.IsEvalSupportedCached=o.IsLittleEndianCached=o.createObjectURL=o.FormatError=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.StreamType=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.NativeImageDecoding=o.MissingPDFException=o.InvalidPDFException=o.AbortException=o.CMapCompressionType=o.ImageKind=o.FontType=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationBorderStyleType=o.UNSUPPORTED_FEATURES=o.VerbosityLevel=o.OPS=o.IDENTITY_MATRIX=o.FONT_IDENTITY_MATRIX=o.BaseException=void 0,w(2),o.IDENTITY_MATRIX=[1,0,0,1,0,0],o.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],o.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},o.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},o.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},o.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},o.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},o.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},o.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},o.AnnotationReplyType={GROUP:"Group",REPLY:"R"},o.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},o.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},o.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},o.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},o.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const m={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=m,o.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _=m.WARNINGS;function D(le){_>=m.WARNINGS&&console.log(`Warning: ${le}`)}function I(le){throw new Error(le)}function q(le,J){le||I(J)}function O(le,J,ne){return Object.defineProperty(le,J,{value:ne,enumerable:!0,configurable:!0,writable:!1}),ne}const b=function(){function J(ne){this.constructor===J&&I("Cannot initialize BaseException."),this.message=ne,this.name=this.constructor.name}return J.prototype=new Error,J.constructor=J,J}();o.BaseException=b,o.PasswordException=class T extends b{constructor(J,ne){super(J),this.code=ne}},o.UnknownErrorException=class E extends b{constructor(J,ne){super(J),this.details=ne}},o.InvalidPDFException=class F extends b{},o.MissingPDFException=class M extends b{},o.UnexpectedResponseException=class L extends b{constructor(J,ne){super(J),this.status=ne}},o.FormatError=class B extends b{},o.AbortException=class G extends b{};const z=/\x00/g;function ie(le){q("string"==typeof le,"Invalid argument for stringToBytes");const J=le.length,ne=new Uint8Array(J);for(let ue=0;ue<J;++ue)ne[ue]=255&le.charCodeAt(ue);return ne}function se(le){return void 0!==le.length?le.length:(q(void 0!==le.byteLength),le.byteLength)}o.IsLittleEndianCached={get value(){return O(this,"value",function X(){const le=new Uint8Array(4);return le[0]=1,1===new Uint32Array(le.buffer,0,1)[0]}())}},o.IsEvalSupportedCached={get value(){return O(this,"value",function V(){try{return new Function(""),!0}catch{return!1}}())}};const te=["rgb(",0,",",0,",",0,")"];class re{static makeCssRgb(J,ne,ue){return te[1]=J,te[3]=ne,te[5]=ue,te.join("")}static transform(J,ne){return[J[0]*ne[0]+J[2]*ne[1],J[1]*ne[0]+J[3]*ne[1],J[0]*ne[2]+J[2]*ne[3],J[1]*ne[2]+J[3]*ne[3],J[0]*ne[4]+J[2]*ne[5]+J[4],J[1]*ne[4]+J[3]*ne[5]+J[5]]}static applyTransform(J,ne){return[J[0]*ne[0]+J[1]*ne[2]+ne[4],J[0]*ne[1]+J[1]*ne[3]+ne[5]]}static applyInverseTransform(J,ne){const ue=ne[0]*ne[3]-ne[1]*ne[2];return[(J[0]*ne[3]-J[1]*ne[2]+ne[2]*ne[5]-ne[4]*ne[3])/ue,(-J[0]*ne[1]+J[1]*ne[0]+ne[4]*ne[1]-ne[5]*ne[0])/ue]}static getAxialAlignedBoundingBox(J,ne){const ue=re.applyTransform(J,ne),de=re.applyTransform(J.slice(2,4),ne),ae=re.applyTransform([J[0],J[3]],ne),ce=re.applyTransform([J[2],J[1]],ne);return[Math.min(ue[0],de[0],ae[0],ce[0]),Math.min(ue[1],de[1],ae[1],ce[1]),Math.max(ue[0],de[0],ae[0],ce[0]),Math.max(ue[1],de[1],ae[1],ce[1])]}static inverseTransform(J){const ne=J[0]*J[3]-J[1]*J[2];return[J[3]/ne,-J[1]/ne,-J[2]/ne,J[0]/ne,(J[2]*J[5]-J[4]*J[3])/ne,(J[4]*J[1]-J[5]*J[0])/ne]}static apply3dTransform(J,ne){return[J[0]*ne[0]+J[1]*ne[1]+J[2]*ne[2],J[3]*ne[0]+J[4]*ne[1]+J[5]*ne[2],J[6]*ne[0]+J[7]*ne[1]+J[8]*ne[2]]}static singularValueDecompose2dScale(J){const ne=[J[0],J[2],J[1],J[3]],ue=J[0]*ne[0]+J[1]*ne[2],ce=J[2]*ne[1]+J[3]*ne[3],ye=(ue+ce)/2,_e=Math.sqrt((ue+ce)*(ue+ce)-4*(ue*ce-(J[2]*ne[0]+J[3]*ne[2])*(J[0]*ne[1]+J[1]*ne[3])))/2,Ae=ye-_e||1;return[Math.sqrt(ye+_e||1),Math.sqrt(Ae)]}static normalizeRect(J){const ne=J.slice(0);return J[0]>J[2]&&(ne[0]=J[2],ne[2]=J[0]),J[1]>J[3]&&(ne[1]=J[3],ne[3]=J[1]),ne}static intersect(J,ne){function ue(ye,_e){return ye-_e}const de=[J[0],J[2],ne[0],ne[2]].sort(ue),ae=[J[1],J[3],ne[1],ne[3]].sort(ue),ce=[];return J=re.normalizeRect(J),ne=re.normalizeRect(ne),de[0]===J[0]&&de[1]===ne[0]||de[0]===ne[0]&&de[1]===J[0]?(ce[0]=de[1],ce[2]=de[2],ae[0]===J[1]&&ae[1]===ne[1]||ae[0]===ne[1]&&ae[1]===J[1]?(ce[1]=ae[1],ce[3]=ae[2],ce):null):null}}o.Util=re;const ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];o.createObjectURL=function(){const J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(ue,de,ae=!1){if(!ae&&URL.createObjectURL){const ye=new Blob([ue],{type:de});return URL.createObjectURL(ye)}let ce=`data:${de};base64,`;for(let ye=0,_e=ue.length;ye<_e;ye+=3){const ge=255&ue[ye],Ae=255&ue[ye+1],we=255&ue[ye+2];ce+=J[ge>>2]+J[(3&ge)<<4|Ae>>4]+J[ye+1<_e?(15&Ae)<<2|we>>6:64]+J[ye+2<_e?63&we:64]}return ce}}()},function(K,o,w){},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(5),_api_compatibility=__w_pdfjs_require__(6),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let createPDFNetworkStream;function setPDFNetworkStreamFactory(K){createPDFNetworkStream=K}function getDocument(K){const o=new PDFDocumentLoadingTask;let w;if("string"==typeof K)w={url:K};else if((0,_util.isArrayBuffer)(K))w={data:K};else if(K instanceof PDFDataRangeTransport)w={range:K};else{if("object"!=typeof K)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!K.url&&!K.data&&!K.range)throw new Error("Invalid parameter object: need either .data, .range or .url");w=K}const c=Object.create(null);let k=null,N=null;for(const p in w)if("url"===p&&typeof window<"u")c[p]=new URL(w[p],window.location).href;else if("range"!==p)if("worker"!==p)if("data"!==p||w[p]instanceof Uint8Array)c[p]=w[p];else{const s=w[p];if("string"==typeof s)c[p]=(0,_util.stringToBytes)(s);else if("object"!=typeof s||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");c[p]=new Uint8Array(s)}else c[p]=new Uint8Array(s)}else N=w[p];else k=w[p];c.rangeChunkSize=c.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,c.CMapReaderFactory=c.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,c.ignoreErrors=!0!==c.stopAtErrors,c.pdfBug=!0===c.pdfBug;const P=Object.values(_util.NativeImageDecoding);if((void 0===c.nativeImageDecoderSupport||!P.includes(c.nativeImageDecoderSupport))&&(c.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(c.maxImageSize)||(c.maxImageSize=-1),"boolean"!=typeof c.isEvalSupported&&(c.isEvalSupported=!0),"boolean"!=typeof c.disableFontFace&&(c.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof c.disableRange&&(c.disableRange=!1),"boolean"!=typeof c.disableStream&&(c.disableStream=!1),"boolean"!=typeof c.disableAutoFetch&&(c.disableAutoFetch=!1),"boolean"!=typeof c.disableCreateObjectURL&&(c.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(c.verbosity),!N){const p={verbosity:c.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};N=p.port?PDFWorker.fromPort(p):new PDFWorker(p),o._worker=N}const R=o.docId;return N.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");return _fetchDocument(N,c,k,R).then(function(p){if(o.destroyed)throw new Error("Loading aborted");let s;k?s=new _transport_stream.PDFDataTransportStream({length:c.length,initialData:c.initialData,progressiveDone:c.progressiveDone,disableRange:c.disableRange,disableStream:c.disableStream},k):c.data||(s=createPDFNetworkStream({url:c.url,length:c.length,httpHeaders:c.httpHeaders,withCredentials:c.withCredentials,rangeChunkSize:c.rangeChunkSize,disableRange:c.disableRange,disableStream:c.disableStream}));const e=new _message_handler.MessageHandler(R,p,N.port);e.postMessageTransfers=N.postMessageTransfers;const r=new WorkerTransport(e,o,s,c);o._transport=r,e.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(K,o,w,c){return K.destroyed?Promise.reject(new Error("Worker was destroyed")):(w&&(o.length=w.length,o.initialData=w.initialData,o.progressiveDone=w.progressiveDone),K.messageHandler.sendWithPromise("GetDocRequest",{docId:c,apiVersion:"2.4.456",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,disableCreateObjectURL:o.disableCreateObjectURL,postMessageTransfers:K.postMessageTransfers,docBaseUrl:o.docBaseUrl,nativeImageDecoderSupport:o.nativeImageDecoderSupport,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported}).then(function(k){if(K.destroyed)throw new Error("Worker was destroyed");return k}))}const PDFDocumentLoadingTask=function(){let o=0;return class w{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+o++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}then(k,N){throw new Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}}}();class PDFDataRangeTransport{constructor(o,w,c=!1){this.length=o,this.initialData=w,this.progressiveDone=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,w){for(const c of this._rangeListeners)c(o,w)}onDataProgress(o,w){this._readyCapability.promise.then(()=>{for(const c of this._progressListeners)c(o,w)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const w of this._progressiveReadListeners)w(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,w){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,w){this._pdfInfo=o,this._transport=w}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getOpenActionDestination(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then(function(o){return o&&o.dest?o.dest:null})}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getOutline(){return this._transport.getOutline()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,w,c,k=!1){this._pageIndex=o,this._pageInfo=w,this._transport=c,this._stats=k?new _display_utils.StatTimer:null,this._pdfBug=k,this.commonObjs=c.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:w=this.rotate,offsetX:c=0,offsetY:k=0,dontFlip:N=!1}={}){if(arguments.length>1||"number"==typeof arguments[0])throw new Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:w,offsetX:c,offsetY:k,dontFlip:N})}getAnnotations({intent:o=null}={}){return(!this.annotationsPromise||this.annotationsIntent!==o)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,o),this.annotationsIntent=o),this.annotationsPromise}render({canvasContext:o,viewport:w,intent:c="display",enableWebGL:k=!1,renderInteractiveForms:N=!1,transform:P=null,imageLayer:R=null,canvasFactory:p=null,background:s=null}){this._stats&&this._stats.time("Overall");const e="print"===c?"print":"display";this.pendingCleanup=!1,this.intentStates[e]||(this.intentStates[e]=Object.create(null));const r=this.intentStates[e];r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null);const y=p||new _display_utils.DOMCanvasFactory,t=new _webgl.WebGLContext({enable:k});r.displayReadyCapability||(r.displayReadyCapability=(0,_util.createPromiseCapability)(),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:e,renderInteractiveForms:!0===N}));const a=g=>{const l=r.renderTasks.indexOf(n);l>=0&&r.renderTasks.splice(l,1),(this.cleanupAfterRender||"print"===e)&&(this.pendingCleanup=!0),this._tryCleanup(),g?(n.capability.reject(g),this._abortOperatorList({intentState:r,reason:g})):n.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},n=new InternalRenderTask({callback:a,params:{canvasContext:o,viewport:w,transform:P,imageLayer:R,background:s},objs:this.objs,commonObjs:this.commonObjs,operatorList:r.operatorList,pageIndex:this._pageIndex,canvasFactory:y,webGLContext:t,useRequestAnimationFrame:"print"!==e,pdfBug:this._pdfBug});r.renderTasks||(r.renderTasks=[]),r.renderTasks.push(n);const i=n.task;return r.displayReadyCapability.promise.then(g=>{this.pendingCleanup?a():(this._stats&&this._stats.time("Rendering"),n.initializeGraphics(g),n.operatorListChanged())}).catch(a),i}getOperatorList(){const w="oplist";this.intentStates[w]||(this.intentStates[w]=Object.create(null));const c=this.intentStates[w];let k;return c.opListReadCapability||(k={},k.operatorListChanged=function o(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);const N=c.renderTasks.indexOf(k);N>=0&&c.renderTasks.splice(N,1)}},c.opListReadCapability=(0,_util.createPromiseCapability)(),c.renderTasks=[],c.renderTasks.push(k),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:w})),c.opListReadCapability.promise}streamTextContent({normalizeWhitespace:o=!1,disableCombineTextItems:w=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===o,combineTextItems:!0!==w},{highWaterMark:100,size:k=>k.items.length})}getTextContent(o={}){const w=this.streamTextContent(o);return new Promise(function(c,k){const P=w.getReader(),R={items:[],styles:Object.create(null)};!function N(){P.read().then(function({value:p,done:s}){s?c(R):(Object.assign(R.styles,p.styles),R.items.push(...p.items),N())},k)}()})}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const o=[];return Object.keys(this.intentStates).forEach(w=>{const c=this.intentStates[w];this._abortOperatorList({intentState:c,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==w&&c.renderTasks.forEach(function(k){const N=k.capability.promise.catch(function(){});o.push(N),k.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){return!(!this.pendingCleanup||Object.keys(this.intentStates).some(w=>{const c=this.intentStates[w];return 0!==c.renderTasks.length||!c.operatorList.lastChunk})||(Object.keys(this.intentStates).forEach(w=>{delete this.intentStates[w]}),this.objs.clear(),this.annotationsPromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}_startRenderPage(o,w){const c=this.intentStates[w];c&&(this._stats&&this._stats.timeEnd("Page Request"),c.displayReadyCapability&&c.displayReadyCapability.resolve(o))}_renderPageChunk(o,w){for(let c=0,k=o.length;c<k;c++)w.operatorList.fnArray.push(o.fnArray[c]),w.operatorList.argsArray.push(o.argsArray[c]);w.operatorList.lastChunk=o.lastChunk;for(let c=0;c<w.renderTasks.length;c++)w.renderTasks[c].operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList(o){(0,_util.assert)(o.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const c=this._transport.messageHandler.sendWithStream("GetOperatorList",o).getReader(),k=this.intentStates[o.intent];k.streamReader=c;const N=()=>{c.read().then(({value:P,done:R})=>{R?k.streamReader=null:this._transport.destroyed||(this._renderPageChunk(P,k),N())},P=>{if(k.streamReader=null,!this._transport.destroyed){if(k.operatorList){k.operatorList.lastChunk=!0;for(let R=0;R<k.renderTasks.length;R++)k.renderTasks[R].operatorListChanged();this._tryCleanup()}if(k.displayReadyCapability)k.displayReadyCapability.reject(P);else{if(!k.opListReadCapability)throw P;k.opListReadCapability.reject(P)}}})};N()}_abortOperatorList({intentState:o,reason:w,force:c=!1}){if((0,_util.assert)(w instanceof Error||"object"==typeof w&&null!==w,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),o.streamReader){if(!c){if(0!==o.renderTasks.length)return;if(w instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:w,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}o.streamReader.cancel(new _util.AbortException(w&&w.message)),o.streamReader=null,!this._transport.destroyed&&(Object.keys(this.intentStates).some(k=>this.intentStates[k]===o&&(delete this.intentStates[k],!0)),this.cleanup())}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(o=!0){this._listeners=[],this._defer=o,this._deferred=Promise.resolve(void 0)}postMessage(o,w){if(!this._defer)return void this._listeners.forEach(P=>{P.call(this,{data:o})});const k=new WeakMap,N={data:function c(P){if("object"!=typeof P||null===P)return P;if(k.has(P))return k.get(P);let R,p;if((R=P.buffer)&&(0,_util.isArrayBuffer)(R))return p=w&&w.includes(R)?new P.constructor(R,P.byteOffset,P.byteLength):new P.constructor(P),k.set(P,p),p;p=Array.isArray(P)?[]:{},k.set(P,p);for(const s in P){let e,r=P;for(;!(e=Object.getOwnPropertyDescriptor(r,s));)r=Object.getPrototypeOf(r);if(!(typeof e.value>"u")){if("function"==typeof e.value){if(P.hasOwnProperty&&P.hasOwnProperty(s))throw new Error(`LoopbackPort.postMessage - cannot clone: ${P[s]}`);continue}p[s]=c(e.value)}}return p}(o)};this._deferred.then(()=>{this._listeners.forEach(P=>{P.call(this,N)})})}addEventListener(o,w){this._listeners.push(w)}removeEventListener(o,w){const c=this._listeners.indexOf(w);this._listeners.splice(c,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function PDFWorkerClosure(){const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const K=document.currentScript&&document.currentScript.src;K&&(fallbackWorkerSrc=K.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(typeof fallbackWorkerSrc<"u")return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let K;try{K=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch{}return K||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=async function(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof require){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(K){return URL.createObjectURL(new Blob(["importScripts('"+K+"');"]))}class PDFWorker{constructor({name:o=null,port:w=null,verbosity:c=(0,_util.getVerbosityLevel)()}={}){if(w&&pdfWorkerPorts.has(w))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=o,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=c,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,w)return pdfWorkerPorts.set(w,this),void this._initializeFromPort(w);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(o){this._port=o,this._messageHandler=new _message_handler.MessageHandler("main","worker",o),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let o=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,o)||(o=createCDNWrapper(new URL(o,window.location).href));const w=new Worker(o),c=new _message_handler.MessageHandler("main","worker",w),k=()=>{w.removeEventListener("error",N),c.destroy(),w.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},N=()=>{this._webWorker||k()};w.addEventListener("error",N),c.on("test",R=>{w.removeEventListener("error",N),this.destroyed?k():R?(this._messageHandler=c,this._port=w,this._webWorker=w,R.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),c.destroy(),w.terminate())}),c.on("ready",R=>{if(w.removeEventListener("error",N),this.destroyed)k();else try{P()}catch{this._setupFakeWorker()}});const P=()=>{const R=new Uint8Array([this.postMessageTransfers?255:0]);try{c.send("test",R,[R.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),R[0]=0,c.send("test",R)}};return void P()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(o=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const w=new LoopbackPort;this._port=w;const c="fake"+nextFakeWorkerId++,k=new _message_handler.MessageHandler(c+"_worker",c,w);o.setup(k,w);const N=new _message_handler.MessageHandler(c,c+"_worker",w);this._messageHandler=N,this._readyCapability.resolve(),N.send("configure",{verbosity:this.verbosity})}).catch(o=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${o.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(o){if(!o||!o.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(o.port)?pdfWorkerPorts.get(o.port):new PDFWorker(o)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(o,w,c,k){this.messageHandler=o,this.loadingTask=w,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:w.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=k,this.CMapReaderFactory=new k.CMapReaderFactory({baseUrl:k.cMapUrl,isCompressed:k.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=c,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];this.pageCache.forEach(function(c){c&&o.push(c._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;const w=this.messageHandler.sendWithPromise("Terminate",null);return o.push(w),Promise.all(o).then(()=>{this.fontLoader.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:w}=this;o.on("GetReader",(c,k)=>{(0,_util.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=N=>{this._lastProgress={loaded:N.loaded,total:N.total}},k.onPull=()=>{this._fullReader.read().then(function({value:N,done:P}){P?k.close():((0,_util.assert)((0,_util.isArrayBuffer)(N)),k.enqueue(new Uint8Array(N),1,[N]))}).catch(N=>{k.error(N)})},k.onCancel=N=>{this._fullReader.cancel(N)}}),o.on("ReaderHeadersReady",c=>{const k=(0,_util.createPromiseCapability)(),N=this._fullReader;return N.headersReady.then(()=>{(!N.isStreamingSupported||!N.isRangeSupported)&&(this._lastProgress&&w.onProgress&&w.onProgress(this._lastProgress),N.onProgress=P=>{w.onProgress&&w.onProgress({loaded:P.loaded,total:P.total})}),k.resolve({isStreamingSupported:N.isStreamingSupported,isRangeSupported:N.isRangeSupported,contentLength:N.contentLength})},k.reject),k.promise}),o.on("GetRangeReader",(c,k)=>{(0,_util.assert)(this._networkStream);const N=this._networkStream.getRangeReader(c.begin,c.end);N?(k.onPull=()=>{N.read().then(function({value:P,done:R}){R?k.close():((0,_util.assert)((0,_util.isArrayBuffer)(P)),k.enqueue(new Uint8Array(P),1,[P]))}).catch(P=>{k.error(P)})},k.onCancel=P=>{N.cancel(P)}):k.close()}),o.on("GetDoc",({pdfInfo:c})=>{this._numPages=c.numPages,w._capability.resolve(new PDFDocumentProxy(c,this))}),o.on("DocException",function(c){let k;switch(c.name){case"PasswordException":k=new _util.PasswordException(c.message,c.code);break;case"InvalidPDFException":k=new _util.InvalidPDFException(c.message);break;case"MissingPDFException":k=new _util.MissingPDFException(c.message);break;case"UnexpectedResponseException":k=new _util.UnexpectedResponseException(c.message,c.status);break;case"UnknownErrorException":k=new _util.UnknownErrorException(c.message,c.details)}w._capability.reject(k)}),o.on("PasswordRequest",c=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),w.onPassword){const k=N=>{this._passwordCapability.resolve({password:N})};try{w.onPassword(k,c.code)}catch(N){this._passwordCapability.reject(N)}}else this._passwordCapability.reject(new _util.PasswordException(c.message,c.code));return this._passwordCapability.promise}),o.on("DataLoaded",c=>{w.onProgress&&w.onProgress({loaded:c.length,total:c.length}),this.downloadInfoCapability.resolve(c)}),o.on("StartRenderPage",c=>{this.destroyed||this.pageCache[c.pageIndex]._startRenderPage(c.transparency,c.intent)}),o.on("commonobj",c=>{if(this.destroyed)return;const[k,N,P]=c;if(!this.commonObjs.has(k))switch(N){case"Font":const R=this._params;if("error"in P){const e=P.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(k,e);break}let p=null;R.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(p={registerFont(e,r){globalThis.FontInspector.fontAdded(e,r)}});const s=new _font_loader.FontFaceObject(P,{isEvalSupported:R.isEvalSupported,disableFontFace:R.disableFontFace,ignoreErrors:R.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:p});this.fontLoader.bind(s).then(()=>{this.commonObjs.resolve(k,s)},e=>{o.sendWithPromise("FontFallback",{id:k}).finally(()=>{this.commonObjs.resolve(k,s)})});break;case"FontPath":case"FontType3Res":this.commonObjs.resolve(k,P);break;default:throw new Error(`Got unknown common object type ${N}`)}}),o.on("obj",c=>{if(this.destroyed)return;const[k,N,P,R]=c,p=this.pageCache[N];if(!p.objs.has(k))switch(P){case"JpegStream":return new Promise((e,r)=>{const y=new Image;y.onload=function(){e(y)},y.onerror=function(){r(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(y)},y.src=R}).then(e=>{p.objs.resolve(k,e)});case"Image":p.objs.resolve(k,R),R&&"data"in R&&R.data.length>8e6&&(p.cleanupAfterRender=!0);break;default:throw new Error(`Got unknown object type ${P}`)}}),o.on("DocProgress",c=>{this.destroyed||w.onProgress&&w.onProgress({loaded:c.loaded,total:c.total})}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("JpegDecode",c=>{if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if(typeof document>"u")return Promise.reject(new Error('"document" is not defined.'));const[k,N]=c;return 3!==N&&1!==N?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(P,R){const p=new Image;p.onload=function(){const{width:s,height:e}=p,r=s*e,y=4*r,t=new Uint8ClampedArray(r*N);let a=document.createElement("canvas");a.width=s,a.height=e;let n=a.getContext("2d");n.drawImage(p,0,0);const i=n.getImageData(0,0,s,e).data;if(3===N)for(let g=0,l=0;g<y;g+=4,l+=3)t[l]=i[g],t[l+1]=i[g+1],t[l+2]=i[g+2];else if(1===N)for(let g=0,l=0;g<y;g+=4,l++)t[l]=i[g];P({data:t,width:s,height:e}),(0,_display_utils.releaseImageResources)(p),a.width=0,a.height=0,a=null,n=null},p.onerror=function(){R(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(p)},p.src=k})}),o.on("FetchBuiltInCMap",(c,k)=>{if(this.destroyed)return void k.error(new Error("Worker was destroyed"));let N=!1;k.onPull=()=>{N?k.close():(N=!0,this.CMapReaderFactory.fetch(c).then(function(P){k.enqueue(P,1,[P.cMapData.buffer])}).catch(function(P){k.error(P)}))}})}_onUnsupportedFeature({featureId:o}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request"));const w=o-1;if(w in this.pagePromises)return this.pagePromises[w];const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:w}).then(k=>{if(this.destroyed)throw new Error("Transport destroyed");const N=new PDFPageProxy(w,k,this,this._params.pdfBug);return this.pageCache[w]=N,N});return this.pagePromises[w]=c,c}getPageIndex(o){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:o}).catch(function(w){return Promise.reject(new Error(w))})}getAnnotations(o,w){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:w})}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>({info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:this._fullReader?this._fullReader.filename:null}))}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then(()=>{for(let o=0,w=this.pageCache.length;o<w;o++){const c=this.pageCache[o];if(c&&!c.cleanup())throw new Error(`startCleanup: Page ${o+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear()})}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,disableCreateObjectURL:o.disableCreateObjectURL,disableFontFace:o.disableFontFace,nativeImageDecoderSupport:o.nativeImageDecoderSupport})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(o){return this._objs[o]?this._objs[o]:this._objs[o]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(o,w=null){if(w)return this._ensureObj(o).capability.promise.then(w),null;const c=this._objs[o];if(!c||!c.resolved)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return c.data}has(o){const w=this._objs[o];return!!w&&w.resolved}resolve(o,w){const c=this._ensureObj(o);c.resolved=!0,c.data=w,c.capability.resolve(w)}clear(){for(const o in this._objs){const{data:w}=this._objs[o];typeof Image<"u"&&w instanceof Image&&(0,_display_utils.releaseImageResources)(w)}this._objs=Object.create(null)}}class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}then(o,w){throw new Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}}const InternalRenderTask=function K(){const o=new WeakSet;return class w{constructor({callback:k,params:N,objs:P,commonObjs:R,operatorList:p,pageIndex:s,canvasFactory:e,webGLContext:r,useRequestAnimationFrame:y=!1,pdfBug:t=!1}){this.callback=k,this.params=N,this.objs=P,this.commonObjs=R,this.operatorListIdx=null,this.operatorList=p,this._pageIndex=s,this.canvasFactory=e,this.webGLContext=r,this._pdfBug=t,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===y&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=N.canvasContext.canvas}initializeGraphics(k=!1){if(this.cancelled)return;if(this._canvas){if(o.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:N,viewport:P,transform:R,imageLayer:p,background:s}=this.params;this.gfx=new _canvas.CanvasGraphics(N,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,p),this.gfx.beginDrawing({transform:R,viewport:P,transparency:k,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(k=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&o.delete(this._canvas),this.callback(k||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this.cancel.bind(this))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&o.delete(this._canvas),this.callback())))}}}(),version="2.4.456";exports.version=version;const build="228a591c";exports.build=build},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.addLinkAttributes=function y(d,{url:S,target:_,rel:f,enabled:A=!0}={}){(0,c.assert)(S&&"string"==typeof S,'addLinkAttributes: A valid "url" parameter must provided.');const x=(0,c.removeNullCharacters)(S);A?d.href=d.title=x:(d.href="",d.title=`Disabled: ${x}`,d.onclick=()=>!1);let D="";switch(_){case r.NONE:break;case r.SELF:D="_self";break;case r.BLANK:D="_blank";break;case r.PARENT:D="_parent";break;case r.TOP:D="_top"}d.target=D,d.rel="string"==typeof f?f:k},o.getFilenameFromUrl=function t(d){const S=d.indexOf("#"),_=d.indexOf("?"),f=Math.min(S>0?S:d.length,_>0?_:d.length);return d.substring(d.lastIndexOf("/",f)+1,f)},o.isFetchSupported=n,o.isValidFetchUrl=i,o.loadScript=function g(d){return new Promise((S,_)=>{const f=document.createElement("script");f.src=d,f.onload=S,f.onerror=function(){_(new Error(`Cannot load script at: ${f.src}`))},(document.head||document.documentElement).appendChild(f)})},o.deprecated=function l(d){console.log("Deprecated API usage: "+d)},o.releaseImageResources=function m(d){(0,c.assert)(d instanceof Image,"Invalid `img` parameter.");const S=d.src;"string"==typeof S&&S.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(S),d.removeAttribute("src")},o.PDFDateString=o.StatTimer=o.DOMSVGFactory=o.DOMCMapReaderFactory=o.DOMCanvasFactory=o.DEFAULT_LINK_REL=o.LinkTarget=o.RenderingCancelledException=o.PageViewport=void 0;var c=w(1);const k="noopener noreferrer nofollow";o.DEFAULT_LINK_REL=k;const N="http://www.w3.org/2000/svg";o.DOMCanvasFactory=class P{create(S,_){if(S<=0||_<=0)throw new Error("Invalid canvas size");const f=document.createElement("canvas"),A=f.getContext("2d");return f.width=S,f.height=_,{canvas:f,context:A}}reset(S,_,f){if(!S.canvas)throw new Error("Canvas is not specified");if(_<=0||f<=0)throw new Error("Invalid canvas size");S.canvas.width=_,S.canvas.height=f}destroy(S){if(!S.canvas)throw new Error("Canvas is not specified");S.canvas.width=0,S.canvas.height=0,S.canvas=null,S.context=null}},o.DOMCMapReaderFactory=class R{constructor({baseUrl:S=null,isCompressed:_=!1}){this.baseUrl=S,this.isCompressed=_}async fetch({name:S}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!S)throw new Error("CMap name must be specified.");const _=this.baseUrl+S+(this.isCompressed?".bcmap":""),f=this.isCompressed?c.CMapCompressionType.BINARY:c.CMapCompressionType.NONE;return n()&&i(_,document.baseURI)?fetch(_).then(async A=>{if(!A.ok)throw new Error(A.statusText);let x;return x=this.isCompressed?new Uint8Array(await A.arrayBuffer()):(0,c.stringToBytes)(await A.text()),{cMapData:x,compressionType:f}}).catch(A=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_}`)}):new Promise((A,x)=>{const D=new XMLHttpRequest;D.open("GET",_,!0),this.isCompressed&&(D.responseType="arraybuffer"),D.onreadystatechange=()=>{if(D.readyState===XMLHttpRequest.DONE){if(200===D.status||0===D.status){let I;if(this.isCompressed&&D.response?I=new Uint8Array(D.response):!this.isCompressed&&D.responseText&&(I=(0,c.stringToBytes)(D.responseText)),I)return void A({cMapData:I,compressionType:f})}x(new Error(D.statusText))}},D.send(null)}).catch(A=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_}`)})}},o.DOMSVGFactory=class p{create(S,_){(0,c.assert)(S>0&&_>0,"Invalid SVG dimensions");const f=document.createElementNS(N,"svg:svg");return f.setAttribute("version","1.1"),f.setAttribute("width",S+"px"),f.setAttribute("height",_+"px"),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox","0 0 "+S+" "+_),f}createElement(S){return(0,c.assert)("string"==typeof S,"Invalid SVG element type"),document.createElementNS(N,S)}};class s{constructor({viewBox:S,scale:_,rotation:f,offsetX:A=0,offsetY:x=0,dontFlip:D=!1}){this.viewBox=S,this.scale=_,this.rotation=f,this.offsetX=A,this.offsetY=x;const I=(S[2]+S[0])/2,q=(S[3]+S[1])/2;let U,j,v,O,b,T,E,F;switch(f=(f%=360)<0?f+360:f){case 180:U=-1,j=0,v=0,O=1;break;case 90:U=0,j=1,v=1,O=0;break;case 270:U=0,j=-1,v=-1,O=0;break;default:U=1,j=0,v=0,O=-1}D&&(v=-v,O=-O),0===U?(b=Math.abs(q-S[1])*_+A,T=Math.abs(I-S[0])*_+x,E=Math.abs(S[3]-S[1])*_,F=Math.abs(S[2]-S[0])*_):(b=Math.abs(I-S[0])*_+A,T=Math.abs(q-S[1])*_+x,E=Math.abs(S[2]-S[0])*_,F=Math.abs(S[3]-S[1])*_),this.transform=[U*_,j*_,v*_,O*_,b-U*_*I-v*_*q,T-j*_*I-O*_*q],this.width=E,this.height=F}clone({scale:S=this.scale,rotation:_=this.rotation,offsetX:f=this.offsetX,offsetY:A=this.offsetY,dontFlip:x=!1}={}){return new s({viewBox:this.viewBox.slice(),scale:S,rotation:_,offsetX:f,offsetY:A,dontFlip:x})}convertToViewportPoint(S,_){return c.Util.applyTransform([S,_],this.transform)}convertToViewportRectangle(S){const _=c.Util.applyTransform([S[0],S[1]],this.transform),f=c.Util.applyTransform([S[2],S[3]],this.transform);return[_[0],_[1],f[0],f[1]]}convertToPdfPoint(S,_){return c.Util.applyInverseTransform([S,_],this.transform)}}o.PageViewport=s,o.RenderingCancelledException=class e extends c.BaseException{constructor(S,_){super(S),this.type=_}};const r={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function n(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&typeof ReadableStream<"u"}function i(d,S){try{const{protocol:_}=S?new URL(d,S):new URL(d);return"http:"===_||"https:"===_}catch{return!1}}let C;o.LinkTarget=r,o.StatTimer=class a{constructor(){this.started=Object.create(null),this.times=[]}time(S){S in this.started&&(0,c.warn)(`Timer is already running for ${S}`),this.started[S]=Date.now()}timeEnd(S){S in this.started||(0,c.warn)(`Timer has not been started for ${S}`),this.times.push({name:S,start:this.started[S],end:Date.now()}),delete this.started[S]}toString(){const S=[];let _=0;for(const f of this.times){const A=f.name;A.length>_&&(_=A.length)}for(const f of this.times){const A=f.end-f.start;S.push(`${f.name.padEnd(_)} ${A}ms\n`)}return S.join("")}},o.PDFDateString=class u{static toDateObject(S){if(!S||!(0,c.isString)(S))return null;C||(C=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _=C.exec(S);if(!_)return null;const f=parseInt(_[1],10);let A=parseInt(_[2],10);A=A>=1&&A<=12?A-1:0;let x=parseInt(_[3],10);x=x>=1&&x<=31?x:1;let D=parseInt(_[4],10);D=D>=0&&D<=23?D:0;let I=parseInt(_[5],10);I=I>=0&&I<=59?I:0;let q=parseInt(_[6],10);q=q>=0&&q<=59?q:0;const U=_[7]||"Z";let j=parseInt(_[8],10);j=j>=0&&j<=23?j:0;let v=parseInt(_[9],10)||0;return v=v>=0&&v<=59?v:0,"-"===U?(D+=j,I+=v):"+"===U&&(D-=j,I-=v),new Date(Date.UTC(f,A,x,D,I,q))}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var c=w(1);class k{constructor({docId:p,onUnsupportedFeature:s}){this.constructor===k&&(0,c.unreachable)("Cannot initialize BaseFontLoader."),this.docId=p,this._onUnsupportedFeature=s,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(p){this.nativeFontFaces.push(p),document.fonts.add(p)}insertRule(p){let s=this.styleElement;s||(s=this.styleElement=document.createElement("style"),s.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,document.documentElement.getElementsByTagName("head")[0].appendChild(s));const e=s.sheet;e.insertRule(p,e.cssRules.length)}clear(){this.nativeFontFaces.forEach(function(p){document.fonts.delete(p)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(p){if(p.attached||p.missingFile)return;if(p.attached=!0,this.isFontLoadingAPISupported){const e=p.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(r){throw this._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.font}),(0,c.warn)(`Failed to load font '${e.family}': '${r}'.`),p.disableFontFace=!0,r}}return}const s=p.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(e=>{const r=this._queueLoadingCallback(e);this._prepareFontLoadEvent([s],[p],r)})}}_queueLoadingCallback(p){(0,c.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const p=typeof document<"u"&&!!document.fonts;return(0,c.shadow)(this,"isFontLoadingAPISupported",p)}get isSyncFontLoadingSupported(){(0,c.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,c.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(p,s,e){(0,c.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let N;o.FontLoader=N,o.FontLoader=N=class extends k{constructor(p){super(p),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let p=!1;if(typeof navigator>"u")p=!0;else{const s=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);s&&s[1]>=14&&(p=!0)}return(0,c.shadow)(this,"isSyncFontLoadingSupported",p)}_queueLoadingCallback(p){const e=this.loadingContext,r={id:"pdfjs-font-loading-"+e.nextRequestId++,done:!1,complete:function s(){for((0,c.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;e.requests.length>0&&e.requests[0].done;){const y=e.requests.shift();setTimeout(y.callback,0)}},callback:p};return e.requests.push(r),r}get _loadTestFont(){return(0,c.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(p,s,e){function r(I,q){return I.charCodeAt(q)<<24|I.charCodeAt(q+1)<<16|I.charCodeAt(q+2)<<8|255&I.charCodeAt(q+3)}function y(I,q,U,j){return I.substring(0,q)+j+I.substring(q+U)}let t,a;const n=document.createElement("canvas");n.width=1,n.height=1;const i=n.getContext("2d");let g=0;const m=`lt${Date.now()}${this.loadTestFontId++}`;let C=this._loadTestFont;C=y(C,976,m.length,m);const S=1482184792;let _=r(C,16);for(t=0,a=m.length-3;t<a;t+=4)_=_-S+r(m,t)|0;t<m.length&&(_=_-S+r(m+"XXX",t)|0),C=y(C,16,4,(0,c.string32)(_));const f=`url(data:font/opentype;base64,${btoa(C)});`;this.insertRule(`@font-face {font-family:"${m}";src:${f}}`);const x=[];for(t=0,a=s.length;t<a;t++)x.push(s[t].loadedName);x.push(m);const D=document.createElement("div");for(D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px",t=0,a=x.length;t<a;++t){const I=document.createElement("span");I.textContent="Hi",I.style.fontFamily=x[t],D.appendChild(I)}document.body.appendChild(D),function l(I,q){if(g++,g>30)return(0,c.warn)("Load test font never loaded."),void q();i.font="30px "+I,i.fillText(".",0,20),i.getImageData(0,0,1,1).data[3]>0?q():setTimeout(l.bind(null,I,q))}(m,function(){document.body.removeChild(D),e.complete()})}},o.FontFaceObject=class P{constructor(p,{isEvalSupported:s=!0,disableFontFace:e=!1,ignoreErrors:r=!1,onUnsupportedFeature:y=null,fontRegistry:t=null}){this.compiledGlyphs=Object.create(null);for(const a in p)this[a]=p[a];this.isEvalSupported=!1!==s,this.disableFontFace=!0===e,this.ignoreErrors=!0===r,this._onUnsupportedFeature=y,this.fontRegistry=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const p=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),p}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const p=(0,c.bytesToString)(new Uint8Array(this.data)),s=`url(data:${this.mimetype};base64,${btoa(p)});`,e=`@font-face {font-family:"${this.loadedName}";src:${s}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,s),e}getPathGenerator(p,s){if(void 0!==this.compiledGlyphs[s])return this.compiledGlyphs[s];let e,r;try{e=p.get(this.loadedName+"_path_"+s)}catch(y){if(!this.ignoreErrors)throw y;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.font}),(0,c.warn)(`getPathGenerator - ignoring character: "${y}".`),this.compiledGlyphs[s]=function(t,a){}}if(this.isEvalSupported&&c.IsEvalSupportedCached.value){let y,t="";for(let a=0,n=e.length;a<n;a++)r=e[a],y=void 0!==r.args?r.args.join(","):"",t+="c."+r.cmd+"("+y+");\n";return this.compiledGlyphs[s]=new Function("c","size",t)}return this.compiledGlyphs[s]=function(y,t){for(let a=0,n=e.length;a<n;a++)r=e[a],"scale"===r.cmd&&(r.args=[t,-t]),y[r.cmd].apply(y,r.args)}}}},function(K,o,w){"use strict";const c=Object.create(null);{const{isNodeJS:k}=w(7),N=typeof navigator<"u"&&navigator.userAgent||"",P=/Trident/.test(N),R=/CriOS/.test(N);(P||R)&&(c.disableCreateObjectURL=!0),k&&(c.disableFontFace=!0,c.nativeImageDecoderSupport="none")}o.apiCompatibilityParams=Object.freeze(c)},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const c="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;o.isNodeJS=c},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var c=w(1),k=w(9),R=4096,p=.65,r=16;function y(g){g.mozCurrentTransform||(g._originalSave=g.save,g._originalRestore=g.restore,g._originalRotate=g.rotate,g._originalScale=g.scale,g._originalTranslate=g.translate,g._originalTransform=g.transform,g._originalSetTransform=g.setTransform,g._transformMatrix=g._transformMatrix||[1,0,0,1,0,0],g._transformStack=[],Object.defineProperty(g,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(g,"mozCurrentTransformInverse",{get:function(){var m=this._transformMatrix,C=m[0],u=m[1],d=m[2],S=m[3],_=m[4],f=m[5],A=C*S-u*d,x=u*d-C*S;return[S/A,u/x,d/x,C/A,(S*_-d*f)/x,(u*_-C*f)/A]}}),g.save=function(){var m=this._transformMatrix;this._transformStack.push(m),this._transformMatrix=m.slice(0,6),this._originalSave()},g.restore=function(){var m=this._transformStack.pop();m&&(this._transformMatrix=m,this._originalRestore())},g.translate=function(m,C){var u=this._transformMatrix;u[4]=u[0]*m+u[2]*C+u[4],u[5]=u[1]*m+u[3]*C+u[5],this._originalTranslate(m,C)},g.scale=function(m,C){var u=this._transformMatrix;u[0]=u[0]*m,u[1]=u[1]*m,u[2]=u[2]*C,u[3]=u[3]*C,this._originalScale(m,C)},g.transform=function(m,C,u,d,S,_){var f=this._transformMatrix;this._transformMatrix=[f[0]*m+f[2]*C,f[1]*m+f[3]*C,f[0]*u+f[2]*d,f[1]*u+f[3]*d,f[0]*S+f[2]*_+f[4],f[1]*S+f[3]*_+f[5]],g._originalTransform(m,C,u,d,S,_)},g.setTransform=function(m,C,u,d,S,_){this._transformMatrix=[m,C,u,d,S,_],g._originalSetTransform(m,C,u,d,S,_)},g.rotate=function(m){var C=Math.cos(m),u=Math.sin(m),d=this._transformMatrix;this._transformMatrix=[d[0]*C+d[2]*u,d[1]*C+d[3]*u,d[0]*-u+d[2]*C,d[1]*-u+d[3]*C,d[4],d[5]],this._originalRotate(m)})}var t=function(){function l(m){this.canvasFactory=m,this.cache=Object.create(null)}return l.prototype={getCanvas:function(C,u,d,S){var _;return void 0!==this.cache[C]?(this.canvasFactory.reset(_=this.cache[C],u,d),_.context.setTransform(1,0,0,1,0,0)):(_=this.canvasFactory.create(u,d),this.cache[C]=_),S&&y(_.context),_},clear(){for(var m in this.cache)this.canvasFactory.destroy(this.cache[m]),delete this.cache[m]}},l}(),n=function(){function l(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return l.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(C,u){this.x=C,this.y=u}},l}(),i=function(){function C(b,T,E,F,M,L){this.ctx=b,this.current=new n,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=T,this.objs=E,this.canvasFactory=F,this.webGLContext=M,this.imageLayer=L,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new t(this.canvasFactory),b&&y(b),this._cachedGetSinglePixelWidth=null}function u(b,T){if(typeof ImageData<"u"&&T instanceof ImageData)b.putImageData(T,0,0);else{var $,se,W,H,X,E=T.height,F=T.width,M=E%r,L=(E-M)/r,B=0===M?L:L+1,G=b.createImageData(F,r),z=0,Q=T.data,ie=G.data;if(T.kind===c.ImageKind.GRAYSCALE_1BPP){var Z=Q.byteLength,V=new Uint32Array(ie.buffer,0,ie.byteLength>>2),Y=V.length,te=F+7>>3,re=4294967295,ee=c.IsLittleEndianCached.value?4278190080:255;for(se=0;se<B;se++){for(H=se<L?r:M,$=0,W=0;W<H;W++){for(var oe=Z-z,fe=0,he=oe>te?F:8*oe-7,ve=-8&he,me=0,pe=0;fe<ve;fe+=8)pe=Q[z++],V[$++]=128&pe?re:ee,V[$++]=64&pe?re:ee,V[$++]=32&pe?re:ee,V[$++]=16&pe?re:ee,V[$++]=8&pe?re:ee,V[$++]=4&pe?re:ee,V[$++]=2&pe?re:ee,V[$++]=1&pe?re:ee;for(;fe<he;fe++)0===me&&(pe=Q[z++],me=128),V[$++]=pe&me?re:ee,me>>=1}for(;$<Y;)V[$++]=0;b.putImageData(G,0,se*r)}}else if(T.kind===c.ImageKind.RGBA_32BPP){for(W=0,X=F*r*4,se=0;se<L;se++)ie.set(Q.subarray(z,z+X)),z+=X,b.putImageData(G,0,W),W+=r;se<B&&(ie.set(Q.subarray(z,z+(X=F*M*4))),b.putImageData(G,0,W))}else{if(T.kind!==c.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${T.kind}`);for(X=F*(H=r),se=0;se<B;se++){for(se>=L&&(X=F*(H=M)),$=0,W=X;W--;)ie[$++]=Q[z++],ie[$++]=Q[z++],ie[$++]=Q[z++],ie[$++]=255;b.putImageData(G,0,se*r)}}}}function d(b,T){for(var E=T.height,F=T.width,M=E%r,L=(E-M)/r,B=0===M?L:L+1,G=b.createImageData(F,r),z=0,$=T.data,Q=G.data,ie=0;ie<B;ie++){for(var se=ie<L?r:M,W=3,H=0;H<se;H++)for(var X=0,Z=0;Z<F;Z++){if(!X){var V=$[z++];X=128}Q[W]=V&X?0:255,W+=4,X>>=1}b.putImageData(G,0,ie*r)}}function S(b,T){for(var E=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],F=0,M=E.length;F<M;F++){var L=E[F];void 0!==b[L]&&(T[L]=b[L])}void 0!==b.setLineDash&&(T.setLineDash(b.getLineDash()),T.lineDashOffset=b.lineDashOffset)}function _(b){b.strokeStyle="#000000",b.fillStyle="#000000",b.fillRule="nonzero",b.globalAlpha=1,b.lineWidth=1,b.lineCap="butt",b.lineJoin="miter",b.miterLimit=10,b.globalCompositeOperation="source-over",b.font="10px sans-serif",void 0!==b.setLineDash&&(b.setLineDash([]),b.lineDashOffset=0)}function f(b,T,E,F){for(var M=b.length,L=3;L<M;L+=4){var B=b[L];if(0===B)b[L-3]=T,b[L-2]=E,b[L-1]=F;else if(B<255){var G=255-B;b[L-3]=b[L-3]*B+T*G>>8,b[L-2]=b[L-2]*B+E*G>>8,b[L-1]=b[L-1]*B+F*G>>8}}}function A(b,T,E){for(var F=b.length,L=3;L<F;L+=4)T[L]=T[L]*(E?E[b[L]]:b[L])*.00392156862745098|0}function x(b,T,E){for(var F=b.length,M=3;M<F;M+=4){var L=77*b[M-3]+152*b[M-2]+28*b[M-1];T[M]=E?T[M]*E[L>>8]>>8:T[M]*L>>16}}function I(b,T,E,F){var M=T.canvas,L=T.context;b.setTransform(T.scaleX,0,0,T.scaleY,T.offsetX,T.offsetY);var B=T.backdrop||null;if(!T.transferMap&&F.isEnabled){const G=F.composeSMask({layer:E.canvas,mask:M,properties:{subtype:T.subtype,backdrop:B}});return b.setTransform(1,0,0,1,0,0),void b.drawImage(G,T.offsetX,T.offsetY)}(function D(b,T,E,F,M,L,B){var ie,G=!!L,z=G?L[0]:0,$=G?L[1]:0,Q=G?L[2]:0;ie="Luminosity"===M?x:A;for(var W=Math.min(F,Math.ceil(1048576/E)),H=0;H<F;H+=W){var X=Math.min(W,F-H),Z=b.getImageData(0,H,E,X),V=T.getImageData(0,H,E,X);G&&f(Z.data,z,$,Q),ie(Z.data,V.data,B),b.putImageData(V,0,H)}})(L,E,M.width,M.height,T.subtype,B,T.transferMap),b.drawImage(M,0,0)}var q=["butt","round","square"],U=["miter","round","bevel"],j={},v={};for(var O in C.prototype={beginDrawing({transform:b,viewport:T,transparency:E=!1,background:F=null}){var M=this.ctx.canvas.width,L=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=F||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,M,L),this.ctx.restore(),E){var B=this.cachedCanvases.getCanvas("transparent",M,L,!0);this.compositeCtx=this.ctx,this.transparentCanvas=B.canvas,this.ctx=B.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),_(this.ctx),b&&this.ctx.transform.apply(this.ctx,b),this.ctx.transform.apply(this.ctx,T.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(T,E,F,M){var L=T.argsArray,B=T.fnArray,G=E||0,z=L.length;if(z===G)return G;for(var H,$=z-G>10&&"function"==typeof F,Q=$?Date.now()+15:0,ie=0,se=this.commonObjs,W=this.objs;;){if(void 0!==M&&G===M.nextBreakPoint)return M.breakIt(G,F),G;if((H=B[G])!==c.OPS.dependency)this[H].apply(this,L[G]);else for(const X of L[G]){const Z=X.startsWith("g_")?se:W;if(!Z.has(X))return Z.get(X,F),G}if(++G===z)return G;if($&&++ie>10){if(Date.now()>Q)return F(),G;ie=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(T){this.current.lineWidth=T,this.ctx.lineWidth=T},setLineCap:function(T){this.ctx.lineCap=q[T]},setLineJoin:function(T){this.ctx.lineJoin=U[T]},setMiterLimit:function(T){this.ctx.miterLimit=T},setDash:function(T,E){var F=this.ctx;void 0!==F.setLineDash&&(F.setLineDash(T),F.lineDashOffset=E)},setRenderingIntent(b){},setFlatness(b){},setGState:function(T){for(var E=0,F=T.length;E<F;E++){var M=T[E],B=M[1];switch(M[0]){case"LW":this.setLineWidth(B);break;case"LC":this.setLineCap(B);break;case"LJ":this.setLineJoin(B);break;case"ML":this.setMiterLimit(B);break;case"D":this.setDash(B[0],B[1]);break;case"RI":this.setRenderingIntent(B);break;case"FL":this.setFlatness(B);break;case"Font":this.setFont(B[0],B[1]);break;case"CA":this.current.strokeAlpha=M[1];break;case"ca":this.current.fillAlpha=M[1],this.ctx.globalAlpha=M[1];break;case"BM":this.ctx.globalCompositeOperation=B;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=B?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var T=this.current.activeSMask,L=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,T.canvas.width,T.canvas.height,!0),B=this.ctx,G=B.mozCurrentTransform;this.ctx.save();var z=L.context;z.scale(1/T.scaleX,1/T.scaleY),z.translate(-T.offsetX,-T.offsetY),z.transform.apply(z,G),T.startTransformInverse=z.mozCurrentTransformInverse,S(B,z),this.ctx=z,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(B),this.groupLevel++},suspendSMaskGroup:function(){var T=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),I(this.ctx,this.current.activeSMask,T,this.webGLContext),this.ctx.restore(),this.ctx.save(),S(T,this.ctx),this.current.resumeSMaskCtx=T;var E=c.Util.transform(this.current.activeSMask.startTransformInverse,T.mozCurrentTransform);this.ctx.transform.apply(this.ctx,E),T.save(),T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,T.canvas.width,T.canvas.height),T.restore()},resumeSMaskGroup:function(){var E=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(E),this.groupLevel++},endSMaskGroup:function(){var T=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),I(this.ctx,this.current.activeSMask,T,this.webGLContext),this.ctx.restore(),S(T,this.ctx);var E=c.Util.transform(this.current.activeSMask.startTransformInverse,T.mozCurrentTransform);this.ctx.transform.apply(this.ctx,E)},save:function(){this.ctx.save();var T=this.current;this.stateStack.push(T),this.current=T.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(T,E,F,M,L,B){this.ctx.transform(T,E,F,M,L,B),this._cachedGetSinglePixelWidth=null},constructPath:function(T,E){for(var F=this.ctx,M=this.current,L=M.x,B=M.y,G=0,z=0,$=T.length;G<$;G++)switch(0|T[G]){case c.OPS.rectangle:L=E[z++],B=E[z++];var Q=E[z++],ie=E[z++];0===Q&&(Q=this.getSinglePixelWidth()),0===ie&&(ie=this.getSinglePixelWidth());var se=L+Q,W=B+ie;this.ctx.moveTo(L,B),this.ctx.lineTo(se,B),this.ctx.lineTo(se,W),this.ctx.lineTo(L,W),this.ctx.lineTo(L,B),this.ctx.closePath();break;case c.OPS.moveTo:L=E[z++],B=E[z++],F.moveTo(L,B);break;case c.OPS.lineTo:L=E[z++],B=E[z++],F.lineTo(L,B);break;case c.OPS.curveTo:F.bezierCurveTo(E[z],E[z+1],E[z+2],E[z+3],L=E[z+4],B=E[z+5]),z+=6;break;case c.OPS.curveTo2:F.bezierCurveTo(L,B,E[z],E[z+1],E[z+2],E[z+3]),L=E[z+2],B=E[z+3],z+=4;break;case c.OPS.curveTo3:F.bezierCurveTo(E[z],E[z+1],L=E[z+2],B=E[z+3],L,B),z+=4;break;case c.OPS.closePath:F.closePath()}M.setCurrentPoint(L,B)},closePath:function(){this.ctx.closePath()},stroke:function(T){T=!(typeof T<"u")||T;var E=this.ctx,F=this.current.strokeColor;if(E.globalAlpha=this.current.strokeAlpha,F&&F.hasOwnProperty("type")&&"Pattern"===F.type){E.save();const L=c.Util.singularValueDecompose2dScale(E.mozCurrentTransform)[0];E.strokeStyle=F.getPattern(E,this),E.lineWidth=Math.max(this.getSinglePixelWidth()*p,this.current.lineWidth*L),E.stroke(),E.restore()}else E.lineWidth=Math.max(this.getSinglePixelWidth()*p,this.current.lineWidth),E.stroke();T&&this.consumePath(),E.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(T){T=!(typeof T<"u")||T;var E=this.ctx,F=this.current.fillColor,L=!1;this.current.patternFill&&(E.save(),this.baseTransform&&E.setTransform.apply(E,this.baseTransform),E.fillStyle=F.getPattern(E,this),L=!0),this.pendingEOFill?(E.fill("evenodd"),this.pendingEOFill=!1):E.fill(),L&&E.restore(),T&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=j},eoClip:function(){this.pendingClip=v},beginText:function(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var T=this.pendingTextPaths,E=this.ctx;if(void 0!==T){E.save(),E.beginPath();for(var F=0;F<T.length;F++){var M=T[F];E.setTransform.apply(E,M.transform),E.translate(M.x,M.y),M.addToPath(E,M.fontSize)}E.restore(),E.clip(),E.beginPath(),delete this.pendingTextPaths}else E.beginPath()},setCharSpacing:function(T){this.current.charSpacing=T},setWordSpacing:function(T){this.current.wordSpacing=T},setHScale:function(T){this.current.textHScale=T/100},setLeading:function(T){this.current.leading=-T},setFont:function(T,E){var F=this.commonObjs.get(T),M=this.current;if(!F)throw new Error(`Can't find font for ${T}`);if(M.fontMatrix=F.fontMatrix?F.fontMatrix:c.FONT_IDENTITY_MATRIX,(0===M.fontMatrix[0]||0===M.fontMatrix[3])&&(0,c.warn)("Invalid font matrix for font "+T),E<0?(E=-E,M.fontDirection=-1):M.fontDirection=1,this.current.font=F,this.current.fontSize=E,F.isType3Font)return;let B="normal";F.black?B="900":F.bold&&(B="bold");var G=F.italic?"italic":"normal",z=`"${F.loadedName||"sans-serif"}", ${F.fallbackName}`;let $=E;E<16?$=16:E>100&&($=100),this.current.fontSizeScale=E/$,this.ctx.font=`${G} ${B} ${$}px ${z}`},setTextRenderingMode:function(T){this.current.textRenderingMode=T},setTextRise:function(T){this.current.textRise=T},moveText:function(T,E){this.current.x=this.current.lineX+=T,this.current.y=this.current.lineY+=E},setLeadingMoveText:function(T,E){this.setLeading(-E),this.moveText(T,E)},setTextMatrix:function(T,E,F,M,L,B){this.current.textMatrix=[T,E,F,M,L,B],this.current.textMatrixScale=Math.sqrt(T*T+E*E),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(b,T,E,F){var M=this.ctx,L=this.current,B=L.font,G=L.textRenderingMode,z=L.fontSize/L.fontSizeScale,$=G&c.TextRenderingMode.FILL_STROKE_MASK,Q=!!(G&c.TextRenderingMode.ADD_TO_PATH_FLAG);const ie=L.patternFill&&B.data;var se;(B.disableFontFace||Q||ie)&&(se=B.getPathGenerator(this.commonObjs,b)),B.disableFontFace||ie?(M.save(),M.translate(T,E),M.beginPath(),se(M,z),F&&M.setTransform.apply(M,F),($===c.TextRenderingMode.FILL||$===c.TextRenderingMode.FILL_STROKE)&&M.fill(),($===c.TextRenderingMode.STROKE||$===c.TextRenderingMode.FILL_STROKE)&&M.stroke(),M.restore()):(($===c.TextRenderingMode.FILL||$===c.TextRenderingMode.FILL_STROKE)&&M.fillText(b,T,E),($===c.TextRenderingMode.STROKE||$===c.TextRenderingMode.FILL_STROKE)&&M.strokeText(b,T,E)),Q&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:M.mozCurrentTransform,x:T,y:E,fontSize:z,addToPath:se})},get isFontSubpixelAAEnabled(){const{context:b}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);b.scale(1.5,1),b.fillText("I",0,10);for(var T=b.getImageData(0,0,10,10).data,E=!1,F=3;F<T.length;F+=4)if(T[F]>0&&T[F]<255){E=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",E)},showText:function(T){var E=this.current,F=E.font;if(F.isType3Font)return this.showType3Text(T);var M=E.fontSize;if(0===M)return;var L=this.ctx,B=E.fontSizeScale,G=E.charSpacing,z=E.wordSpacing,$=E.fontDirection,Q=E.textHScale*$,ie=T.length,se=F.vertical,W=se?1:-1,H=F.defaultVMetrics,X=M*E.fontMatrix[0],Z=E.textRenderingMode===c.TextRenderingMode.FILL&&!F.disableFontFace&&!E.patternFill;let V;if(L.save(),E.patternFill){L.save();const ce=E.fillColor.getPattern(L,this);V=L.mozCurrentTransform,L.restore(),L.fillStyle=ce}L.transform.apply(L,E.textMatrix),L.translate(E.x,E.y+E.textRise),L.scale(Q,$>0?-1:1);var Y=E.lineWidth,te=E.textMatrixScale;if(0===te||0===Y){var re=E.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(re===c.TextRenderingMode.STROKE||re===c.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Y=this.getSinglePixelWidth()*p)}else Y/=te;1!==B&&(L.scale(B,B),Y/=B),L.lineWidth=Y;var oe,ee=0;for(oe=0;oe<ie;++oe){var fe=T[oe];if((0,c.isNum)(fe))ee+=W*fe*M/1e3;else{var Se,be,le,J,he=!1,ve=(fe.isSpace?z:0)+G,me=fe.fontChar,pe=fe.accent,Te=fe.width;if(se?(le=fe.vmetric||H,J=fe.vmetric?le[1]:.5*Te,Te=le?-le[0]:Te,Se=(J=-J*X)/B,be=(ee+le[2]*X)/B):(Se=ee/B,be=0),F.remeasure&&Te>0){var ue=1e3*L.measureText(me).width/M*B;if(Te<ue&&this.isFontSubpixelAAEnabled){var de=Te/ue;he=!0,L.save(),L.scale(de,1),Se/=de}else Te!==ue&&(Se+=(Te-ue)/2e3*M/B)}(fe.isInFont||F.missingFile)&&(Z&&!pe?L.fillText(me,Se,be):(this.paintChar(me,Se,be,V),pe&&this.paintChar(pe.fontChar,Se+pe.offset.x/B,be-pe.offset.y/B,V))),ee+=se?Te*X-ve*$:Te*X+ve*$,he&&L.restore()}}se?E.y-=ee:E.x+=ee*Q,L.restore()},showType3Text:function(T){var H,X,Z,V,E=this.ctx,F=this.current,M=F.font,L=F.fontSize,B=F.fontDirection,G=M.vertical?1:-1,z=F.charSpacing,$=F.wordSpacing,Q=F.textHScale*B,ie=F.fontMatrix||c.FONT_IDENTITY_MATRIX,se=T.length;if(F.textRenderingMode!==c.TextRenderingMode.INVISIBLE&&0!==L){for(this._cachedGetSinglePixelWidth=null,E.save(),E.transform.apply(E,F.textMatrix),E.translate(F.x,F.y),E.scale(Q,B),H=0;H<se;++H)if((0,c.isNum)(X=T[H]))this.ctx.translate(V=G*X*L/1e3,0),F.x+=V*Q;else{var Y=(X.isSpace?$:0)+z,te=M.charProcOperatorList[X.operatorListId];if(te){this.processingType3=X,this.save(),E.scale(L,L),E.transform.apply(E,ie),this.executeOperatorList(te),this.restore();var re=c.Util.applyTransform([X.width,0],ie);E.translate(Z=re[0]*L+Y,0),F.x+=Z*Q}else(0,c.warn)(`Type3 character "${X.operatorListId}" is not available.`)}E.restore(),this.processingType3=null}},setCharWidth:function(T,E){},setCharWidthAndBounds:function(T,E,F,M,L,B){this.ctx.rect(F,M,L-F,B-M),this.clip(),this.endPath()},getColorN_Pattern:function(T){var E;if("TilingPattern"===T[0]){var F=T[1],M=this.baseTransform||this.ctx.mozCurrentTransform.slice();E=new k.TilingPattern(T,F,this.ctx,{createCanvasGraphics:B=>new C(B,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)},M)}else E=(0,k.getShadingPatternFromIR)(T);return E},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(T,E,F){var M=c.Util.makeCssRgb(T,E,F);this.ctx.strokeStyle=M,this.current.strokeColor=M},setFillRGBColor:function(T,E,F){var M=c.Util.makeCssRgb(T,E,F);this.ctx.fillStyle=M,this.current.fillColor=M,this.current.patternFill=!1},shadingFill:function(T){var E=this.ctx;this.save();var F=(0,k.getShadingPatternFromIR)(T);E.fillStyle=F.getPattern(E,this,!0);var M=E.mozCurrentTransformInverse;if(M){var L=E.canvas,B=L.width,G=L.height,z=c.Util.applyTransform([0,0],M),$=c.Util.applyTransform([0,G],M),Q=c.Util.applyTransform([B,0],M),ie=c.Util.applyTransform([B,G],M),se=Math.min(z[0],$[0],Q[0],ie[0]),W=Math.min(z[1],$[1],Q[1],ie[1]),H=Math.max(z[0],$[0],Q[0],ie[0]),X=Math.max(z[1],$[1],Q[1],ie[1]);this.ctx.fillRect(se,W,H-se,X-W)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,c.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,c.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(T,E){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(T)&&6===T.length&&this.transform.apply(this,T),this.baseTransform=this.ctx.mozCurrentTransform,E&&(this.ctx.rect(E[0],E[1],E[2]-E[0],E[3]-E[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(T){this.save();var E=this.ctx;T.isolated||(0,c.info)("TODO: Support non-isolated groups."),T.knockout&&(0,c.warn)("Knockout groups not supported.");var F=E.mozCurrentTransform;if(T.matrix&&E.transform.apply(E,T.matrix),!T.bbox)throw new Error("Bounding box is required.");var M=c.Util.getAxialAlignedBoundingBox(T.bbox,E.mozCurrentTransform);M=c.Util.intersect(M,[0,0,E.canvas.width,E.canvas.height])||[0,0,0,0];var B=Math.floor(M[0]),G=Math.floor(M[1]),z=Math.max(Math.ceil(M[2])-B,1),$=Math.max(Math.ceil(M[3])-G,1),Q=1,ie=1;z>R&&(Q=z/R,z=R),$>R&&(ie=$/R,$=R);var se="groupAt"+this.groupLevel;T.smask&&(se+="_smask_"+this.smaskCounter++%2);var W=this.cachedCanvases.getCanvas(se,z,$,!0),H=W.context;H.scale(1/Q,1/ie),H.translate(-B,-G),H.transform.apply(H,F),T.smask?this.smaskStack.push({canvas:W.canvas,context:H,offsetX:B,offsetY:G,scaleX:Q,scaleY:ie,subtype:T.smask.subtype,backdrop:T.smask.backdrop,transferMap:T.smask.transferMap||null,startTransformInverse:null}):(E.setTransform(1,0,0,1,0,0),E.translate(B,G),E.scale(Q,ie)),S(E,H),this.ctx=H,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(E),this.groupLevel++,this.current.activeSMask=null},endGroup:function(T){this.groupLevel--;var E=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,T.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(E.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(T,E,F){this.save(),_(this.ctx),this.current=new n,Array.isArray(T)&&4===T.length&&(this.ctx.rect(T[0],T[1],T[2]-T[0],T[3]-T[1]),this.clip(),this.endPath()),this.transform.apply(this,E),this.transform.apply(this,F)},endAnnotation:function(){this.restore()},paintJpegXObject:function(T,E,F){const M=this.processingType3?this.commonObjs.get(T):this.objs.get(T);if(M){this.save();var L=this.ctx;if(L.scale(1/E,-1/F),L.drawImage(M,0,0,M.width,M.height,0,-F,E,F),this.imageLayer){var B=L.mozCurrentTransformInverse,G=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:T,left:G[0],top:G[1],width:E/B[0],height:F/B[3]})}this.restore()}else(0,c.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(T){var E=this.ctx,F=T.width,M=T.height,L=this.current.fillColor,B=this.current.patternFill,G=this.processingType3;if(G&&void 0===G.compiled&&(G.compiled=F<=1e3&&M<=1e3?function a(g){var u,d,S,U,m=g.width,C=g.height,_=m+1,f=new Uint8Array(_*(C+1)),A=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),x=m+7&-8,D=g.data,I=new Uint8Array(x*C),q=0;for(u=0,U=D.length;u<U;u++)for(var j=128,v=D[u];j>0;)I[q++]=v&j?0:255,j>>=1;var O=0;for(0!==I[q=0]&&(f[0]=1,++O),d=1;d<m;d++)I[q]!==I[q+1]&&(f[d]=I[q]?2:1,++O),q++;for(0!==I[q]&&(f[d]=2,++O),u=1;u<C;u++){S=u*_,I[(q=u*x)-x]!==I[q]&&(f[S]=I[q]?1:8,++O);var b=(I[q]?4:0)+(I[q-x]?8:0);for(d=1;d<m;d++)A[b=(b>>2)+(I[q+1]?4:0)+(I[q-x+1]?8:0)]&&(f[S+d]=A[b],++O),q++;if(I[q-x]!==I[q]&&(f[S+d]=I[q]?2:4,++O),O>1e3)return null}for(S=u*_,0!==I[q=x*(C-1)]&&(f[S]=8,++O),d=1;d<m;d++)I[q]!==I[q+1]&&(f[S+d]=I[q]?4:8,++O),q++;if(0!==I[q]&&(f[S+d]=4,++O),O>1e3)return null;var T=new Int32Array([0,_,-1,0,-_,0,0,0,1]),E=[];for(u=0;O&&u<=C;u++){for(var F=u*_,M=F+m;F<M&&!f[F];)F++;if(F!==M){var z,L=[F%_,u],B=f[F],G=F;do{var $=T[B];do{F+=$}while(!f[F]);5!==(z=f[F])&&10!==z?(B=z,f[F]=0):f[F]&=(B=z&51*B>>4)>>2|B<<2,L.push(F%_),L.push(F/_|0),f[F]||--O}while(G!==F);E.push(L),--u}}return function(ie){ie.save(),ie.scale(1/m,-1/C),ie.translate(0,-C),ie.beginPath();for(var se=0,W=E.length;se<W;se++){var H=E[se];ie.moveTo(H[0],H[1]);for(var X=2,Z=H.length;X<Z;X+=2)ie.lineTo(H[X],H[X+1])}ie.fill(),ie.beginPath(),ie.restore()}}({data:T.data,width:F,height:M}):null),G&&G.compiled)G.compiled(E);else{var z=this.cachedCanvases.getCanvas("maskCanvas",F,M),$=z.context;$.save(),d($,T),$.globalCompositeOperation="source-in",$.fillStyle=B?L.getPattern($,this):L,$.fillRect(0,0,F,M),$.restore(),this.paintInlineImageXObject(z.canvas)}},paintImageMaskXObjectRepeat:function(T,E,F,M){var L=T.width,B=T.height,G=this.current.fillColor,z=this.current.patternFill,$=this.cachedCanvases.getCanvas("maskCanvas",L,B),Q=$.context;Q.save(),d(Q,T),Q.globalCompositeOperation="source-in",Q.fillStyle=z?G.getPattern(Q,this):G,Q.fillRect(0,0,L,B),Q.restore();for(var ie=this.ctx,se=0,W=M.length;se<W;se+=2)ie.save(),ie.transform(E,0,0,F,M[se],M[se+1]),ie.scale(1,-1),ie.drawImage($.canvas,0,0,L,B,0,-1,1,1),ie.restore()},paintImageMaskXObjectGroup:function(T){for(var E=this.ctx,F=this.current.fillColor,M=this.current.patternFill,L=0,B=T.length;L<B;L++){var G=T[L],z=G.width,$=G.height,Q=this.cachedCanvases.getCanvas("maskCanvas",z,$),ie=Q.context;ie.save(),d(ie,G),ie.globalCompositeOperation="source-in",ie.fillStyle=M?F.getPattern(ie,this):F,ie.fillRect(0,0,z,$),ie.restore(),E.save(),E.transform.apply(E,G.transform),E.scale(1,-1),E.drawImage(Q.canvas,0,0,z,$,0,-1,1,1),E.restore()}},paintImageXObject:function(T){const E=this.processingType3?this.commonObjs.get(T):this.objs.get(T);E?this.paintInlineImageXObject(E):(0,c.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(T,E,F,M){const L=this.processingType3?this.commonObjs.get(T):this.objs.get(T);if(L){for(var B=L.width,G=L.height,z=[],$=0,Q=M.length;$<Q;$+=2)z.push({transform:[E,0,0,F,M[$],M[$+1]],x:0,y:0,w:B,h:G});this.paintInlineImageXObjectGroup(L,z)}else(0,c.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(T){var E=T.width,F=T.height,M=this.ctx;this.save(),M.scale(1/E,-1/F);var se,W,L=M.mozCurrentTransformInverse,B=L[0],G=L[1],z=Math.max(Math.sqrt(B*B+G*G),1),$=L[2],Q=L[3],ie=Math.max(Math.sqrt($*$+Q*Q),1);if("function"==typeof HTMLElement&&T instanceof HTMLElement||!T.data)se=T;else{var H=(W=this.cachedCanvases.getCanvas("inlineImage",E,F)).context;u(H,T),se=W.canvas}for(var X=E,Z=F,V="prescale1";z>2&&X>1||ie>2&&Z>1;){var Y=X,te=Z;z>2&&X>1&&(z/=X/(Y=Math.ceil(X/2))),ie>2&&Z>1&&(ie/=Z/(te=Math.ceil(Z/2))),(H=(W=this.cachedCanvases.getCanvas(V,Y,te)).context).clearRect(0,0,Y,te),H.drawImage(se,0,0,X,Z,0,0,Y,te),se=W.canvas,X=Y,Z=te,V="prescale1"===V?"prescale2":"prescale1"}if(M.drawImage(se,0,0,X,Z,0,-F,E,F),this.imageLayer){var re=this.getCanvasPosition(0,-F);this.imageLayer.appendImage({imgData:T,left:re[0],top:re[1],width:E/L[0],height:F/L[3]})}this.restore()},paintInlineImageXObjectGroup:function(T,E){var F=this.ctx,M=T.width,L=T.height,B=this.cachedCanvases.getCanvas("inlineImage",M,L);u(B.context,T);for(var z=0,$=E.length;z<$;z++){var Q=E[z];if(F.save(),F.transform.apply(F,Q.transform),F.scale(1,-1),F.drawImage(B.canvas,Q.x,Q.y,Q.w,Q.h,0,-1,1,1),this.imageLayer){var ie=this.getCanvasPosition(Q.x,Q.y);this.imageLayer.appendImage({imgData:T,left:ie[0],top:ie[1],width:M,height:L})}F.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,c.warn)("Unsupported 'paintXObject' command.")},markPoint:function(T){},markPointProps:function(T,E){},beginMarkedContent:function(T){},beginMarkedContentProps:function(T,E){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var T=this.ctx;this.pendingClip&&(this.pendingClip===v?T.clip("evenodd"):T.clip(),this.pendingClip=null),T.beginPath()},getSinglePixelWidth(b){if(null===this._cachedGetSinglePixelWidth){const T=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(T[0]*T[0]+T[1]*T[1],T[2]*T[2]+T[3]*T[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(T,E){var F=this.ctx.mozCurrentTransform;return[F[0]*T+F[2]*E+F[4],F[1]*T+F[3]*E+F[5]]}},c.OPS)C.prototype[c.OPS[O]]=C.prototype[O];return C}();o.CanvasGraphics=i},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getShadingPatternFromIR=function R(s){var e=k[s[0]];if(!e)throw new Error(`Unknown IR type: ${s[0]}`);return e.fromIR(s)},o.TilingPattern=void 0;var c=w(1),k={};function N(s,e){if(!e||typeof Path2D>"u")return;const r=e[2]-e[0],y=e[3]-e[1],t=new Path2D;t.rect(e[0],e[1],r,y),s.clip(t)}k.RadialAxial={fromIR:function(e){var r=e[1],y=e[2],t=e[3],a=e[4],n=e[5],i=e[6],g=e[7];return{type:"Pattern",getPattern:function(m){var C;N(m,y),"axial"===r?C=m.createLinearGradient(a[0],a[1],n[0],n[1]):"radial"===r&&(C=m.createRadialGradient(a[0],a[1],i,n[0],n[1],g));for(var u=0,d=t.length;u<d;++u){var S=t[u];C.addColorStop(S[0],S[1])}return C}}}};var P=function(){function e(t,a,n,i,g,l,m,C){var f,u=a.coords,d=a.colors,S=t.data,_=4*t.width;u[n+1]>u[i+1]&&(f=n,n=i,i=f,f=l,l=m,m=f),u[i+1]>u[g+1]&&(f=i,i=g,g=f,f=m,m=C,C=f),u[n+1]>u[i+1]&&(f=n,n=i,i=f,f=l,l=m,m=f);var A=(u[n]+a.offsetX)*a.scaleX,x=(u[n+1]+a.offsetY)*a.scaleY,D=(u[i]+a.offsetX)*a.scaleX,I=(u[i+1]+a.offsetY)*a.scaleY,q=(u[g]+a.offsetX)*a.scaleX,U=(u[g+1]+a.offsetY)*a.scaleY;if(!(x>=U))for(var z,$,Q,ie,se,W,H,X,j=d[l],v=d[l+1],O=d[l+2],b=d[m],T=d[m+1],E=d[m+2],F=d[C],M=d[C+1],L=d[C+2],B=Math.round(x),G=Math.round(U),Z=B;Z<=G;Z++){if(Z<I){let oe;oe=Z<x?0:x===I?1:(x-Z)/(x-I),z=A-(A-D)*oe,$=j-(j-b)*oe,Q=v-(v-T)*oe,ie=O-(O-E)*oe}else{let oe;oe=Z>U?1:I===U?0:(I-Z)/(I-U),z=D-(D-q)*oe,$=b-(b-F)*oe,Q=T-(T-M)*oe,ie=E-(E-L)*oe}let ee;ee=Z<x?0:Z>U?1:(x-Z)/(x-U),se=A-(A-q)*ee,W=j-(j-F)*ee,H=v-(v-M)*ee,X=O-(O-L)*ee;for(var V=Math.round(Math.min(z,se)),Y=Math.round(Math.max(z,se)),te=_*Z+4*V,re=V;re<=Y;re++){let oe=(z-re)/(z-se);oe<0?oe=0:oe>1&&(oe=1),S[te++]=$-($-W)*oe|0,S[te++]=Q-(Q-H)*oe|0,S[te++]=ie-(ie-X)*oe|0,S[te++]=255}}}function r(t,a,n){var l,m,i=a.coords,g=a.colors;switch(a.type){case"lattice":var C=a.verticesPerRow,u=Math.floor(i.length/C)-1,d=C-1;for(l=0;l<u;l++)for(var S=l*C,_=0;_<d;_++,S++)e(t,n,i[S],i[S+1],i[S+C],g[S],g[S+1],g[S+C]),e(t,n,i[S+C+1],i[S+1],i[S+C],g[S+C+1],g[S+1],g[S+C]);break;case"triangles":for(l=0,m=i.length;l<m;l+=3)e(t,n,i[l],i[l+1],i[l+2],g[l],g[l+1],g[l+2]);break;default:throw new Error("illegal figure")}}return function y(t,a,n,i,g,l,m,C){var b,T,E,F,_=Math.floor(t[0]),f=Math.floor(t[1]),A=Math.ceil(t[2])-_,x=Math.ceil(t[3])-f,D=Math.min(Math.ceil(Math.abs(A*a[0]*1.1)),3e3),I=Math.min(Math.ceil(Math.abs(x*a[1]*1.1)),3e3),q=A/D,U=x/I,j={coords:n,colors:i,offsetX:-_,offsetY:-f,scaleX:1/q,scaleY:1/U},v=D+4,O=I+4;if(C.isEnabled)b=C.drawFigures({width:D,height:I,backgroundColor:l,figures:g,context:j}),(T=m.getCanvas("mesh",v,O,!1)).context.drawImage(b,2,2),b=T.canvas;else{var M=(T=m.getCanvas("mesh",v,O,!1)).context,L=M.createImageData(D,I);if(l){var B=L.data;for(E=0,F=B.length;E<F;E+=4)B[E]=l[0],B[E+1]=l[1],B[E+2]=l[2],B[E+3]=255}for(E=0;E<g.length;E++)r(L,g[E],j);M.putImageData(L,2,2),b=T.canvas}return{canvas:b,offsetX:_-2*q,offsetY:f-2*U,scaleX:q,scaleY:U}}}();k.Mesh={fromIR:function(e){var r=e[2],y=e[3],t=e[4],a=e[5],n=e[6],i=e[7],g=e[8];return{type:"Pattern",getPattern:function(m,C,u){var d;if(N(m,i),u)d=c.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(d=c.Util.singularValueDecompose2dScale(C.baseTransform),n){var S=c.Util.singularValueDecompose2dScale(n);d=[d[0]*S[0],d[1]*S[1]]}var _=P(a,d,r,y,t,u?null:g,C.cachedCanvases,C.webGLContext);return u||(m.setTransform.apply(m,C.baseTransform),n&&m.transform.apply(m,n)),m.translate(_.offsetX,_.offsetY),m.scale(_.scaleX,_.scaleY),m.createPattern(_.canvas,"no-repeat")}}}},k.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var p=function(){function y(t,a,n,i,g){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=a,this.canvasGraphicsFactory=i,this.baseTransform=g,this.type="Pattern",this.ctx=n}return y.prototype={createPatternCanvas:function(a){var n=this.operatorList,i=this.bbox,g=this.xstep,l=this.ystep,m=this.paintType,u=this.color,d=this.canvasGraphicsFactory;(0,c.info)("TilingType: "+this.tilingType);var S=i[0],_=i[1],f=i[2],A=i[3],x=c.Util.singularValueDecompose2dScale(this.matrix),D=c.Util.singularValueDecompose2dScale(this.baseTransform),I=[x[0]*D[0],x[1]*D[1]],q=this.getSizeAndScale(g,this.ctx.canvas.width,I[0]),U=this.getSizeAndScale(l,this.ctx.canvas.height,I[1]),j=a.cachedCanvases.getCanvas("pattern",q.size,U.size,!0),O=d.createCanvasGraphics(j.context);return O.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(O,m,u),O.transform(q.scale,0,0,U.scale,0,0),O.transform(1,0,0,1,-S,-_),this.clipBbox(O,i,S,_,f,A),O.executeOperatorList(n),this.ctx.transform(1,0,0,1,S,_),this.ctx.scale(1/q.scale,1/U.scale),j.canvas},getSizeAndScale:function(a,n,i){a=Math.abs(a);var g=Math.max(3e3,n),l=Math.ceil(a*i);return l>=g?l=g:i=l/a,{scale:i,size:l}},clipBbox:function(a,n,i,g,l,m){Array.isArray(n)&&4===n.length&&(a.ctx.rect(i,g,l-i,m-g),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,n,i){const g=a.ctx,l=a.current;switch(n){case 1:var m=this.ctx;g.fillStyle=m.fillStyle,g.strokeStyle=m.strokeStyle,l.fillColor=m.fillStyle,l.strokeColor=m.strokeStyle;break;case 2:var C=c.Util.makeCssRgb(i[0],i[1],i[2]);g.fillStyle=C,g.strokeStyle=C,l.fillColor=C,l.strokeColor=C;break;default:throw new c.FormatError(`Unsupported paint type: ${n}`)}},getPattern:function(a,n){(a=this.ctx).setTransform.apply(a,this.baseTransform),a.transform.apply(a,this.matrix);var i=this.createPatternCanvas(n);return a.createPattern(i,"repeat")}},y}();o.TilingPattern=p},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const c=Object.create(null);o.GlobalWorkerOptions=c,c.workerPort=void 0===c.workerPort?null:c.workerPort,c.workerSrc=void 0===c.workerSrc?"":c.workerSrc},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var c=w(1);function P(p){if("object"!=typeof p||null===p)return p;switch(p.name){case"AbortException":return new c.AbortException(p.message);case"MissingPDFException":return new c.MissingPDFException(p.message);case"UnexpectedResponseException":return new c.UnexpectedResponseException(p.message,p.status);case"UnknownErrorException":return new c.UnknownErrorException(p.message,p.details);default:return new c.UnknownErrorException(p.message,p.toString())}}o.MessageHandler=class R{constructor(s,e,r){this.sourceName=s,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const t=y.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const n=t.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],1===t.callback)i.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");i.reject(P(t.reason))}return}const a=this.actionHandler[t.action];if(!a)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,i=t.sourceName;new Promise(function(g){g(a(t.data))}).then(function(g){r.postMessage({sourceName:n,targetName:i,callback:1,callbackId:t.callbackId,data:g})},function(g){r.postMessage({sourceName:n,targetName:i,callback:2,callbackId:t.callbackId,reason:P(g)})})}else t.streamId?this._createStreamSink(t):a(t.data)},r.addEventListener("message",this._onComObjOnMessage)}on(s,e){const r=this.actionHandler;if(r[s])throw new Error(`There is already an actionName called "${s}"`);r[s]=e}send(s,e,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,data:e},r)}sendWithPromise(s,e,r){const y=this.callbackId++,t=(0,c.createPromiseCapability)();this.callbackCapabilities[y]=t;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,callbackId:y,data:e},r)}catch(a){t.reject(a)}return t.promise}sendWithStream(s,e,r,y){const t=this.streamId++,a=this.sourceName,n=this.targetName,i=this.comObj;return new ReadableStream({start:g=>{const l=(0,c.createPromiseCapability)();return this.streamControllers[t]={controller:g,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:a,targetName:n,action:s,streamId:t,data:e,desiredSize:g.desiredSize},y),l.promise},pull:g=>{const l=(0,c.createPromiseCapability)();return this.streamControllers[t].pullCall=l,i.postMessage({sourceName:a,targetName:n,stream:6,streamId:t,desiredSize:g.desiredSize}),l.promise},cancel:g=>{(0,c.assert)(g instanceof Error,"cancel must have a valid reason");const l=(0,c.createPromiseCapability)();return this.streamControllers[t].cancelCall=l,this.streamControllers[t].isClosed=!0,i.postMessage({sourceName:a,targetName:n,stream:1,streamId:t,reason:P(g)}),l.promise}},r)}_createStreamSink(s){const e=this,r=this.actionHandler[s.action],y=s.streamId,t=this.sourceName,a=s.sourceName,n=this.comObj,i={enqueue(g,l=1,m){if(this.isCancelled)return;const C=this.desiredSize;this.desiredSize-=l,C>0&&this.desiredSize<=0&&(this.sinkCapability=(0,c.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e._postMessage({sourceName:t,targetName:a,stream:4,streamId:y,chunk:g},m)},close(){this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:t,targetName:a,stream:3,streamId:y}),delete e.streamSinks[y])},error(g){(0,c.assert)(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,n.postMessage({sourceName:t,targetName:a,stream:5,streamId:y,reason:P(g)}))},sinkCapability:(0,c.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:s.desiredSize,ready:null};i.sinkCapability.resolve(),i.ready=i.sinkCapability.promise,this.streamSinks[y]=i,new Promise(function(g){g(r(s.data,i))}).then(function(){n.postMessage({sourceName:t,targetName:a,stream:8,streamId:y,success:!0})},function(g){n.postMessage({sourceName:t,targetName:a,stream:8,streamId:y,reason:P(g)})})}_processStreamMessage(s){const e=s.streamId,r=this.sourceName,y=s.sourceName,t=this.comObj;switch(s.stream){case 8:s.success?this.streamControllers[e].startCall.resolve():this.streamControllers[e].startCall.reject(P(s.reason));break;case 7:s.success?this.streamControllers[e].pullCall.resolve():this.streamControllers[e].pullCall.reject(P(s.reason));break;case 6:if(!this.streamSinks[e]){t.postMessage({sourceName:r,targetName:y,stream:7,streamId:e,success:!0});break}this.streamSinks[e].desiredSize<=0&&s.desiredSize>0&&this.streamSinks[e].sinkCapability.resolve(),this.streamSinks[e].desiredSize=s.desiredSize;const{onPull:a}=this.streamSinks[s.streamId];new Promise(function(i){i(a&&a())}).then(function(){t.postMessage({sourceName:r,targetName:y,stream:7,streamId:e,success:!0})},function(i){t.postMessage({sourceName:r,targetName:y,stream:7,streamId:e,reason:P(i)})});break;case 4:if((0,c.assert)(this.streamControllers[e],"enqueue should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].controller.enqueue(s.chunk);break;case 3:if((0,c.assert)(this.streamControllers[e],"close should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].isClosed=!0,this.streamControllers[e].controller.close(),this._deleteStreamController(e);break;case 5:(0,c.assert)(this.streamControllers[e],"error should have stream controller"),this.streamControllers[e].controller.error(P(s.reason)),this._deleteStreamController(e);break;case 2:s.success?this.streamControllers[e].cancelCall.resolve():this.streamControllers[e].cancelCall.reject(P(s.reason)),this._deleteStreamController(e);break;case 1:if(!this.streamSinks[e])break;const{onCancel:n}=this.streamSinks[s.streamId];new Promise(function(i){i(n&&n(P(s.reason)))}).then(function(){t.postMessage({sourceName:r,targetName:y,stream:2,streamId:e,success:!0})},function(i){t.postMessage({sourceName:r,targetName:y,stream:2,streamId:e,reason:P(i)})}),this.streamSinks[e].sinkCapability.reject(P(s.reason)),this.streamSinks[e].isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(s){await Promise.allSettled([this.streamControllers[s].startCall,this.streamControllers[s].pullCall,this.streamControllers[s].cancelCall].map(function(e){return e&&e.promise})),delete this.streamControllers[s]}_postMessage(s,e){e&&this.postMessageTransfers?this.comObj.postMessage(s,e):this.comObj.postMessage(s)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var c=w(1),k=w(13);o.Metadata=class N{constructor(R){(0,c.assert)("string"==typeof R,"Metadata: input is not a string"),R=this._repair(R);const s=(new k.SimpleXMLParser).parseFromString(R);this._metadataMap=new Map,s&&this._parse(s)}_repair(R){return R.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(p,s){const e=s.replace(/\\([0-3])([0-7])([0-7])/g,function(y,t,a,n){return String.fromCharCode(64*t+8*a+1*n)}).replace(/&(amp|apos|gt|lt|quot);/g,function(y,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${t} isn't defined.`)});let r="";for(let y=0,t=e.length;y<t;y+=2){const a=256*e.charCodeAt(y)+e.charCodeAt(y+1);r+=a>=32&&a<127&&60!==a&&62!==a&&38!==a?String.fromCharCode(a):"&#x"+(65536+a).toString(16).substring(1)+";"}return">"+r})}_parse(R){let p=R.documentElement;if("rdf:rdf"!==p.nodeName.toLowerCase())for(p=p.firstChild;p&&"rdf:rdf"!==p.nodeName.toLowerCase();)p=p.nextSibling;const s=p?p.nodeName.toLowerCase():null;if(!p||"rdf:rdf"!==s||!p.hasChildNodes())return;const e=p.childNodes;for(let r=0,y=e.length;r<y;r++){const t=e[r];if("rdf:description"===t.nodeName.toLowerCase())for(let a=0,n=t.childNodes.length;a<n;a++)if("#text"!==t.childNodes[a].nodeName.toLowerCase()){const i=t.childNodes[a],g=i.nodeName.toLowerCase();this._metadataMap.set(g,i.textContent.trim())}}}get(R){return this._metadataMap.has(R)?this._metadataMap.get(R):null}getAll(){const R=Object.create(null);for(const[p,s]of this._metadataMap)R[p]=s;return R}has(R){return this._metadataMap.has(R)}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleXMLParser=void 0;function k(s,e){const r=s[e];return" "===r||"\n"===r||"\r"===r||"\t"===r}class P{_resolveEntities(e){return e.replace(/&([^;]+);/g,(r,y)=>{if("#x"===y.substring(0,2))return String.fromCharCode(parseInt(y.substring(2),16));if("#"===y.substring(0,1))return String.fromCharCode(parseInt(y.substring(1),10));switch(y){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(y)})}_parseContent(e,r){const y=[];let t=r;function a(){for(;t<e.length&&k(e,t);)++t}for(;t<e.length&&!k(e,t)&&">"!==e[t]&&"/"!==e[t];)++t;const n=e.substring(r,t);for(a();t<e.length&&">"!==e[t]&&"/"!==e[t]&&"?"!==e[t];){a();let i="",g="";for(;t<e.length&&!k(e,t)&&"="!==e[t];)i+=e[t],++t;if(a(),"="!==e[t])return null;++t,a();const l=e[t];if('"'!==l&&"'"!==l)return null;const m=e.indexOf(l,++t);if(m<0)return null;g=e.substring(t,m),y.push({name:i,value:this._resolveEntities(g)}),t=m+1,a()}return{name:n,attributes:y,parsed:t-r}}_parseProcessingInstruction(e,r){let y=r;for(;y<e.length&&!k(e,y)&&">"!==e[y]&&"/"!==e[y];)++y;const a=e.substring(r,y);!function t(){for(;y<e.length&&k(e,y);)++y}();const n=y;for(;y<e.length&&("?"!==e[y]||">"!==e[y+1]);)++y;return{name:a,value:e.substring(n,y),parsed:y-r}}parseXml(e){let r=0;for(;r<e.length;){let t=r;if("<"===e[r]){let n;switch(++t,e[t]){case"/":if(++t,n=e.indexOf(">",t),n<0)return void this.onError(-9);this.onEndElement(e.substring(t,n)),t=n+1;break;case"?":++t;const i=this._parseProcessingInstruction(e,t);if("?>"!==e.substring(t+i.parsed,t+i.parsed+2))return void this.onError(-3);this.onPi(i.name,i.value),t+=i.parsed+2;break;case"!":if("--"===e.substring(t+1,t+3)){if(n=e.indexOf("--\x3e",t+3),n<0)return void this.onError(-5);this.onComment(e.substring(t+3,n)),t=n+3}else if("[CDATA["===e.substring(t+1,t+8)){if(n=e.indexOf("]]>",t+8),n<0)return void this.onError(-2);this.onCdata(e.substring(t+8,n)),t=n+3}else{if("DOCTYPE"!==e.substring(t+1,t+8))return void this.onError(-6);{const m=e.indexOf("[",t+8);let C=!1;if(n=e.indexOf(">",t+8),n<0)return void this.onError(-4);if(m>0&&n>m){if(n=e.indexOf("]>",t+8),n<0)return void this.onError(-4);C=!0}const u=e.substring(t+8,n+(C?1:0));this.onDoctype(u),t=n+(C?2:1)}}break;default:const g=this._parseContent(e,t);if(null===g)return void this.onError(-6);let l=!1;if("/>"===e.substring(t+g.parsed,t+g.parsed+2))l=!0;else if(">"!==e.substring(t+g.parsed,t+g.parsed+1))return void this.onError(-9);this.onBeginElement(g.name,g.attributes,l),t+=g.parsed+(l?2:1)}}else{for(;t<e.length&&"<"!==e[t];)t++;const a=e.substring(r,t);this.onText(this._resolveEntities(a))}r=t}}onResolveEntity(e){return`&${e};`}onPi(e,r){}onComment(e){}onCdata(e){}onDoctype(e){}onText(e){}onBeginElement(e,r,y){}onEndElement(e){}onError(e){}}class R{constructor(e,r){this.nodeName=e,this.nodeValue=r,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const e=this.parentNode.childNodes;if(!e)return;const r=e.indexOf(this);return-1!==r?e[r+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(e){return e.textContent}).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}}o.SimpleXMLParser=class p extends P{constructor(){super(),this._currentFragment=null,this._stack=null,this._errorCode=0}parseFromString(e){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(e),0!==this._errorCode)return;const[r]=this._currentFragment;return r?{documentElement:r}:void 0}onResolveEntity(e){return"apos"===e?"'":super.onResolveEntity(e)}onText(e){if(function N(s){for(let e=0,r=s.length;e<r;e++)if(!k(s,e))return!1;return!0}(e))return;const r=new R("#text",e);this._currentFragment.push(r)}onCdata(e){const r=new R("#text",e);this._currentFragment.push(r)}onBeginElement(e,r,y){const t=new R(e);t.childNodes=[],this._currentFragment.push(t),!y&&(this._stack.push(this._currentFragment),this._currentFragment=t.childNodes)}onEndElement(e){this._currentFragment=this._stack.pop()||[];const r=this._currentFragment[this._currentFragment.length-1];if(r)for(let y=0,t=r.childNodes.length;y<t;y++)r.childNodes[y].parentNode=r}onError(e){this._errorCode=e}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var c=w(1);o.PDFDataTransportStream=class k{constructor(p,s){(0,c.assert)(s),this._queuedChunks=[],this._progressiveDone=p.progressiveDone||!1;const e=p.initialData;if(e&&e.length>0){const r=new Uint8Array(e).buffer;this._queuedChunks.push(r)}this._pdfDataRangeTransport=s,this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._contentLength=p.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((r,y)=>{this._onReceiveData({begin:r,chunk:y})}),this._pdfDataRangeTransport.addProgressListener((r,y)=>{this._onProgress({loaded:r,total:y})}),this._pdfDataRangeTransport.addProgressiveReadListener(r=>{this._onReceiveData({chunk:r})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(p){const s=new Uint8Array(p.chunk).buffer;if(void 0===p.begin)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const e=this._rangeReaders.some(function(r){return r._begin===p.begin&&(r._enqueue(s),!0)});(0,c.assert)(e)}}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}_onProgress(p){if(void 0===p.total){const s=this._rangeReaders[0];s&&s.onProgress&&s.onProgress({loaded:p.loaded})}else{const s=this._fullRequestReader;s&&s.onProgress&&s.onProgress({loaded:p.loaded,total:p.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(p){const s=this._rangeReaders.indexOf(p);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){(0,c.assert)(!this._fullRequestReader);const p=this._queuedChunks;return this._queuedChunks=null,new N(this,p,this._progressiveDone)}getRangeReader(p,s){if(s<=this._progressiveDataLength)return null;const e=new P(this,p,s);return this._pdfDataRangeTransport.requestDataRange(p,s),this._rangeReaders.push(e),e}cancelAllRequests(p){this._fullRequestReader&&this._fullRequestReader.cancel(p),this._rangeReaders.slice(0).forEach(function(e){e.cancel(p)}),this._pdfDataRangeTransport.abort()}};class N{constructor(p,s,e=!1){this._stream=p,this._done=e||!1,this._filename=null,this._queuedChunks=s||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),p._fullRequestReader=this,this.onProgress=null}_enqueue(p){this._done||(this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunks.push(p),this._loaded+=p.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const p=(0,c.createPromiseCapability)();return this._requests.push(p),p.promise}cancel(p){this._done=!0,this._requests.forEach(function(s){s.resolve({value:void 0,done:!0})}),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class P{constructor(p,s,e){this._stream=p,this._begin=s,this._end=e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(p){this._done||(0===this._requests.length?this._queuedChunk=p:(this._requests.shift().resolve({value:p,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const p=(0,c.createPromiseCapability)();return this._requests.push(p),p.promise}cancel(p){this._done=!0,this._requests.forEach(function(s){s.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLContext=void 0;var c=w(1);o.WebGLContext=class k{constructor({enable:R=!1}){this._enabled=!0===R}get isEnabled(){let R=this._enabled;return R&&(R=N.tryInitGL()),(0,c.shadow)(this,"isEnabled",R)}composeSMask({layer:R,mask:p,properties:s}){return N.composeSMask(R,p,s)}drawFigures({width:R,height:p,backgroundColor:s,figures:e,context:r}){return N.drawFigures(R,p,s,e,r)}clear(){N.cleanup()}};var N=function(){function R(f,A,x){var D=f.createShader(x);if(f.shaderSource(D,A),f.compileShader(D),!f.getShaderParameter(D,f.COMPILE_STATUS)){var q=f.getShaderInfoLog(D);throw new Error("Error during shader compilation: "+q)}return D}function p(f,A){return R(f,A,f.VERTEX_SHADER)}function s(f,A){return R(f,A,f.FRAGMENT_SHADER)}function e(f,A){for(var x=f.createProgram(),D=0,I=A.length;D<I;++D)f.attachShader(x,A[D]);if(f.linkProgram(x),!f.getProgramParameter(x,f.LINK_STATUS)){var U=f.getProgramInfoLog(x);throw new Error("Error during program linking: "+U)}return x}function r(f,A,x){f.activeTexture(x);var D=f.createTexture();return f.bindTexture(f.TEXTURE_2D,D),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,A),D}var y,t;function a(){y||(t=document.createElement("canvas"),y=t.getContext("webgl",{premultipliedalpha:!1}))}var g=null,d=null;return{tryInitGL(){try{return a(),!!y}catch{}return!1},composeSMask:function m(f,A,x){var D=f.width,I=f.height;g||function l(){var f,A;a(),f=t,t=null,A=y,y=null;var I=e(A,[p(A,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),s(A,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);A.useProgram(I);var q={};q.gl=A,q.canvas=f,q.resolutionLocation=A.getUniformLocation(I,"u_resolution"),q.positionLocation=A.getAttribLocation(I,"a_position"),q.backdropLocation=A.getUniformLocation(I,"u_backdrop"),q.subtypeLocation=A.getUniformLocation(I,"u_subtype");var U=A.getAttribLocation(I,"a_texCoord"),j=A.getUniformLocation(I,"u_image"),v=A.getUniformLocation(I,"u_mask"),O=A.createBuffer();A.bindBuffer(A.ARRAY_BUFFER,O),A.bufferData(A.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),A.STATIC_DRAW),A.enableVertexAttribArray(U),A.vertexAttribPointer(U,2,A.FLOAT,!1,0,0),A.uniform1i(j,0),A.uniform1i(v,1),g=q}();var q=g,U=q.canvas,j=q.gl;U.width=D,U.height=I,j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.uniform2f(q.resolutionLocation,D,I),x.backdrop?j.uniform4f(q.resolutionLocation,x.backdrop[0],x.backdrop[1],x.backdrop[2],1):j.uniform4f(q.resolutionLocation,0,0,0,0),j.uniform1i(q.subtypeLocation,"Luminosity"===x.subtype?1:0);var v=r(j,f,j.TEXTURE0),O=r(j,A,j.TEXTURE1),b=j.createBuffer();return j.bindBuffer(j.ARRAY_BUFFER,b),j.bufferData(j.ARRAY_BUFFER,new Float32Array([0,0,D,0,0,I,0,I,D,0,D,I]),j.STATIC_DRAW),j.enableVertexAttribArray(q.positionLocation),j.vertexAttribPointer(q.positionLocation,2,j.FLOAT,!1,0,0),j.clearColor(0,0,0,0),j.enable(j.BLEND),j.blendFunc(j.ONE,j.ONE_MINUS_SRC_ALPHA),j.clear(j.COLOR_BUFFER_BIT),j.drawArrays(j.TRIANGLES,0,6),j.flush(),j.deleteTexture(v),j.deleteTexture(O),j.deleteBuffer(b),U},drawFigures:function _(f,A,x,D,I){d||function S(){var f,A;a(),f=t,t=null,A=y,y=null;var I=e(A,[p(A,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),s(A,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);A.useProgram(I);var q={};q.gl=A,q.canvas=f,q.resolutionLocation=A.getUniformLocation(I,"u_resolution"),q.scaleLocation=A.getUniformLocation(I,"u_scale"),q.offsetLocation=A.getUniformLocation(I,"u_offset"),q.positionLocation=A.getAttribLocation(I,"a_position"),q.colorLocation=A.getAttribLocation(I,"a_color"),d=q}();var q=d,U=q.canvas,j=q.gl;U.width=f,U.height=A,j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.uniform2f(q.resolutionLocation,f,A);var O,b,T,v=0;for(O=0,b=D.length;O<b;O++)switch(D[O].type){case"lattice":v+=((T=D[O].coords.length/D[O].verticesPerRow|0)-1)*(D[O].verticesPerRow-1)*6;break;case"triangles":v+=D[O].coords.length}var E=new Float32Array(2*v),F=new Uint8Array(3*v),M=I.coords,L=I.colors,B=0,G=0;for(O=0,b=D.length;O<b;O++){var z=D[O],$=z.coords,Q=z.colors;switch(z.type){case"lattice":var ie=z.verticesPerRow;T=$.length/ie|0;for(var se=1;se<T;se++)for(var W=se*ie+1,H=1;H<ie;H++,W++)E[B]=M[$[W-ie-1]],E[B+1]=M[$[W-ie-1]+1],E[B+2]=M[$[W-ie]],E[B+3]=M[$[W-ie]+1],E[B+4]=M[$[W-1]],E[B+5]=M[$[W-1]+1],F[G]=L[Q[W-ie-1]],F[G+1]=L[Q[W-ie-1]+1],F[G+2]=L[Q[W-ie-1]+2],F[G+3]=L[Q[W-ie]],F[G+4]=L[Q[W-ie]+1],F[G+5]=L[Q[W-ie]+2],F[G+6]=L[Q[W-1]],F[G+7]=L[Q[W-1]+1],F[G+8]=L[Q[W-1]+2],E[B+6]=E[B+2],E[B+7]=E[B+3],E[B+8]=E[B+4],E[B+9]=E[B+5],E[B+10]=M[$[W]],E[B+11]=M[$[W]+1],F[G+9]=F[G+3],F[G+10]=F[G+4],F[G+11]=F[G+5],F[G+12]=F[G+6],F[G+13]=F[G+7],F[G+14]=F[G+8],F[G+15]=L[Q[W]],F[G+16]=L[Q[W]+1],F[G+17]=L[Q[W]+2],B+=12,G+=18;break;case"triangles":for(var X=0,Z=$.length;X<Z;X++)E[B]=M[$[X]],E[B+1]=M[$[X]+1],F[G]=L[Q[X]],F[G+1]=L[Q[X]+1],F[G+2]=L[Q[X]+2],B+=2,G+=3}}x?j.clearColor(x[0]/255,x[1]/255,x[2]/255,1):j.clearColor(0,0,0,0),j.clear(j.COLOR_BUFFER_BIT);var V=j.createBuffer();j.bindBuffer(j.ARRAY_BUFFER,V),j.bufferData(j.ARRAY_BUFFER,E,j.STATIC_DRAW),j.enableVertexAttribArray(q.positionLocation),j.vertexAttribPointer(q.positionLocation,2,j.FLOAT,!1,0,0);var Y=j.createBuffer();return j.bindBuffer(j.ARRAY_BUFFER,Y),j.bufferData(j.ARRAY_BUFFER,F,j.STATIC_DRAW),j.enableVertexAttribArray(q.colorLocation),j.vertexAttribPointer(q.colorLocation,3,j.UNSIGNED_BYTE,!1,0,0),j.uniform2f(q.scaleLocation,I.scaleX,I.scaleY),j.uniform2f(q.offsetLocation,I.offsetX,I.offsetY),j.drawArrays(j.TRIANGLES,0,v),j.flush(),j.deleteBuffer(V),j.deleteBuffer(Y),U},cleanup(){g&&g.canvas&&(g.canvas.width=0,g.canvas.height=0),d&&d.canvas&&(d.canvas.width=0,d.canvas.height=0),g=null,d=null}}}()},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.renderTextLayer=void 0;var c=w(1),k=function(){var R=/\S/;function s(i,g,l){var m=document.createElement("span"),C={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(i._textDivs.push(m),function p(i){return!R.test(i)}(g.str))return C.isWhitespace=!0,void i._textDivProperties.set(m,C);var u=c.Util.transform(i._viewport.transform,g.transform),d=Math.atan2(u[1],u[0]),S=l[g.fontName];S.vertical&&(d+=Math.PI/2);var _=Math.sqrt(u[2]*u[2]+u[3]*u[3]),f=_;let A,x;if(S.ascent?f*=S.ascent:S.descent&&(f*=1+S.descent),0===d?(A=u[4],x=u[5]-f):(A=u[4]+f*Math.sin(d),x=u[5]-f*Math.cos(d)),m.style.left=`${A}px`,m.style.top=`${x}px`,m.style.fontSize=`${_}px`,m.style.fontFamily=S.fontFamily,m.textContent=g.str,i._fontInspectorEnabled&&(m.dataset.fontName=g.fontName),0!==d&&(C.angle=d*(180/Math.PI)),g.str.length>1&&(C.canvasWidth=S.vertical?g.height*i._viewport.scale:g.width*i._viewport.scale),i._textDivProperties.set(m,C),i._textContentStream&&i._layoutText(m),i._enhanceTextSelection){var D=1,I=0;0!==d&&(D=Math.cos(d),I=Math.sin(d));var j,v,q=(S.vertical?g.height:g.width)*i._viewport.scale,U=_;v=0!==d?c.Util.getAxialAlignedBoundingBox([0,0,q,U],j=[D,I,-I,D,A,x]):[A,x,A+q,x+U],i._bounds.push({left:v[0],top:v[1],right:v[2],bottom:v[3],div:m,size:[q,U],m:j})}}function e(i){if(!i._canceled){var g=i._textDivs,l=i._capability,m=g.length;if(m>1e5)return i._renderingDone=!0,void l.resolve();if(!i._textContentStream)for(var C=0;C<m;C++)i._layoutText(g[C]);i._renderingDone=!0,l.resolve()}}function t(i,g){g.sort(function(C,u){return C.x1-u.x1||C.index-u.index});var m=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];g.forEach(function(C){for(var u=0;u<m.length&&m[u].end<=C.y1;)u++;for(var d=m.length-1;d>=0&&m[d].start>=C.y2;)d--;var S,_,f,A,x=-1/0;for(f=u;f<=d;f++){var D;(D=(_=(S=m[f]).boundary).x2>C.x1?_.index>C.index?_.x1New:C.x1:void 0===_.x2New?(_.x2+C.x1)/2:_.x2New)>x&&(x=D)}for(C.x1New=x,f=u;f<=d;f++)void 0===(_=(S=m[f]).boundary).x2New?_.x2>C.x1?_.index>C.index&&(_.x2New=_.x2):_.x2New=x:_.x2New>x&&(_.x2New=Math.max(x,_.x2));var I=[],q=null;for(f=u;f<=d;f++){var U=(_=(S=m[f]).boundary).x2>C.x2?_:C;q===U?I[I.length-1].end=S.end:(I.push({start:S.start,end:S.end,boundary:U}),q=U)}for(m[u].start<C.y1&&(I[0].start=C.y1,I.unshift({start:m[u].start,end:C.y1,boundary:m[u].boundary})),C.y2<m[d].end&&(I[I.length-1].end=C.y2,I.push({start:C.y2,end:m[d].end,boundary:m[d].boundary})),f=u;f<=d;f++)if(void 0===(_=(S=m[f]).boundary).x2New){var j=!1;for(A=u-1;!j&&A>=0&&m[A].start>=_.y1;A--)j=m[A].boundary===_;for(A=d+1;!j&&A<m.length&&m[A].end<=_.y2;A++)j=m[A].boundary===_;for(A=0;!j&&A<I.length;A++)j=I[A].boundary===_;j||(_.x2New=x)}Array.prototype.splice.apply(m,[u,d-u+1].concat(I))}),m.forEach(function(C){var u=C.boundary;void 0===u.x2New&&(u.x2New=Math.max(i,u.x2))})}function a({textContent:i,textContentStream:g,container:l,viewport:m,textDivs:C,textContentItemsStr:u,enhanceTextSelection:d}){this._textContent=i,this._textContentStream=g,this._container=l,this._viewport=m,this._textDivs=C||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,c.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}return a.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new c.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(i,g){for(let l=0,m=i.length;l<m;l++)this._textContentItemsStr.push(i[l].str),s(this,i[l],g)},_layoutText(i){const g=this._textDivProperties.get(i);if(g.isWhitespace)return;let l="";if(0!==g.canvasWidth){const{fontSize:m,fontFamily:C}=i.style;(m!==this._layoutTextLastFontSize||C!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${m} ${C}`,this._layoutTextLastFontSize=m,this._layoutTextLastFontFamily=C);const{width:u}=this._layoutTextCtx.measureText(i.textContent);u>0&&(g.scale=g.canvasWidth/u,l=`scaleX(${g.scale})`)}0!==g.angle&&(l=`rotate(${g.angle}deg) ${l}`),l.length>0&&(this._enhanceTextSelection&&(g.originalTransform=l),i.style.transform=l),this._textDivProperties.set(i,g),this._container.appendChild(i)},_render:function(g){const l=(0,c.createPromiseCapability)();let m=Object.create(null);const C=document.createElement("canvas");if(C.mozOpaque=!0,this._layoutTextCtx=C.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),l.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const u=()=>{this._reader.read().then(({value:d,done:S})=>{S?l.resolve():(Object.assign(m,d.styles),this._processItems(d.items,m),u())},l.reject)};this._reader=this._textContentStream.getReader(),u()}}l.promise.then(()=>{m=null,g?this._renderTimer=setTimeout(()=>{e(this),this._renderTimer=null},g):e(this)},this._capability.reject)},expandTextDivs:function(g){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function r(i){for(var g=i._bounds,l=i._viewport,m=function y(i,g,l){var m=l.map(function(u,d){return{x1:u.left,y1:u.top,x2:u.right,y2:u.bottom,index:d,x1New:void 0,x2New:void 0}});t(i,m);var C=new Array(l.length);return m.forEach(function(u){C[u.index]={left:u.x1New,top:0,right:u.x2New,bottom:0}}),l.map(function(u,d){var S=C[d],_=m[d];_.x1=u.top,_.y1=i-S.right,_.x2=u.bottom,_.y2=i-S.left,_.index=d,_.x1New=void 0,_.x2New=void 0}),t(g,m),m.forEach(function(u){var d=u.index;C[d].top=u.x1New,C[d].bottom=u.x2New}),C}(l.width,l.height,g),C=0;C<m.length;C++){var u=g[C].div,d=i._textDivProperties.get(u);if(0!==d.angle){var S=m[C],_=g[C],f=_.m,A=f[0],x=f[1],D=[[0,0],[0,_.size[1]],[_.size[0],0],_.size],I=new Float64Array(64);D.forEach(function(j,v){var O=c.Util.applyTransform(j,f);I[v+0]=A&&(S.left-O[0])/A,I[v+4]=x&&(S.top-O[1])/x,I[v+8]=A&&(S.right-O[0])/A,I[v+12]=x&&(S.bottom-O[1])/x,I[v+16]=x&&(S.left-O[0])/-x,I[v+20]=A&&(S.top-O[1])/A,I[v+24]=x&&(S.right-O[0])/-x,I[v+28]=A&&(S.bottom-O[1])/A,I[v+32]=A&&(S.left-O[0])/-A,I[v+36]=x&&(S.top-O[1])/-x,I[v+40]=A&&(S.right-O[0])/-A,I[v+44]=x&&(S.bottom-O[1])/-x,I[v+48]=x&&(S.left-O[0])/x,I[v+52]=A&&(S.top-O[1])/-A,I[v+56]=x&&(S.right-O[0])/x,I[v+60]=A&&(S.bottom-O[1])/-A});var q=function(j,v,O){for(var b=0,T=0;T<O;T++){var E=j[v++];E>0&&(b=b?Math.min(E,b):E)}return b},U=1+Math.min(Math.abs(A),Math.abs(x));d.paddingLeft=q(I,32,16)/U,d.paddingTop=q(I,48,16)/U,d.paddingRight=q(I,0,16)/U,d.paddingBottom=q(I,16,16)/U,i._textDivProperties.set(u,d)}else d.paddingLeft=g[C].left-m[C].left,d.paddingTop=g[C].top-m[C].top,d.paddingRight=m[C].right-g[C].right,d.paddingBottom=m[C].bottom-g[C].bottom,i._textDivProperties.set(u,d)}}(this),this._bounds=null);const l=[],m=[];for(var C=0,u=this._textDivs.length;C<u;C++){const d=this._textDivs[C],S=this._textDivProperties.get(d);S.isWhitespace||(g?(l.length=0,m.length=0,S.originalTransform&&l.push(S.originalTransform),S.paddingTop>0?(m.push(`${S.paddingTop}px`),l.push(`translateY(${-S.paddingTop}px)`)):m.push(0),m.push(S.paddingRight>0?S.paddingRight/S.scale+"px":0),m.push(S.paddingBottom>0?`${S.paddingBottom}px`:0),S.paddingLeft>0?(m.push(S.paddingLeft/S.scale+"px"),l.push(`translateX(${-S.paddingLeft/S.scale}px)`)):m.push(0),d.style.padding=m.join(" "),l.length&&(d.style.transform=l.join(" "))):(d.style.padding=null,d.style.transform=S.originalTransform))}}},function n(i){var g=new a({textContent:i.textContent,textContentStream:i.textContentStream,container:i.container,viewport:i.viewport,textDivs:i.textDivs,textContentItemsStr:i.textContentItemsStr,enhanceTextSelection:i.enhanceTextSelection});return g._render(i.timeout),g}}();o.renderTextLayer=k},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayer=void 0;var c=w(4),k=w(1);class N{static create(v){switch(v.data.annotationType){case k.AnnotationType.LINK:return new R(v);case k.AnnotationType.TEXT:return new p(v);case k.AnnotationType.WIDGET:switch(v.data.fieldType){case"Tx":return new e(v);case"Btn":return v.data.radioButton?new y(v):v.data.checkBox?new r(v):new t(v);case"Ch":return new a(v)}return new s(v);case k.AnnotationType.POPUP:return new n(v);case k.AnnotationType.FREETEXT:return new g(v);case k.AnnotationType.LINE:return new l(v);case k.AnnotationType.SQUARE:return new m(v);case k.AnnotationType.CIRCLE:return new C(v);case k.AnnotationType.POLYLINE:return new u(v);case k.AnnotationType.CARET:return new S(v);case k.AnnotationType.INK:return new _(v);case k.AnnotationType.POLYGON:return new d(v);case k.AnnotationType.HIGHLIGHT:return new f(v);case k.AnnotationType.UNDERLINE:return new A(v);case k.AnnotationType.SQUIGGLY:return new x(v);case k.AnnotationType.STRIKEOUT:return new D(v);case k.AnnotationType.STAMP:return new I(v);case k.AnnotationType.FILEATTACHMENT:return new q(v);default:return new P(v)}}}class P{constructor(v,O=!1,b=!1){this.isRenderable=O,this.data=v.data,this.layer=v.layer,this.page=v.page,this.viewport=v.viewport,this.linkService=v.linkService,this.downloadManager=v.downloadManager,this.imageResourcesPath=v.imageResourcesPath,this.renderInteractiveForms=v.renderInteractiveForms,this.svgFactory=v.svgFactory,O&&(this.container=this._createContainer(b))}_createContainer(v=!1){const O=this.data,b=this.page,T=this.viewport,E=document.createElement("section");let F=O.rect[2]-O.rect[0],M=O.rect[3]-O.rect[1];E.setAttribute("data-annotation-id",O.id);const L=k.Util.normalizeRect([O.rect[0],b.view[3]-O.rect[1]+b.view[1],O.rect[2],b.view[3]-O.rect[3]+b.view[1]]);if(E.style.transform=`matrix(${T.transform.join(",")})`,E.style.transformOrigin=`-${L[0]}px -${L[1]}px`,!v&&O.borderStyle.width>0){E.style.borderWidth=`${O.borderStyle.width}px`,O.borderStyle.style!==k.AnnotationBorderStyleType.UNDERLINE&&(F-=2*O.borderStyle.width,M-=2*O.borderStyle.width);const B=O.borderStyle.horizontalCornerRadius,G=O.borderStyle.verticalCornerRadius;switch((B>0||G>0)&&(E.style.borderRadius=`${B}px / ${G}px`),O.borderStyle.style){case k.AnnotationBorderStyleType.SOLID:E.style.borderStyle="solid";break;case k.AnnotationBorderStyleType.DASHED:E.style.borderStyle="dashed";break;case k.AnnotationBorderStyleType.BEVELED:(0,k.warn)("Unimplemented border style: beveled");break;case k.AnnotationBorderStyleType.INSET:(0,k.warn)("Unimplemented border style: inset");break;case k.AnnotationBorderStyleType.UNDERLINE:E.style.borderBottomStyle="solid"}O.color?E.style.borderColor=k.Util.makeCssRgb(0|O.color[0],0|O.color[1],0|O.color[2]):E.style.borderWidth=0}return E.style.left=`${L[0]}px`,E.style.top=`${L[1]}px`,E.style.width=`${F}px`,E.style.height=`${M}px`,E}_createPopup(v,O,b){O||((O=document.createElement("div")).style.height=v.style.height,O.style.width=v.style.width,v.appendChild(O));const E=new i({container:v,trigger:O,color:b.color,title:b.title,modificationDate:b.modificationDate,contents:b.contents,hideWrapper:!0}).render();E.style.left=v.style.width,v.appendChild(E)}render(){(0,k.unreachable)("Abstract method `AnnotationElement.render` called")}}class R extends P{constructor(v){super(v,!!(v.data.url||v.data.dest||v.data.action))}render(){this.container.className="linkAnnotation";const{data:v,linkService:O}=this,b=document.createElement("a");return v.url?(0,c.addLinkAttributes)(b,{url:v.url,target:v.newWindow?c.LinkTarget.BLANK:O.externalLinkTarget,rel:O.externalLinkRel,enabled:O.externalLinkEnabled}):v.action?this._bindNamedAction(b,v.action):this._bindLink(b,v.dest),this.container.appendChild(b),this.container}_bindLink(v,O){v.href=this.linkService.getDestinationHash(O),v.onclick=()=>(O&&this.linkService.navigateTo(O),!1),O&&(v.className="internalLink")}_bindNamedAction(v,O){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.linkService.executeNamedAction(O),!1),v.className="internalLink"}}class p extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents))}render(){this.container.className="textAnnotation";const v=document.createElement("img");return v.style.height=this.container.style.height,v.style.width=this.container.style.width,v.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",v.alt="[{{type}} Annotation]",v.dataset.l10nId="text_annotation_type",v.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,v,this.data),this.container.appendChild(v),this.container}}class s extends P{render(){return this.container}}class e extends s{constructor(v){super(v,v.renderInteractiveForms||!v.data.hasAppearance&&!!v.data.fieldValue)}render(){this.container.className="textWidgetAnnotation";let O=null;if(this.renderInteractiveForms){if(this.data.multiLine?(O=document.createElement("textarea"),O.textContent=this.data.fieldValue):(O=document.createElement("input"),O.type="text",O.setAttribute("value",this.data.fieldValue)),O.disabled=this.data.readOnly,null!==this.data.maxLen&&(O.maxLength=this.data.maxLen),this.data.comb){const T=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;O.classList.add("comb"),O.style.letterSpacing=`calc(${T}px - 1ch)`}}else{O=document.createElement("div"),O.textContent=this.data.fieldValue,O.style.verticalAlign="middle",O.style.display="table-cell";let b=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(b=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(O,b)}return null!==this.data.textAlignment&&(O.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(O),this.container}_setTextStyle(v,O){const b=v.style;if(b.fontSize=`${this.data.fontSize}px`,b.direction=this.data.fontDirection<0?"rtl":"ltr",!O)return;let T="normal";O.black?T="900":O.bold&&(T="bold"),b.fontWeight=T,b.fontStyle=O.italic?"italic":"normal",b.fontFamily=(O.loadedName?`"${O.loadedName}", `:"")+(O.fallbackName||"Helvetica, sans-serif")}}class r extends s{constructor(v){super(v,v.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation checkBox";const v=document.createElement("input");return v.disabled=this.data.readOnly,v.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&v.setAttribute("checked",!0),this.container.appendChild(v),this.container}}class y extends s{constructor(v){super(v,v.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation radioButton";const v=document.createElement("input");return v.disabled=this.data.readOnly,v.type="radio",v.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&v.setAttribute("checked",!0),this.container.appendChild(v),this.container}}class t extends R{render(){const v=super.render();return v.className="buttonWidgetAnnotation pushButton",v}}class a extends s{constructor(v){super(v,v.renderInteractiveForms)}render(){this.container.className="choiceWidgetAnnotation";const v=document.createElement("select");v.disabled=this.data.readOnly,this.data.combo||(v.size=this.data.options.length,this.data.multiSelect&&(v.multiple=!0));for(const O of this.data.options){const b=document.createElement("option");b.textContent=O.displayValue,b.value=O.exportValue,this.data.fieldValue.includes(O.displayValue)&&b.setAttribute("selected",!0),v.appendChild(b)}return this.container.appendChild(v),this.container}}class n extends P{constructor(v){super(v,!(!v.data.title&&!v.data.contents))}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const b=this.layer.querySelector(`[data-annotation-id="${this.data.parentId}"]`);if(!b)return this.container;const T=new i({container:this.container,trigger:b,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),E=parseFloat(b.style.left),F=parseFloat(b.style.width);return this.container.style.transformOrigin=`-${E+F}px -${b.style.top}`,this.container.style.left=`${E+F}px`,this.container.appendChild(T.render()),this.container}}class i{constructor(v){this.container=v.container,this.trigger=v.trigger,this.color=v.color,this.title=v.title,this.modificationDate=v.modificationDate,this.contents=v.contents,this.hideWrapper=v.hideWrapper||!1,this.pinned=!1}render(){const O=document.createElement("div");O.className="popupWrapper",this.hideElement=this.hideWrapper?O:this.container,this.hideElement.setAttribute("hidden",!0);const b=document.createElement("div");b.className="popup";const T=this.color;T&&(b.style.backgroundColor=k.Util.makeCssRgb(0|.7*(255-T[0])+T[0],0|.7*(255-T[1])+T[1],0|.7*(255-T[2])+T[2]));const E=document.createElement("h1");E.textContent=this.title,b.appendChild(E);const F=c.PDFDateString.toDateObject(this.modificationDate);if(F){const L=document.createElement("span");L.textContent="{{date}}, {{time}}",L.dataset.l10nId="annotation_date_string",L.dataset.l10nArgs=JSON.stringify({date:F.toLocaleDateString(),time:F.toLocaleTimeString()}),b.appendChild(L)}const M=this._formatContents(this.contents);return b.appendChild(M),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),b.addEventListener("click",this._hide.bind(this,!0)),O.appendChild(b),O}_formatContents(v){const O=document.createElement("p"),b=v.split(/(?:\r\n?|\n)/);for(let T=0,E=b.length;T<E;++T)O.appendChild(document.createTextNode(b[T])),T<E-1&&O.appendChild(document.createElement("br"));return O}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(v=!1){v&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(v=!0){v&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class g extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class l extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){this.container.className="lineAnnotation";const v=this.data,T=this.svgFactory.create(v.rect[2]-v.rect[0],v.rect[3]-v.rect[1]),E=this.svgFactory.createElement("svg:line");return E.setAttribute("x1",v.rect[2]-v.lineCoordinates[0]),E.setAttribute("y1",v.rect[3]-v.lineCoordinates[1]),E.setAttribute("x2",v.rect[2]-v.lineCoordinates[2]),E.setAttribute("y2",v.rect[3]-v.lineCoordinates[3]),E.setAttribute("stroke-width",v.borderStyle.width||1),E.setAttribute("stroke","transparent"),T.appendChild(E),this.container.append(T),this._createPopup(this.container,E,v),this.container}}class m extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){this.container.className="squareAnnotation";const v=this.data,O=v.rect[2]-v.rect[0],b=v.rect[3]-v.rect[1],T=this.svgFactory.create(O,b),E=v.borderStyle.width,F=this.svgFactory.createElement("svg:rect");return F.setAttribute("x",E/2),F.setAttribute("y",E/2),F.setAttribute("width",O-E),F.setAttribute("height",b-E),F.setAttribute("stroke-width",E||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","none"),T.appendChild(F),this.container.append(T),this._createPopup(this.container,F,v),this.container}}class C extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){this.container.className="circleAnnotation";const v=this.data,O=v.rect[2]-v.rect[0],b=v.rect[3]-v.rect[1],T=this.svgFactory.create(O,b),E=v.borderStyle.width,F=this.svgFactory.createElement("svg:ellipse");return F.setAttribute("cx",O/2),F.setAttribute("cy",b/2),F.setAttribute("rx",O/2-E/2),F.setAttribute("ry",b/2-E/2),F.setAttribute("stroke-width",E||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","none"),T.appendChild(F),this.container.append(T),this._createPopup(this.container,F,v),this.container}}class u extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const v=this.data,T=this.svgFactory.create(v.rect[2]-v.rect[0],v.rect[3]-v.rect[1]);let E=[];for(const M of v.vertices)E.push(M.x-v.rect[0]+","+(v.rect[3]-M.y));E=E.join(" ");const F=this.svgFactory.createElement(this.svgElementName);return F.setAttribute("points",E),F.setAttribute("stroke-width",v.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","none"),T.appendChild(F),this.container.append(T),this._createPopup(this.container,F,v),this.container}}class d extends u{constructor(v){super(v),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class S extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class _ extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const v=this.data,T=this.svgFactory.create(v.rect[2]-v.rect[0],v.rect[3]-v.rect[1]);for(const E of v.inkLists){let F=[];for(const L of E)F.push(`${L.x-v.rect[0]},${v.rect[3]-L.y}`);F=F.join(" ");const M=this.svgFactory.createElement(this.svgElementName);M.setAttribute("points",F),M.setAttribute("stroke-width",v.borderStyle.width||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","none"),this._createPopup(this.container,M,v),T.appendChild(M)}return this.container.append(T),this.container}}class f extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class A extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class x extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class D extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class I extends P{constructor(v){super(v,!!(v.data.hasPopup||v.data.title||v.data.contents),!0)}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class q extends P{constructor(v){super(v,!0);const{filename:O,content:b}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(O),this.content=b,this.linkService.eventBus&&this.linkService.eventBus.dispatch("fileattachmentannotation",{source:this,id:(0,k.stringToPDFString)(O),filename:O,content:b})}render(){this.container.className="fileAttachmentAnnotation";const v=document.createElement("div");return v.style.height=this.container.style.height,v.style.width=this.container.style.width,v.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,v,this.data),this.container.appendChild(v),this.container}_download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,k.warn)("Download cannot be started due to unavailable download manager")}}o.AnnotationLayer=class U{static render(v){const O=[],b=[];for(const T of v.annotations)if(T){if(T.annotationType===k.AnnotationType.POPUP){b.push(T);continue}O.push(T)}b.length&&O.push(...b);for(const T of O){const E=N.create({data:T,layer:v.div,page:v.page,viewport:v.viewport,linkService:v.linkService,downloadManager:v.downloadManager,imageResourcesPath:v.imageResourcesPath||"",renderInteractiveForms:v.renderInteractiveForms||!1,svgFactory:new c.DOMSVGFactory});E.isRenderable&&v.div.appendChild(E.render())}}static update(v){for(const O of v.annotations){const b=v.div.querySelector(`[data-annotation-id="${O.id}"]`);b&&(b.style.transform=`matrix(${v.viewport.transform.join(",")})`)}v.div.removeAttribute("hidden")}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var c=w(1),k=w(4),N=w(7);let P=function(){throw new Error("Not implemented: SVGGraphics")};o.SVGGraphics=P;{let a=function(C){let u=[];const d=[];for(const S of C)"save"!==S.fn?"restore"===S.fn?u=d.pop():u.push(S):(u.push({fnId:92,fn:"group",items:[]}),d.push(u),u=u[u.length-1].items);return u},n=function(C){if(Number.isInteger(C))return C.toString();const u=C.toFixed(10);let d=u.length-1;if("0"!==u[d])return u;do{d--}while("0"===u[d]);return u.substring(0,"."===u[d]?d:d+1)},i=function(C){if(0===C[4]&&0===C[5]){if(0===C[1]&&0===C[2])return 1===C[0]&&1===C[3]?"":`scale(${n(C[0])} ${n(C[3])})`;if(C[0]===C[3]&&C[1]===-C[2]){const u=180*Math.acos(C[0])/Math.PI;return`rotate(${n(u)})`}}else if(1===C[0]&&0===C[1]&&0===C[2]&&1===C[3])return`translate(${n(C[4])} ${n(C[5])})`;return`matrix(${n(C[0])} ${n(C[1])} ${n(C[2])} ${n(C[3])} ${n(C[4])} ${n(C[5])})`};const R={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},p="http://www.w3.org/XML/1998/namespace",s="http://www.w3.org/1999/xlink",e=["butt","round","square"],r=["miter","round","bevel"],y=function(){const C=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256);for(let I=0;I<256;I++){let q=I;for(let U=0;U<8;U++)q=1&q?3988292384^q>>1&2147483647:q>>1&2147483647;d[I]=q}function _(I,q,U,j){let v=j;const O=q.length;U[v]=O>>24&255,U[v+1]=O>>16&255,U[v+2]=O>>8&255,U[v+3]=255&O,v+=4,U[v]=255&I.charCodeAt(0),U[v+1]=255&I.charCodeAt(1),U[v+2]=255&I.charCodeAt(2),U[v+3]=255&I.charCodeAt(3),v+=4,U.set(q,v),v+=q.length;const b=function S(I,q,U){let j=-1;for(let v=q;v<U;v++)j=j>>>8^d[255&(j^I[v])];return~j}(U,j+4,v);U[v]=b>>24&255,U[v+1]=b>>16&255,U[v+2]=b>>8&255,U[v+3]=255&b}function x(I){let q=I.length;const U=65535,j=Math.ceil(q/U),v=new Uint8Array(2+q+5*j+4);let O=0;v[O++]=120,v[O++]=156;let b=0;for(;q>U;)v[O++]=0,v[O++]=255,v[O++]=255,v[O++]=0,v[O++]=0,v.set(I.subarray(b,b+U),O),O+=U,b+=U,q-=U;v[O++]=1,v[O++]=255&q,v[O++]=q>>8&255,v[O++]=255&~q,v[O++]=(65535&~q)>>8&255,v.set(I.subarray(b),O),O+=I.length-b;const T=function f(I,q,U){let j=1,v=0;for(let O=q;O<U;++O)j=(j+(255&I[O]))%65521,v=(v+j)%65521;return v<<16|j}(I,0,I.length);return v[O++]=T>>24&255,v[O++]=T>>16&255,v[O++]=T>>8&255,v[O++]=255&T,v}return function(q,U,j){return function D(I,q,U,j){const v=I.width,O=I.height;let b,T,E;const F=I.data;switch(q){case c.ImageKind.GRAYSCALE_1BPP:T=0,b=1,E=v+7>>3;break;case c.ImageKind.RGB_24BPP:T=2,b=8,E=3*v;break;case c.ImageKind.RGBA_32BPP:T=6,b=8,E=4*v;break;default:throw new Error("invalid format")}const M=new Uint8Array((1+E)*O);let L=0,B=0;for(let se=0;se<O;++se)M[L++]=0,M.set(F.subarray(B,B+E),L),B+=E,L+=E;if(q===c.ImageKind.GRAYSCALE_1BPP&&j){L=0;for(let se=0;se<O;se++){L++;for(let W=0;W<E;W++)M[L++]^=255}}const G=new Uint8Array([v>>24&255,v>>16&255,v>>8&255,255&v,O>>24&255,O>>16&255,O>>8&255,255&O,b,T,0,0,0]),z=function A(I){if(!N.isNodeJS)return x(I);try{let q;q=parseInt(process.versions.node)>=8?I:Buffer.from(I);const U=require("zlib").deflateSync(q,{level:9});return U instanceof Uint8Array?U:new Uint8Array(U)}catch(q){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+q)}return x(I)}(M),Q=new Uint8Array(C.length+36+G.length+z.length);let ie=0;return Q.set(C,ie),ie+=C.length,_("IHDR",G,Q,ie),ie+=12+G.length,_("IDATA",z,Q,ie),ie+=12+z.length,_("IEND",new Uint8Array(0),Q,ie),(0,c.createObjectURL)(Q,"image/png",U)}(q,void 0===q.kind?c.ImageKind.GRAYSCALE_1BPP:q.kind,U,j)}}();class t{constructor(){this.fontSizeScale=1,this.fontWeight=R.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=R.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(u,d){this.x=u,this.y=d}}let g=0,l=0,m=0;o.SVGGraphics=P=class{constructor(u,d,S){this.svgFactory=new k.DOMSVGFactory,this.current=new t,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=u,this.objs=d,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!S,this._operatorIdMapping=[];for(const _ in c.OPS)this._operatorIdMapping[c.OPS[_]]=_}save(){this.transformStack.push(this.transformMatrix);const u=this.current;this.extraStack.push(u),this.current=u.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(u){this.save(),this.executeOpTree(u),this.restore()}loadDependencies(u){const d=u.fnArray,S=u.argsArray;for(let _=0,f=d.length;_<f;_++)if(d[_]===c.OPS.dependency)for(const A of S[_]){const x=A.startsWith("g_")?this.commonObjs:this.objs,D=new Promise(I=>{x.get(A,I)});this.current.dependencies.push(D)}return Promise.all(this.current.dependencies)}transform(u,d,S,_,f,A){this.transformMatrix=c.Util.transform(this.transformMatrix,[u,d,S,_,f,A]),this.tgrp=null}getSVG(u,d){this.viewport=d;const S=this._initialize(d);return this.loadDependencies(u).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(u)),S))}convertOpList(u){const d=this._operatorIdMapping,S=u.argsArray,_=u.fnArray,f=[];for(let A=0,x=_.length;A<x;A++){const D=_[A];f.push({fnId:D,fn:d[D],args:S[A]})}return a(f)}executeOpTree(u){for(const d of u){const S=d.fn,f=d.args;switch(0|d.fnId){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(f);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case c.OPS.setFont:this.setFont(f);break;case c.OPS.showText:case c.OPS.showSpacedText:this.showText(f[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(f[0],f[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case c.OPS.setHScale:this.setHScale(f[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case c.OPS.setTextRise:this.setTextRise(f[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case c.OPS.setLineWidth:this.setLineWidth(f[0]);break;case c.OPS.setLineJoin:this.setLineJoin(f[0]);break;case c.OPS.setLineCap:this.setLineCap(f[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(f);break;case c.OPS.setFillColorN:this.setFillColorN(f);break;case c.OPS.shadingFill:this.shadingFill(f[0]);break;case c.OPS.setDash:this.setDash(f[0],f[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(f[0]);break;case c.OPS.setFlatness:this.setFlatness(f[0]);break;case c.OPS.setGState:this.setGState(f[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case c.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case c.OPS.constructPath:this.constructPath(f[0],f[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(d.items);break;default:(0,c.warn)(`Unimplemented operator ${S}`)}}}setWordSpacing(u){this.current.wordSpacing=u}setCharSpacing(u){this.current.charSpacing=u}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(u,d,S,_,f,A){const x=this.current;x.textMatrix=x.lineMatrix=[u,d,S,_,f,A],x.textMatrixScale=Math.sqrt(u*u+d*d),x.x=x.lineX=0,x.y=x.lineY=0,x.xcoords=[],x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size",`${n(x.fontSize)}px`),x.tspan.setAttributeNS(null,"y",n(-x.y)),x.txtElement=this.svgFactory.createElement("svg:text"),x.txtElement.appendChild(x.tspan)}beginText(){const u=this.current;u.x=u.lineX=0,u.y=u.lineY=0,u.textMatrix=c.IDENTITY_MATRIX,u.lineMatrix=c.IDENTITY_MATRIX,u.textMatrixScale=1,u.tspan=this.svgFactory.createElement("svg:tspan"),u.txtElement=this.svgFactory.createElement("svg:text"),u.txtgrp=this.svgFactory.createElement("svg:g"),u.xcoords=[]}moveText(u,d){const S=this.current;S.x=S.lineX+=u,S.y=S.lineY+=d,S.xcoords=[],S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${n(S.fontSize)}px`),S.tspan.setAttributeNS(null,"y",n(-S.y))}showText(u){const d=this.current,S=d.font,_=d.fontSize;if(0===_)return;const f=d.charSpacing,A=d.wordSpacing,x=d.fontDirection,D=d.textHScale*x,I=S.vertical,q=_*d.fontMatrix[0];let U=0;for(const O of u){if(null===O){U+=x*A;continue}if((0,c.isNum)(O)){U+=-O*_*.001;continue}const T=O.fontChar,F=O.width*q+((O.isSpace?A:0)+f)*x;O.isInFont||S.missingFile?(d.xcoords.push(d.x+U),d.tspan.textContent+=T,U+=F):U+=F}I?d.y-=U*D:d.x+=U*D,d.tspan.setAttributeNS(null,"x",d.xcoords.map(n).join(" ")),d.tspan.setAttributeNS(null,"y",n(-d.y)),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",`${n(d.fontSize)}px`),d.fontStyle!==R.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle),d.fontWeight!==R.fontWeight&&d.tspan.setAttributeNS(null,"font-weight",d.fontWeight);const j=d.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;j===c.TextRenderingMode.FILL||j===c.TextRenderingMode.FILL_STROKE?(d.fillColor!==R.fillColor&&d.tspan.setAttributeNS(null,"fill",d.fillColor),d.fillAlpha<1&&d.tspan.setAttributeNS(null,"fill-opacity",d.fillAlpha)):d.tspan.setAttributeNS(null,"fill",d.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(j===c.TextRenderingMode.STROKE||j===c.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(d.tspan,1/(d.textMatrixScale||1));let v=d.textMatrix;0!==d.textRise&&(v=v.slice(),v[5]+=d.textRise),d.txtElement.setAttributeNS(null,"transform",`${i(v)} scale(${n(D)}, -1)`),d.txtElement.setAttributeNS(p,"xml:space","preserve"),d.txtElement.appendChild(d.tspan),d.txtgrp.appendChild(d.txtElement),this._ensureTransformGroup().appendChild(d.txtElement)}setLeadingMoveText(u,d){this.setLeading(-d),this.moveText(u,d)}addFontStyle(u){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const d=(0,c.createObjectURL)(u.data,u.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${u.loadedName}"; src: url(${d}); }\n`}setFont(u){const d=this.current,S=this.commonObjs.get(u[0]);let _=u[1];d.font=S,this.embedFonts&&S.data&&!this.embeddedFonts[S.loadedName]&&(this.addFontStyle(S),this.embeddedFonts[S.loadedName]=S),d.fontMatrix=S.fontMatrix?S.fontMatrix:c.FONT_IDENTITY_MATRIX;let f="normal";S.black?f="900":S.bold&&(f="bold");const A=S.italic?"italic":"normal";_<0?(_=-_,d.fontDirection=-1):d.fontDirection=1,d.fontSize=_,d.fontFamily=S.loadedName,d.fontWeight=f,d.fontStyle=A,d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"y",n(-d.y)),d.xcoords=[]}endText(){const u=this.current;u.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&u.txtElement&&u.txtElement.hasChildNodes()&&(u.element=u.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(u){u>0&&(this.current.lineWidth=u)}setLineCap(u){this.current.lineCap=e[u]}setLineJoin(u){this.current.lineJoin=r[u]}setMiterLimit(u){this.current.miterLimit=u}setStrokeAlpha(u){this.current.strokeAlpha=u}setStrokeRGBColor(u,d,S){this.current.strokeColor=c.Util.makeCssRgb(u,d,S)}setFillAlpha(u){this.current.fillAlpha=u}setFillRGBColor(u,d,S){this.current.fillColor=c.Util.makeCssRgb(u,d,S),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}setStrokeColorN(u){this.current.strokeColor=this._makeColorN_Pattern(u)}setFillColorN(u){this.current.fillColor=this._makeColorN_Pattern(u)}shadingFill(u){const d=this.viewport.width,S=this.viewport.height,_=c.Util.inverseTransform(this.transformMatrix),f=c.Util.applyTransform([0,0],_),A=c.Util.applyTransform([0,S],_),x=c.Util.applyTransform([d,0],_),D=c.Util.applyTransform([d,S],_),I=Math.min(f[0],A[0],x[0],D[0]),q=Math.min(f[1],A[1],x[1],D[1]),U=Math.max(f[0],A[0],x[0],D[0]),j=Math.max(f[1],A[1],x[1],D[1]),v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",I),v.setAttributeNS(null,"y",q),v.setAttributeNS(null,"width",U-I),v.setAttributeNS(null,"height",j-q),v.setAttributeNS(null,"fill",this._makeShadingPattern(u)),this._ensureTransformGroup().appendChild(v)}_makeColorN_Pattern(u){return"TilingPattern"===u[0]?this._makeTilingPattern(u):this._makeShadingPattern(u)}_makeTilingPattern(u){const d=u[1],S=u[2],_=u[3]||c.IDENTITY_MATRIX,[f,A,x,D]=u[4],I=u[5],q=u[6],U=u[7],j="shading"+m++,[v,O]=c.Util.applyTransform([f,A],_),[b,T]=c.Util.applyTransform([x,D],_),[E,F]=c.Util.singularValueDecompose2dScale(_),M=I*E,L=q*F,B=this.svgFactory.createElement("svg:pattern");B.setAttributeNS(null,"id",j),B.setAttributeNS(null,"patternUnits","userSpaceOnUse"),B.setAttributeNS(null,"width",M),B.setAttributeNS(null,"height",L),B.setAttributeNS(null,"x",`${v}`),B.setAttributeNS(null,"y",`${O}`);const G=this.svg,z=this.transformMatrix,$=this.current.fillColor,Q=this.current.strokeColor,ie=this.svgFactory.create(b-v,T-O);if(this.svg=ie,this.transformMatrix=_,2===U){const se=c.Util.makeCssRgb(...d);this.current.fillColor=se,this.current.strokeColor=se}return this.executeOpTree(this.convertOpList(S)),this.svg=G,this.transformMatrix=z,this.current.fillColor=$,this.current.strokeColor=Q,B.appendChild(ie.childNodes[0]),this.defs.appendChild(B),`url(#${j})`}_makeShadingPattern(u){switch(u[0]){case"RadialAxial":const d="shading"+m++,S=u[3];let _;switch(u[1]){case"axial":const f=u[4],A=u[5];_=this.svgFactory.createElement("svg:linearGradient"),_.setAttributeNS(null,"id",d),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"x1",f[0]),_.setAttributeNS(null,"y1",f[1]),_.setAttributeNS(null,"x2",A[0]),_.setAttributeNS(null,"y2",A[1]);break;case"radial":const x=u[4],D=u[5],I=u[6],q=u[7];_=this.svgFactory.createElement("svg:radialGradient"),_.setAttributeNS(null,"id",d),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"cx",D[0]),_.setAttributeNS(null,"cy",D[1]),_.setAttributeNS(null,"r",q),_.setAttributeNS(null,"fx",x[0]),_.setAttributeNS(null,"fy",x[1]),_.setAttributeNS(null,"fr",I);break;default:throw new Error(`Unknown RadialAxial type: ${u[1]}`)}for(const f of S){const A=this.svgFactory.createElement("svg:stop");A.setAttributeNS(null,"offset",f[0]),A.setAttributeNS(null,"stop-color",f[1]),_.appendChild(A)}return this.defs.appendChild(_),`url(#${d})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${u[0]}`)}}setDash(u,d){this.current.dashArray=u,this.current.dashPhase=d}constructPath(u,d){const S=this.current;let _=S.x,f=S.y,A=[],x=0;for(const D of u)switch(0|D){case c.OPS.rectangle:_=d[x++],f=d[x++];const U=_+d[x++],j=f+d[x++];A.push("M",n(_),n(f),"L",n(U),n(f),"L",n(U),n(j),"L",n(_),n(j),"Z");break;case c.OPS.moveTo:_=d[x++],f=d[x++],A.push("M",n(_),n(f));break;case c.OPS.lineTo:_=d[x++],f=d[x++],A.push("L",n(_),n(f));break;case c.OPS.curveTo:_=d[x+4],f=d[x+5],A.push("C",n(d[x]),n(d[x+1]),n(d[x+2]),n(d[x+3]),n(_),n(f)),x+=6;break;case c.OPS.curveTo2:A.push("C",n(_),n(f),n(d[x]),n(d[x+1]),n(d[x+2]),n(d[x+3])),_=d[x+2],f=d[x+3],x+=4;break;case c.OPS.curveTo3:_=d[x+2],f=d[x+3],A.push("C",n(d[x]),n(d[x+1]),n(_),n(f),n(_),n(f)),x+=4;break;case c.OPS.closePath:A.push("Z")}A=A.join(" "),S.path&&u.length>0&&u[0]!==c.OPS.rectangle&&u[0]!==c.OPS.moveTo?A=S.path.getAttributeNS(null,"d")+A:(S.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(S.path)),S.path.setAttributeNS(null,"d",A),S.path.setAttributeNS(null,"fill","none"),S.element=S.path,S.setCurrentPoint(_,f)}endPath(){const u=this.current;if(u.path=null,!this.pendingClip)return;if(!u.element)return void(this.pendingClip=null);const d="clippath"+g++,S=this.svgFactory.createElement("svg:clipPath");S.setAttributeNS(null,"id",d),S.setAttributeNS(null,"transform",i(this.transformMatrix));const _=u.element.cloneNode(!0);_.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,S.appendChild(_),this.defs.appendChild(S),u.activeClipUrl&&(u.clipGroup=null,this.extraStack.forEach(function(f){f.clipGroup=null}),S.setAttributeNS(null,"clip-path",u.activeClipUrl)),u.activeClipUrl=`url(#${d})`,this.tgrp=null}clip(u){this.pendingClip=u}closePath(){const u=this.current;if(u.path){const d=`${u.path.getAttributeNS(null,"d")}Z`;u.path.setAttributeNS(null,"d",d)}}setLeading(u){this.current.leading=-u}setTextRise(u){this.current.textRise=u}setTextRenderingMode(u){this.current.textRenderingMode=u}setHScale(u){this.current.textHScale=u/100}setRenderingIntent(u){}setFlatness(u){}setGState(u){for(const[d,S]of u)switch(d){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S);break;case"CA":this.setStrokeAlpha(S);break;case"ca":this.setFillAlpha(S);break;default:(0,c.warn)(`Unimplemented graphic state operator ${d}`)}}fill(){const u=this.current;u.element&&(u.element.setAttributeNS(null,"fill",u.fillColor),u.element.setAttributeNS(null,"fill-opacity",u.fillAlpha),this.endPath())}stroke(){const u=this.current;u.element&&(this._setStrokeAttributes(u.element),u.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(u,d=1){const S=this.current;let _=S.dashArray;1!==d&&_.length>0&&(_=_.map(function(f){return d*f})),u.setAttributeNS(null,"stroke",S.strokeColor),u.setAttributeNS(null,"stroke-opacity",S.strokeAlpha),u.setAttributeNS(null,"stroke-miterlimit",n(S.miterLimit)),u.setAttributeNS(null,"stroke-linecap",S.lineCap),u.setAttributeNS(null,"stroke-linejoin",S.lineJoin),u.setAttributeNS(null,"stroke-width",n(d*S.lineWidth)+"px"),u.setAttributeNS(null,"stroke-dasharray",_.map(n).join(" ")),u.setAttributeNS(null,"stroke-dashoffset",n(d*S.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x","0"),u.setAttributeNS(null,"y","0"),u.setAttributeNS(null,"width","1px"),u.setAttributeNS(null,"height","1px"),u.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(u)}paintJpegXObject(u,d,S){const _=this.objs.get(u),f=this.svgFactory.createElement("svg:image");f.setAttributeNS(s,"xlink:href",_.src),f.setAttributeNS(null,"width",n(d)),f.setAttributeNS(null,"height",n(S)),f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y",n(-S)),f.setAttributeNS(null,"transform",`scale(${n(1/d)} ${n(-1/S)})`),this._ensureTransformGroup().appendChild(f)}paintImageXObject(u){const d=this.objs.get(u);d?this.paintInlineImageXObject(d):(0,c.warn)(`Dependent image with object ID ${u} is not ready yet`)}paintInlineImageXObject(u,d){const S=u.width,_=u.height,f=y(u,this.forceDataSchema,!!d),A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width",n(S)),A.setAttributeNS(null,"height",n(_)),this.current.element=A,this.clip("nonzero");const x=this.svgFactory.createElement("svg:image");x.setAttributeNS(s,"xlink:href",f),x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y",n(-_)),x.setAttributeNS(null,"width",n(S)+"px"),x.setAttributeNS(null,"height",n(_)+"px"),x.setAttributeNS(null,"transform",`scale(${n(1/S)} ${n(-1/_)})`),d?d.appendChild(x):this._ensureTransformGroup().appendChild(x)}paintImageMaskXObject(u){const d=this.current,S=u.width,_=u.height,f=d.fillColor;d.maskId="mask"+l++;const A=this.svgFactory.createElement("svg:mask");A.setAttributeNS(null,"id",d.maskId);const x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width",n(S)),x.setAttributeNS(null,"height",n(_)),x.setAttributeNS(null,"fill",f),x.setAttributeNS(null,"mask",`url(#${d.maskId})`),this.defs.appendChild(A),this._ensureTransformGroup().appendChild(x),this.paintInlineImageXObject(u,A)}paintFormXObjectBegin(u,d){if(Array.isArray(u)&&6===u.length&&this.transform(u[0],u[1],u[2],u[3],u[4],u[5]),d){const S=d[2]-d[0],_=d[3]-d[1],f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",d[0]),f.setAttributeNS(null,"y",d[1]),f.setAttributeNS(null,"width",n(S)),f.setAttributeNS(null,"height",n(_)),this.current.element=f,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(u){const d=this.svgFactory.create(u.width,u.height),S=this.svgFactory.createElement("svg:defs");d.appendChild(S),this.defs=S;const _=this.svgFactory.createElement("svg:g");return _.setAttributeNS(null,"transform",i(u.transform)),d.appendChild(_),this.svg=_,d}_ensureClipGroup(){if(!this.current.clipGroup){const u=this.svgFactory.createElement("svg:g");u.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(u),this.current.clipGroup=u}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var c=w(1),k=w(20);const N=require("fs"),P=require("http"),R=require("https"),p=require("url"),s=/^file:\/\/\/[a-zA-Z]:\//;o.PDFNodeStream=class r{constructor(C){this.source=C,this.url=function e(m){const C=p.parse(m);return"file:"===C.protocol||C.host?C:/^[a-z]:[/\\]/i.test(m)?p.parse(`file:///${m}`):(C.host||(C.protocol="file:"),C)}(C.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,c.assert)(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new g(this):new n(this),this._fullRequestReader}getRangeReader(C,u){if(u<=this._progressiveDataLength)return null;const d=this.isFsUrl?new l(this,C,u):new i(this,C,u);return this._rangeRequestReaders.push(d),d}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C),this._rangeRequestReaders.slice(0).forEach(function(d){d.cancel(C)})}};class y{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const u=C.source;this._contentLength=u.length,this._loaded=0,this._filename=null,this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._headersCapability=(0,c.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return null===C?(this._readCapability=(0,c.createPromiseCapability)(),this.read()):(this._loaded+=C.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",u=>{this._error(u)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class t{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._isStreamingSupported=!C.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return null===C?(this._readCapability=(0,c.createPromiseCapability)(),this.read()):(this._loaded+=C.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",u=>{this._error(u)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function a(m,C){return{protocol:m.protocol,auth:m.auth,host:m.hostname,port:m.port,path:m.path,method:"GET",headers:C}}class n extends y{constructor(C){super(C);const u=d=>{if(404===d.statusCode){const A=new c.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=A,void this._headersCapability.reject(A)}this._headersCapability.resolve(),this._setReadableStream(d);const S=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:_,suggestedLength:f}=(0,k.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=f||this._contentLength,this._filename=(0,k.extractFilenameFromHeader)(S)};this._request=null,this._request="http:"===this._url.protocol?P.request(a(this._url,C.httpHeaders),u):R.request(a(this._url,C.httpHeaders),u),this._request.on("error",d=>{this._storedError=d,this._headersCapability.reject(d)}),this._request.end()}}class i extends t{constructor(C,u,d){super(C),this._httpHeaders={};for(const _ in C.httpHeaders){const f=C.httpHeaders[_];typeof f>"u"||(this._httpHeaders[_]=f)}this._httpHeaders.Range=`bytes=${u}-${d-1}`;const S=_=>{if(404!==_.statusCode)this._setReadableStream(_);else{const f=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=f}};this._request=null,this._request="http:"===this._url.protocol?P.request(a(this._url,this._httpHeaders),S):R.request(a(this._url,this._httpHeaders),S),this._request.on("error",_=>{this._storedError=_}),this._request.end()}}class g extends y{constructor(C){super(C);let u=decodeURIComponent(this._url.path);s.test(this._url.href)&&(u=u.replace(/^\//,"")),N.lstat(u,(d,S)=>{if(d)return"ENOENT"===d.code&&(d=new c.MissingPDFException(`Missing PDF "${u}".`)),this._storedError=d,void this._headersCapability.reject(d);this._contentLength=S.size,this._setReadableStream(N.createReadStream(u)),this._headersCapability.resolve()})}}class l extends t{constructor(C,u,d){super(C);let S=decodeURIComponent(this._url.path);s.test(this._url.href)&&(S=S.replace(/^\//,"")),this._setReadableStream(N.createReadStream(S,{start:u,end:d-1}))}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=function R(s,e){return 404===s||0===s&&e.startsWith("file:")?new c.MissingPDFException('Missing PDF "'+e+'".'):new c.UnexpectedResponseException("Unexpected server response ("+s+') while retrieving PDF "'+e+'".',s)},o.extractFilenameFromHeader=function P(s){const e=s("Content-Disposition");if(e){let r=(0,k.getFilenameFromContentDispositionHeader)(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(/\.pdf$/i.test(r))return r}return null},o.validateRangeRequestCapabilities=function N({getResponseHeader:s,isHttp:e,rangeChunkSize:r,disableRange:y}){(0,c.assert)(r>0,"Range chunk size must be larger than zero");const t={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(s("Content-Length"),10);return!Number.isInteger(a)||(t.suggestedLength=a,a<=2*r)||y||!e||"bytes"!==s("Accept-Ranges")||"identity"!==(s("Content-Encoding")||"identity")||(t.allowRangeRequests=!0),t},o.validateResponseStatus=function p(s){return 200===s||206===s};var c=w(1),k=w(21)},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=function c(k){let N=!0,P=R("filename\\*","i").exec(k);if(P){P=P[1];let a=r(P);return a=unescape(a),a=y(a),a=t(a),s(a)}if(P=function e(a){const n=[];let i;const g=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(i=g.exec(a));){let[,m,C,u]=i;if(m=parseInt(m,10),m in n){if(0===m)break}else n[m]=[C,u]}const l=[];for(let m=0;m<n.length&&m in n;++m){let[C,u]=n[m];u=r(u),C&&(u=unescape(u),0===m&&(u=y(u))),l.push(u)}return l.join("")}(k),P)return s(t(P));if(P=R("filename","i").exec(k),P){P=P[1];let a=r(P);return a=t(a),s(a)}function R(a,n){return new RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',n)}function p(a,n){if(a){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(a,{fatal:!0}),g=Array.from(n,function(l){return 255&l.charCodeAt(0)});n=i.decode(new Uint8Array(g)),N=!1}catch{if(/^utf-?8$/i.test(a))try{n=decodeURIComponent(escape(n)),N=!1}catch{}}}return n}function s(a){return N&&/[\x80-\xff]/.test(a)&&(a=p("utf-8",a),N&&(a=p("iso-8859-1",a))),a}function r(a){if(a.startsWith('"')){const n=a.slice(1).split('\\"');for(let i=0;i<n.length;++i){const g=n[i].indexOf('"');-1!==g&&(n[i]=n[i].slice(0,g),n.length=i+1),n[i]=n[i].replace(/\\(.)/g,"$1")}a=n.join('"')}return a}function y(a){const n=a.indexOf("'");return-1===n?a:p(a.slice(0,n),a.slice(n+1).replace(/^[^']*'/,""))}function t(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(n,i,g,l){if("q"===g||"Q"===g)return p(i,l=(l=l.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(m,C){return String.fromCharCode(parseInt(C,16))}));try{l=atob(l)}catch{}return p(i,l)})}return""}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var c=w(1),k=w(20);class p{constructor(t,a){this.url=t,a=a||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&a.httpHeaders||{},this.withCredentials=a.withCredentials||!1,this.getXhr=a.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,a,n){const i={begin:t,end:a};for(const g in n)i[g]=n[g];return this.request(i)}requestFull(t){return this.request(t)}request(t){const a=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:a};a.open("GET",this.url),a.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const l=this.httpHeaders[g];typeof l>"u"||a.setRequestHeader(g,l)}return this.isHttp&&"begin"in t&&"end"in t?(a.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=206):i.expectedStatus=200,a.responseType="arraybuffer",t.onError&&(a.onerror=function(g){t.onError(a.status)}),a.onreadystatechange=this.onStateChange.bind(this,n),a.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,a.send(null),n}onProgress(t,a){const n=this.pendingRequests[t];n&&n.onProgress&&n.onProgress(a)}onStateChange(t,a){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void(n.onError&&n.onError(i.status));const g=i.status||200;if((200!==g||206!==n.expectedStatus)&&g!==n.expectedStatus)return void(n.onError&&n.onError(i.status));const m=function R(y){const t=y.response;return"string"!=typeof t?t:(0,c.stringToBytes)(t).buffer}(i);if(206===g){const C=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(C);n.onDone({begin:parseInt(u[1],10),chunk:m})}else m?n.onDone({begin:0,chunk:m}):n.onError&&n.onError(i.status)}hasPendingRequests(){for(const t in this.pendingRequests)return!0;return!1}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortAllRequests(){for(const t in this.pendingRequests)this.abortRequest(0|t)}abortRequest(t){const a=this.pendingRequests[t].xhr;delete this.pendingRequests[t],a.abort()}}o.PDFNetworkStream=class s{constructor(t){this._source=t,this._manager=new p(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const a=this._rangeRequestReaders.indexOf(t);a>=0&&this._rangeRequestReaders.splice(a,1)}getFullReader(){return(0,c.assert)(!this._fullRequestReader),this._fullRequestReader=new e(this._manager,this._source),this._fullRequestReader}getRangeReader(t,a){const n=new r(this._manager,t,a);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(n){n.cancel(t)})}};class e{constructor(t,a){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=(0,c.createPromiseCapability)(),this._disableRange=a.disableRange||!1,this._contentLength=a.length,this._rangeChunkSize=a.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,a=this._manager.getRequestXhr(t),n=l=>a.getResponseHeader(l),{allowRangeRequests:i,suggestedLength:g}=(0,k.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,k.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])}_onError(t){const n=(0,k.createResponseStatusError)(t,this._url);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach(function(i){i.reject(n)}),this._requests=[],this._cachedChunks=[]}_onProgress(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,c.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class r{constructor(t,a,n){this._manager=t;const i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(a,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(t){const a=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a,this._done=!0,this._requests.forEach(function(n){n.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}_onProgress(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){const a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,c.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var c=w(1),k=w(20);function N(e,r,y){return{method:"GET",headers:e,signal:y&&y.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function P(e){const r=new Headers;for(const y in e){const t=e[y];typeof t>"u"||r.append(y,t)}return r}o.PDFFetchStream=class R{constructor(r){this.source=r,this.isHttp=/^https?:/i.test(r.url),this.httpHeaders=this.isHttp&&r.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,c.assert)(!this._fullRequestReader),this._fullRequestReader=new p(this),this._fullRequestReader}getRangeReader(r,y){if(y<=this._progressiveDataLength)return null;const t=new s(this,r,y);return this._rangeRequestReaders.push(t),t}cancelAllRequests(r){this._fullRequestReader&&this._fullRequestReader.cancel(r),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(r)})}};class p{constructor(r){this._stream=r,this._reader=null,this._loaded=0,this._filename=null;const y=r.source;this._withCredentials=y.withCredentials||!1,this._contentLength=y.length,this._headersCapability=(0,c.createPromiseCapability)(),this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._headers=P(this._stream.httpHeaders);const t=y.url;fetch(t,N(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,k.validateResponseStatus)(a.status))throw(0,k.createResponseStatusError)(a.status,t);this._reader=a.body.getReader(),this._headersCapability.resolve();const n=l=>a.headers.get(l),{allowRangeRequests:i,suggestedLength:g}=(0,k.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=g||this._contentLength,this._filename=(0,k.extractFilenameFromHeader)(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new c.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:r,done:y}=await this._reader.read();return y?{value:r,done:y}:(this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){this._reader&&this._reader.cancel(r),this._abortController&&this._abortController.abort()}}class s{constructor(r,y,t){this._stream=r,this._reader=null,this._loaded=0;const a=r.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,c.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=P(this._stream.httpHeaders),this._headers.append("Range",`bytes=${y}-${t-1}`);const n=a.url;fetch(n,N(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!(0,k.validateResponseStatus)(i.status))throw(0,k.createResponseStatusError)(i.status,n);this._readCapability.resolve(),this._reader=i.body.getReader()}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:r,done:y}=await this._reader.read();return y?{value:r,done:y}:(this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){this._reader&&this._reader.cancel(r),this._abortController&&this._abortController.abort()}}}])}),
/*!
* Quill Editor v1.3.7
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/
function K(o,w){"object"==typeof exports&&"object"==typeof module?module.exports=w():"function"==typeof define&&define.amd?define([],w):"object"==typeof exports?exports.Quill=w():o.Quill=w()}(typeof self<"u"?self:this,function(){return function(K){var o={};function w(c){if(o[c])return o[c].exports;var k=o[c]={i:c,l:!1,exports:{}};return K[c].call(k.exports,k,k.exports,w),k.l=!0,k.exports}return w.m=K,w.c=o,w.d=function(c,k,N){w.o(c,k)||Object.defineProperty(c,k,{configurable:!1,enumerable:!0,get:N})},w.n=function(c){var k=c&&c.__esModule?function(){return c.default}:function(){return c};return w.d(k,"a",k),k},w.o=function(c,k){return Object.prototype.hasOwnProperty.call(c,k)},w.p="",w(w.s=109)}([function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=w(17),k=w(18),N=w(19),P=w(45),R=w(46),p=w(47),s=w(48),e=w(49),r=w(12),y=w(32),t=w(33),a=w(31),n=w(1);o.default={Scope:n.Scope,create:n.create,find:n.find,query:n.query,register:n.register,Container:c.default,Format:k.default,Leaf:N.default,Embed:s.default,Scroll:P.default,Block:p.default,Inline:R.default,Text:e.default,Attributor:{Attribute:r.default,Class:y.default,Style:t.default,Store:a.default}}},function(K,o,w){"use strict";var a,c=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var g in i)i.hasOwnProperty(g)&&(n[g]=i[g])},function(n,i){function g(){this.constructor=n}a(n,i),n.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)});Object.defineProperty(o,"__esModule",{value:!0});var k=function(a){function n(i){var g=this;return(g=a.call(this,i="[Parchment] "+i)||this).message=i,g.name=g.constructor.name,g}return c(n,a),n}(Error);o.ParchmentError=k;var s,N={},P={},R={},p={};function y(a,n){var i;if(void 0===n&&(n=s.ANY),"string"==typeof a)i=p[a]||N[a];else if(a instanceof Text||a.nodeType===Node.TEXT_NODE)i=p.text;else if("number"==typeof a)a&s.LEVEL&s.BLOCK?i=p.block:a&s.LEVEL&s.INLINE&&(i=p.inline);else if(a instanceof HTMLElement){var g=(a.getAttribute("class")||"").split(/\s+/);for(var l in g)if(i=P[g[l]])break;i=i||R[a.tagName]}return null==i?null:n&s.LEVEL&i.scope&&n&s.TYPE&i.scope?i:null}o.DATA_KEY="__blot",function(a){a[a.TYPE=3]="TYPE",a[a.LEVEL=12]="LEVEL",a[a.ATTRIBUTE=13]="ATTRIBUTE",a[a.BLOT=14]="BLOT",a[a.INLINE=7]="INLINE",a[a.BLOCK=11]="BLOCK",a[a.BLOCK_BLOT=10]="BLOCK_BLOT",a[a.INLINE_BLOT=6]="INLINE_BLOT",a[a.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",a[a.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",a[a.ANY=15]="ANY"}(s=o.Scope||(o.Scope={})),o.create=function e(a,n){var i=y(a);if(null==i)throw new k("Unable to create "+a+" blot");var g=i,l=a instanceof Node||a.nodeType===Node.TEXT_NODE?a:g.create(n);return new g(l,n)},o.find=function r(a,n){return void 0===n&&(n=!1),null==a?null:null!=a[o.DATA_KEY]?a[o.DATA_KEY].blot:n?r(a.parentNode,n):null},o.query=y,o.register=function t(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];if(a.length>1)return a.map(function(l){return t(l)});var i=a[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new k("Invalid definition");if("abstract"===i.blotName)throw new k("Cannot register abstract class");return p[i.blotName||i.attrName]=i,"string"==typeof i.keyName?N[i.keyName]=i:(null!=i.className&&(P[i.className]=i),null!=i.tagName&&(i.tagName=Array.isArray(i.tagName)?i.tagName.map(function(l){return l.toUpperCase()}):i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(function(l){(null==R[l]||null==i.className)&&(R[l]=i)}))),i}},function(K,o,w){var c=w(51),k=w(11),N=w(3),P=w(20),p=function(s){this.ops=Array.isArray(s)?s:null!=s&&Array.isArray(s.ops)?s.ops:[]};p.prototype.insert=function(s,e){var r={};return 0===s.length?this:(r.insert=s,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))},p.prototype.delete=function(s){return s<=0?this:this.push({delete:s})},p.prototype.retain=function(s,e){if(s<=0)return this;var r={retain:s};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)},p.prototype.push=function(s){var e=this.ops.length,r=this.ops[e-1];if(s=N(!0,{},s),"object"==typeof r){if("number"==typeof s.delete&&"number"==typeof r.delete)return this.ops[e-1]={delete:r.delete+s.delete},this;if("number"==typeof r.delete&&null!=s.insert&&"object"!=typeof(r=this.ops[(e-=1)-1]))return this.ops.unshift(s),this;if(k(s.attributes,r.attributes)){if("string"==typeof s.insert&&"string"==typeof r.insert)return this.ops[e-1]={insert:r.insert+s.insert},"object"==typeof s.attributes&&(this.ops[e-1].attributes=s.attributes),this;if("number"==typeof s.retain&&"number"==typeof r.retain)return this.ops[e-1]={retain:r.retain+s.retain},"object"==typeof s.attributes&&(this.ops[e-1].attributes=s.attributes),this}}return e===this.ops.length?this.ops.push(s):this.ops.splice(e,0,s),this},p.prototype.chop=function(){var s=this.ops[this.ops.length-1];return s&&s.retain&&!s.attributes&&this.ops.pop(),this},p.prototype.filter=function(s){return this.ops.filter(s)},p.prototype.forEach=function(s){this.ops.forEach(s)},p.prototype.map=function(s){return this.ops.map(s)},p.prototype.partition=function(s){var e=[],r=[];return this.forEach(function(y){(s(y)?e:r).push(y)}),[e,r]},p.prototype.reduce=function(s,e){return this.ops.reduce(s,e)},p.prototype.changeLength=function(){return this.reduce(function(s,e){return e.insert?s+P.length(e):e.delete?s-e.delete:s},0)},p.prototype.length=function(){return this.reduce(function(s,e){return s+P.length(e)},0)},p.prototype.slice=function(s,e){s=s||0,"number"!=typeof e&&(e=1/0);for(var r=[],y=P.iterator(this.ops),t=0;t<e&&y.hasNext();){var a;t<s?a=y.next(s-t):(a=y.next(e-t),r.push(a)),t+=P.length(a)}return new p(r)},p.prototype.compose=function(s){var e=P.iterator(this.ops),r=P.iterator(s.ops),y=[],t=r.peek();if(null!=t&&"number"==typeof t.retain&&null==t.attributes){for(var a=t.retain;"insert"===e.peekType()&&e.peekLength()<=a;)a-=e.peekLength(),y.push(e.next());t.retain-a>0&&r.next(t.retain-a)}for(var n=new p(y);e.hasNext()||r.hasNext();)if("insert"===r.peekType())n.push(r.next());else if("delete"===e.peekType())n.push(e.next());else{var i=Math.min(e.peekLength(),r.peekLength()),g=e.next(i),l=r.next(i);if("number"==typeof l.retain){var m={};"number"==typeof g.retain?m.retain=i:m.insert=g.insert;var C=P.attributes.compose(g.attributes,l.attributes,"number"==typeof g.retain);if(C&&(m.attributes=C),n.push(m),!r.hasNext()&&k(n.ops[n.ops.length-1],m)){var u=new p(e.rest());return n.concat(u).chop()}}else"number"==typeof l.delete&&"number"==typeof g.retain&&n.push(l)}return n.chop()},p.prototype.concat=function(s){var e=new p(this.ops.slice());return s.ops.length>0&&(e.push(s.ops[0]),e.ops=e.ops.concat(s.ops.slice(1))),e},p.prototype.diff=function(s,e){if(this.ops===s.ops)return new p;var r=[this,s].map(function(i){return i.map(function(g){if(null!=g.insert)return"string"==typeof g.insert?g.insert:"\0";throw new Error("diff() called "+(i===s?"on":"with")+" non-document")}).join("")}),y=new p,t=c(r[0],r[1],e),a=P.iterator(this.ops),n=P.iterator(s.ops);return t.forEach(function(i){for(var g=i[1].length;g>0;){var l=0;switch(i[0]){case c.INSERT:l=Math.min(n.peekLength(),g),y.push(n.next(l));break;case c.DELETE:l=Math.min(g,a.peekLength()),a.next(l),y.delete(l);break;case c.EQUAL:l=Math.min(a.peekLength(),n.peekLength(),g);var m=a.next(l),C=n.next(l);k(m.insert,C.insert)?y.retain(l,P.attributes.diff(m.attributes,C.attributes)):y.push(C).delete(l)}g-=l}}),y.chop()},p.prototype.eachLine=function(s,e){e=e||"\n";for(var r=P.iterator(this.ops),y=new p,t=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),n=P.length(a)-r.peekLength(),i="string"==typeof a.insert?a.insert.indexOf(e,n)-n:-1;if(i<0)y.push(r.next());else if(i>0)y.push(r.next(i));else{if(!1===s(y,r.next(1).attributes||{},t))return;t+=1,y=new p}}y.length()>0&&s(y,{},t)},p.prototype.transform=function(s,e){if(e=!!e,"number"==typeof s)return this.transformPosition(s,e);for(var r=P.iterator(this.ops),y=P.iterator(s.ops),t=new p;r.hasNext()||y.hasNext();)if("insert"!==r.peekType()||!e&&"insert"===y.peekType())if("insert"===y.peekType())t.push(y.next());else{var a=Math.min(r.peekLength(),y.peekLength()),n=r.next(a),i=y.next(a);if(n.delete)continue;i.delete?t.push(i):t.retain(a,P.attributes.transform(n.attributes,i.attributes,e))}else t.retain(P.length(r.next()));return t.chop()},p.prototype.transformPosition=function(s,e){e=!!e;for(var r=P.iterator(this.ops),y=0;r.hasNext()&&y<=s;){var t=r.peekLength(),a=r.peekType();r.next(),"delete"!==a?("insert"===a&&(y<s||!e)&&(s+=t),y+=t):s-=Math.min(t,s-y)}return s},K.exports=p},function(K,o){"use strict";var w=Object.prototype.hasOwnProperty,c=Object.prototype.toString,k=Object.defineProperty,N=Object.getOwnPropertyDescriptor,P=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===c.call(r)},R=function(r){if(!r||"[object Object]"!==c.call(r))return!1;var a,y=w.call(r,"constructor"),t=r.constructor&&r.constructor.prototype&&w.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!y&&!t)return!1;for(a in r);return typeof a>"u"||w.call(r,a)},p=function(r,y){k&&"__proto__"===y.name?k(r,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):r[y.name]=y.newValue},s=function(r,y){if("__proto__"===y){if(!w.call(r,y))return;if(N)return N(r,y).value}return r[y]};K.exports=function e(){var r,y,t,a,n,i,g=arguments[0],l=1,m=arguments.length,C=!1;for("boolean"==typeof g&&(C=g,g=arguments[1]||{},l=2),(null==g||"object"!=typeof g&&"function"!=typeof g)&&(g={});l<m;++l)if(null!=(r=arguments[l]))for(y in r)t=s(g,y),g!==(a=s(r,y))&&(C&&a&&(R(a)||(n=P(a)))?(n?(n=!1,i=t&&P(t)?t:[]):i=t&&R(t)?t:{},p(g,{name:y,newValue:e(C,i,a)})):typeof a<"u"&&p(g,{name:y,newValue:a}));return g}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BlockEmbed=o.bubbleFormats=void 0;var c=function(){function f(A,x){for(var D=0;D<x.length;D++){var I=x[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,x,D){return x&&f(A.prototype,x),D&&f(A,D),A}}(),k=function f(A,x,D){null===A&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,x);if(void 0===I){var q=Object.getPrototypeOf(A);return null===q?void 0:f(q,x,D)}if("value"in I)return I.value;var U=I.get;return void 0===U?void 0:U.call(D)},P=g(w(3)),p=g(w(2)),e=g(w(0)),y=g(w(16)),a=g(w(6)),i=g(w(7));function g(f){return f&&f.__esModule?f:{default:f}}function l(f,A){if(!(f instanceof A))throw new TypeError("Cannot call a class as a function")}function m(f,A){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?f:A}function C(f,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);f.prototype=Object.create(A&&A.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(f,A):f.__proto__=A)}var d=function(f){function A(){return l(this,A),m(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return C(A,f),c(A,[{key:"attach",value:function(){k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new p.default).insert(this.value(),(0,P.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,I){var q=e.default.query(D,e.default.Scope.BLOCK_ATTRIBUTE);null!=q&&this.attributes.attribute(q,I)}},{key:"formatAt",value:function(D,I,q,U){this.format(q,U)}},{key:"insertAt",value:function(D,I,q){if("string"==typeof I&&I.endsWith("\n")){var U=e.default.create(S.blotName);this.parent.insertBefore(U,0===D?this:this.next),U.insertAt(0,I.slice(0,-1))}else k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,D,I,q)}}]),A}(e.default.Embed);d.scope=e.default.Scope.BLOCK_BLOT;var S=function(f){function A(x){l(this,A);var D=m(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,x));return D.cache={},D}return C(A,f),c(A,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(D,I){return 0===I.length()?D:D.insert(I.value(),_(I))},new p.default).insert("\n",_(this))),this.cache.delta}},{key:"deleteAt",value:function(D,I){k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,D,I),this.cache={}}},{key:"formatAt",value:function(D,I,q,U){I<=0||(e.default.query(q,e.default.Scope.BLOCK)?D+I===this.length()&&this.format(q,U):k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,D,Math.min(I,this.length()-D-1),q,U),this.cache={})}},{key:"insertAt",value:function(D,I,q){if(null!=q)return k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,D,I,q);if(0!==I.length){var U=I.split("\n"),j=U.shift();j.length>0&&(D<this.length()-1||null==this.children.tail?k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),j):this.children.tail.insertAt(this.children.tail.length(),j),this.cache={});var v=this;U.reduce(function(O,b){return(v=v.split(O,!0)).insertAt(0,b),b.length},D+j.length)}}},{key:"insertBefore",value:function(D,I){var q=this.children.head;k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,D,I),q instanceof y.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(D,I){k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,D,I),this.cache={}}},{key:"optimize",value:function(D){k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(I&&(0===D||D>=this.length()-1)){var q=this.clone();return 0===D?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}var U=k(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,D,I);return this.cache={},U}}]),A}(e.default.Block);function _(f){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==f||("function"==typeof f.formats&&(A=(0,P.default)(A,f.formats())),null==f.parent||"scroll"==f.parent.blotName||f.parent.statics.scope!==f.statics.scope)?A:_(f.parent,A)}S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[a.default,e.default.Embed,i.default],o.bubbleFormats=_,o.BlockEmbed=d,o.default=S},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.overload=o.expandConfig=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},k=function(){return function(O,b){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return function v(O,b){var T=[],E=!0,F=!1,M=void 0;try{for(var B,L=O[Symbol.iterator]();!(E=(B=L.next()).done)&&(T.push(B.value),!b||T.length!==b);E=!0);}catch(G){F=!0,M=G}finally{try{!E&&L.return&&L.return()}finally{if(F)throw M}}return T}(O,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function v(O,b){for(var T=0;T<b.length;T++){var E=b[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}return function(O,b,T){return b&&v(O.prototype,b),T&&v(O,T),O}}();w(50);var R=_(w(2)),s=_(w(14)),r=_(w(8)),t=_(w(9)),n=_(w(0)),i=w(15),g=_(i),m=_(w(3)),u=_(w(10)),S=_(w(34));function _(v){return v&&v.__esModule?v:{default:v}}function f(v,O,b){return O in v?Object.defineProperty(v,O,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[O]=b,v}var x=(0,u.default)("quill"),D=function(){function v(O){var b=this,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function A(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,v),this.options=I(O,T),this.container=this.options.container,null==this.container)return x.error("Invalid Quill container",O);this.options.debug&&v.debug(this.options.debug);var E=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new r.default,this.scroll=n.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new g.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(r.default.events.EDITOR_CHANGE,function(M){M===r.default.events.TEXT_CHANGE&&b.root.classList.toggle("ql-blank",b.editor.isBlank())}),this.emitter.on(r.default.events.SCROLL_UPDATE,function(M,L){var B=b.selection.lastRange,G=B&&0===B.length?B.index:void 0;q.call(b,function(){return b.editor.update(null,L,G)},M)});var F=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+E+"<p><br></p></div>");this.setContents(F),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return N(v,null,[{key:"debug",value:function(b){!0===b&&(b="log"),u.default.level(b)}},{key:"find",value:function(b){return b.__quill||n.default.find(b)}},{key:"import",value:function(b){return null==this.imports[b]&&x.error("Cannot import "+b+". Are you sure it was registered?"),this.imports[b]}},{key:"register",value:function(b,T){var E=this,F=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof b){var M=b.attrName||b.blotName;"string"==typeof M?this.register("formats/"+M,b,T):Object.keys(b).forEach(function(L){E.register(L,b[L],T)})}else null!=this.imports[b]&&!F&&x.warn("Overwriting "+b+" with",T),this.imports[b]=T,(b.startsWith("blots/")||b.startsWith("formats/"))&&"abstract"!==T.blotName?n.default.register(T):b.startsWith("modules")&&"function"==typeof T.register&&T.register()}}]),N(v,[{key:"addContainer",value:function(b){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof b){var E=b;(b=document.createElement("div")).classList.add(E)}return this.container.insertBefore(b,T),b}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(b,T,E){var F=this,M=U(b,T,E),L=k(M,4);return q.call(this,function(){return F.editor.deleteText(b,T)},E=L[3],b=L[0],-1*(T=L[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(b),this.container.classList.toggle("ql-disabled",!b)}},{key:"focus",value:function(){var b=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=b,this.scrollIntoView()}},{key:"format",value:function(b,T){var E=this;return q.call(this,function(){var M=E.getSelection(!0),L=new R.default;if(null==M)return L;if(n.default.query(b,n.default.Scope.BLOCK))L=E.editor.formatLine(M.index,M.length,f({},b,T));else{if(0===M.length)return E.selection.format(b,T),L;L=E.editor.formatText(M.index,M.length,f({},b,T))}return E.setSelection(M,r.default.sources.SILENT),L},arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default.sources.API)}},{key:"formatLine",value:function(b,T,E,F,M){var B,L=this,G=U(b,T,E,F,M),z=k(G,4);return T=z[1],B=z[2],q.call(this,function(){return L.editor.formatLine(b,T,B)},M=z[3],b=z[0],0)}},{key:"formatText",value:function(b,T,E,F,M){var B,L=this,G=U(b,T,E,F,M),z=k(G,4);return T=z[1],B=z[2],q.call(this,function(){return L.editor.formatText(b,T,B)},M=z[3],b=z[0],0)}},{key:"getBounds",value:function(b){var E;E="number"==typeof b?this.selection.getBounds(b,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(b.index,b.length);var F=this.container.getBoundingClientRect();return{bottom:E.bottom-F.top,height:E.height,left:E.left-F.left,right:E.right-F.left,top:E.top-F.top,width:E.width}}},{key:"getContents",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-b,E=U(b,T),F=k(E,2);return this.editor.getContents(b=F[0],T=F[1])}},{key:"getFormat",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof b?this.editor.getFormat(b,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(b.index,b.length)}},{key:"getIndex",value:function(b){return b.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(b){return this.scroll.leaf(b)}},{key:"getLine",value:function(b){return this.scroll.line(b)}},{key:"getLines",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof b?this.scroll.lines(b.index,b.length):this.scroll.lines(b,T)}},{key:"getModule",value:function(b){return this.theme.modules[b]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-b,E=U(b,T),F=k(E,2);return this.editor.getText(b=F[0],T=F[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(b,T,E){var F=this;return q.call(this,function(){return F.editor.insertEmbed(b,T,E)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.sources.API,b)}},{key:"insertText",value:function(b,T,E,F,M){var B,L=this,G=U(b,0,E,F,M),z=k(G,4);return B=z[2],q.call(this,function(){return L.editor.insertText(b,T,B)},M=z[3],b=z[0],T.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(b,T,E){this.clipboard.dangerouslyPasteHTML(b,T,E)}},{key:"removeFormat",value:function(b,T,E){var F=this,M=U(b,T,E),L=k(M,4);return T=L[1],q.call(this,function(){return F.editor.removeFormat(b,T)},E=L[3],b=L[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(b){var T=this;return q.call(this,function(){b=new R.default(b);var F=T.getLength(),M=T.editor.deleteText(0,F),L=T.editor.applyDelta(b),B=L.ops[L.ops.length-1];return null!=B&&"string"==typeof B.insert&&"\n"===B.insert[B.insert.length-1]&&(T.editor.deleteText(T.getLength()-1,1),L.delete(1)),M.compose(L)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.sources.API)}},{key:"setSelection",value:function(b,T,E){if(null==b)this.selection.setRange(null,T||v.sources.API);else{var F=U(b,T,E),M=k(F,4);E=M[3],this.selection.setRange(new i.Range(b=M[0],T=M[1]),E),E!==r.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(b){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.sources.API,E=(new R.default).insert(b);return this.setContents(E,T)}},{key:"update",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default.sources.USER,T=this.scroll.update(b);return this.selection.update(b),T}},{key:"updateContents",value:function(b){var T=this,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.sources.API;return q.call(this,function(){return b=new R.default(b),T.editor.applyDelta(b,E)},E,!0)}}]),v}();function I(v,O){if((O=(0,m.default)(!0,{container:v,modules:{clipboard:!0,keyboard:!0,history:!0}},O)).theme&&O.theme!==D.DEFAULTS.theme){if(O.theme=D.import("themes/"+O.theme),null==O.theme)throw new Error("Invalid theme "+O.theme+". Did you register it?")}else O.theme=S.default;var b=(0,m.default)(!0,{},O.theme.DEFAULTS);[b,O].forEach(function(F){F.modules=F.modules||{},Object.keys(F.modules).forEach(function(M){!0===F.modules[M]&&(F.modules[M]={})})});var E=Object.keys(b.modules).concat(Object.keys(O.modules)).reduce(function(F,M){var L=D.import("modules/"+M);return null==L?x.error("Cannot load "+M+" module. Are you sure you registered it?"):F[M]=L.DEFAULTS||{},F},{});return null!=O.modules&&O.modules.toolbar&&O.modules.toolbar.constructor!==Object&&(O.modules.toolbar={container:O.modules.toolbar}),O=(0,m.default)(!0,{},D.DEFAULTS,{modules:E},b,O),["bounds","container","scrollingContainer"].forEach(function(F){"string"==typeof O[F]&&(O[F]=document.querySelector(O[F]))}),O.modules=Object.keys(O.modules).reduce(function(F,M){return O.modules[M]&&(F[M]=O.modules[M]),F},{}),O}function q(v,O,b,T){if(this.options.strict&&!this.isEnabled()&&O===r.default.sources.USER)return new R.default;var E=null==b?null:this.getSelection(),F=this.editor.delta,M=v();if(null!=E&&(!0===b&&(b=E.index),null==T?E=j(E,M,O):0!==T&&(E=j(E,b,T,O)),this.setSelection(E,r.default.sources.SILENT)),M.length()>0){var L,G,B=[r.default.events.TEXT_CHANGE,M,F,O];(L=this.emitter).emit.apply(L,[r.default.events.EDITOR_CHANGE].concat(B)),O!==r.default.sources.SILENT&&(G=this.emitter).emit.apply(G,B)}return M}function U(v,O,b,T,E){var F={};return"number"==typeof v.index&&"number"==typeof v.length?"number"!=typeof O?(E=T,T=b,b=O,O=v.length,v=v.index):(O=v.length,v=v.index):"number"!=typeof O&&(E=T,T=b,b=O,O=0),"object"===(typeof b>"u"?"undefined":c(b))?(F=b,E=T):"string"==typeof b&&(null!=T?F[b]=T:E=b),[v,O,F,E=E||r.default.sources.API]}function j(v,O,b,T){if(null==v)return null;var E=void 0,F=void 0;if(O instanceof R.default){var M=[v.index,v.index+v.length].map(function(z){return O.transformPosition(z,T!==r.default.sources.USER)}),L=k(M,2);E=L[0],F=L[1]}else{var B=[v.index,v.index+v.length].map(function(z){return z<O||z===O&&T===r.default.sources.USER?z:b>=0?z+b:Math.max(O,z+b)}),G=k(B,2);E=G[0],F=G[1]}return new i.Range(E,F-E)}D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=r.default.events,D.sources=r.default.sources,D.version="1.3.7",D.imports={delta:R.default,parchment:n.default,"core/module":t.default,"core/theme":S.default},o.expandConfig=I,o.overload=U,o.default=D},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function a(n,i){for(var g=0;g<i.length;g++){var l=i[g];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,i,g){return i&&a(n.prototype,i),g&&a(n,g),n}}(),k=function a(n,i,g){null===n&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,i);if(void 0===l){var m=Object.getPrototypeOf(n);return null===m?void 0:a(m,i,g)}if("value"in l)return l.value;var C=l.get;return void 0===C?void 0:C.call(g)},P=s(w(7)),p=s(w(0));function s(a){return a&&a.__esModule?a:{default:a}}var t=function(a){function n(){return function e(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function r(a,n){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?a:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function y(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(a,n):a.__proto__=n)}(n,a),c(n,[{key:"formatAt",value:function(g,l,m,C){if(n.compare(this.statics.blotName,m)<0&&p.default.query(m,p.default.Scope.BLOT)){var u=this.isolate(g,l);C&&u.wrap(m,C)}else k(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"formatAt",this).call(this,g,l,m,C)}},{key:"optimize",value:function(g){if(k(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,g),this.parent instanceof n&&n.compare(this.statics.blotName,this.parent.statics.blotName)>0){var l=this.parent.isolate(this.offset(),this.length());this.moveChildren(l),l.wrap(this)}}}],[{key:"compare",value:function(g,l){var m=n.order.indexOf(g),C=n.order.indexOf(l);return m>=0||C>=0?m-C:g===l?0:g<l?-1:1}}]),n}(p.default.Inline);t.allowedChildren=[t,p.default.Embed,P.default],t.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],o.default=t},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function r(){return function P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function R(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function p(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),r}(function N(e){return e&&e.__esModule?e:{default:e}}(w(0)).default.Text);o.default=s},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function i(g,l){for(var m=0;m<l.length;m++){var C=l[m];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,l,m){return l&&i(g.prototype,l),m&&i(g,m),g}}(),k=function i(g,l,m){null===g&&(g=Function.prototype);var C=Object.getOwnPropertyDescriptor(g,l);if(void 0===C){var u=Object.getPrototypeOf(g);return null===u?void 0:i(u,l,m)}if("value"in C)return C.value;var d=C.get;return void 0===d?void 0:d.call(m)},P=s(w(54));function s(i){return i&&i.__esModule?i:{default:i}}var t=(0,s(w(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(i){document.addEventListener(i,function(){for(var g=arguments.length,l=Array(g),m=0;m<g;m++)l[m]=arguments[m];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){var u;C.__quill&&C.__quill.emitter&&(u=C.__quill.emitter).handleDOM.apply(u,l)})})});var n=function(i){function g(){!function e(i,g){if(!(i instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g);var l=function r(i,g){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?i:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return l.listeners={},l.on("error",t.error),l}return function y(i,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);i.prototype=Object.create(g&&g.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(i,g):i.__proto__=g)}(g,i),c(g,[{key:"emit",value:function(){t.log.apply(t,arguments),k(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(m){for(var C=arguments.length,u=Array(C>1?C-1:0),d=1;d<C;d++)u[d-1]=arguments[d];(this.listeners[m.type]||[]).forEach(function(S){var _=S.node,f=S.handler;(m.target===_||_.contains(m.target))&&f.apply(void 0,[m].concat(u))})}},{key:"listenDOM",value:function(m,C,u){this.listeners[m]||(this.listeners[m]=[]),this.listeners[m].push({node:C,handler:u})}}]),g}(P.default);n.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},n.sources={API:"api",SILENT:"silent",USER:"user"},o.default=n},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var k=function N(P){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function c(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")})(this,N),this.quill=P,this.options=R};k.DEFAULTS={},o.default=k},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=["error","warn","log","info"],k="warn";function N(R){if(c.indexOf(R)<=c.indexOf(k)){for(var p,s=arguments.length,e=Array(s>1?s-1:0),r=1;r<s;r++)e[r-1]=arguments[r];(p=console)[R].apply(p,e)}}function P(R){return c.reduce(function(p,s){return p[s]=N.bind(console,s,R),p},{})}N.level=P.level=function(R){k=R},o.default=P},function(K,o,w){var c=Array.prototype.slice,k=w(52),N=w(53),P=K.exports=function(e,r,y){return y||(y={}),e===r||(e instanceof Date&&r instanceof Date?e.getTime()===r.getTime():!e||!r||"object"!=typeof e&&"object"!=typeof r?y.strict?e===r:e==r:function s(e,r,y){var t,a;if(R(e)||R(r)||e.prototype!==r.prototype)return!1;if(N(e))return!!N(r)&&(e=c.call(e),r=c.call(r),P(e,r,y));if(p(e)){if(!p(r)||e.length!==r.length)return!1;for(t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}try{var n=k(e),i=k(r)}catch{return!1}if(n.length!=i.length)return!1;for(n.sort(),i.sort(),t=n.length-1;t>=0;t--)if(n[t]!=i[t])return!1;for(t=n.length-1;t>=0;t--)if(!P(e[a=n[t]],r[a],y))return!1;return typeof e==typeof r}(e,r,y))};function R(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=w(1),k=function(){function N(P,R,p){void 0===p&&(p={}),this.attrName=P,this.keyName=R,this.scope=null!=p.scope?p.scope&c.Scope.LEVEL|c.Scope.TYPE&c.Scope.ATTRIBUTE:c.Scope.ATTRIBUTE,null!=p.whitelist&&(this.whitelist=p.whitelist)}return N.keys=function(P){return[].map.call(P.attributes,function(R){return R.name})},N.prototype.add=function(P,R){return!!this.canAdd(P,R)&&(P.setAttribute(this.keyName,R),!0)},N.prototype.canAdd=function(P,R){return null!=c.query(P,c.Scope.BLOT&(this.scope|c.Scope.TYPE))&&(null==this.whitelist||("string"==typeof R?this.whitelist.indexOf(R.replace(/["']/g,""))>-1:this.whitelist.indexOf(R)>-1))},N.prototype.remove=function(P){P.removeAttribute(this.keyName)},N.prototype.value=function(P){var R=P.getAttribute(this.keyName);return this.canAdd(P,R)&&R?R:""},N}();o.default=k},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.Code=void 0;var c=function(){return function(S,_){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function d(S,_){var f=[],A=!0,x=!1,D=void 0;try{for(var q,I=S[Symbol.iterator]();!(A=(q=I.next()).done)&&(f.push(q.value),!_||f.length!==_);A=!0);}catch(U){x=!0,D=U}finally{try{!A&&I.return&&I.return()}finally{if(x)throw D}}return f}(S,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function d(S,_){for(var f=0;f<_.length;f++){var A=_[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,_,f){return _&&d(S.prototype,_),f&&d(S,f),S}}(),N=function d(S,_,f){null===S&&(S=Function.prototype);var A=Object.getOwnPropertyDescriptor(S,_);if(void 0===A){var x=Object.getPrototypeOf(S);return null===x?void 0:d(x,_,f)}if("value"in A)return A.value;var D=A.get;return void 0===D?void 0:D.call(f)},R=i(w(2)),s=i(w(0)),r=i(w(4)),t=i(w(6)),n=i(w(7));function i(d){return d&&d.__esModule?d:{default:d}}function g(d,S){if(!(d instanceof S))throw new TypeError("Cannot call a class as a function")}function l(d,S){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?d:S}function m(d,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);d.prototype=Object.create(S&&S.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(d,S):d.__proto__=S)}var C=function(d){function S(){return g(this,S),l(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return m(S,d),S}(t.default);C.blotName="code",C.tagName="CODE";var u=function(d){function S(){return g(this,S),l(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return m(S,d),k(S,[{key:"delta",value:function(){var f=this,A=this.domNode.textContent;return A.endsWith("\n")&&(A=A.slice(0,-1)),A.split("\n").reduce(function(x,D){return x.insert(D).insert("\n",f.formats())},new R.default)}},{key:"format",value:function(f,A){if(f!==this.statics.blotName||!A){var x=this.descendant(n.default,this.length()-1),I=c(x,1)[0];I?.deleteAt(I.length()-1,1),N(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,f,A)}}},{key:"formatAt",value:function(f,A,x,D){if(0!==A&&null!=s.default.query(x,s.default.Scope.BLOCK)&&(x!==this.statics.blotName||D!==this.statics.formats(this.domNode))){var I=this.newlineIndex(f);if(!(I<0||I>=f+A)){var q=this.newlineIndex(f,!0)+1,U=I-q+1,j=this.isolate(q,U),v=j.next;j.format(x,D),v instanceof S&&v.formatAt(0,f-q+A-U,x,D)}}}},{key:"insertAt",value:function(f,A,x){if(null==x){var D=this.descendant(n.default,f),I=c(D,2);I[0].insertAt(I[1],A)}}},{key:"length",value:function(){var f=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?f:f+1}},{key:"newlineIndex",value:function(f){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,f).lastIndexOf("\n");var x=this.domNode.textContent.slice(f).indexOf("\n");return x>-1?f+x:-1}},{key:"optimize",value:function(f){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),N(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,f);var A=this.next;null!=A&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(f),A.moveChildren(this),A.remove())}},{key:"replace",value:function(f){N(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,f),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var x=s.default.find(A);null==x?A.parentNode.removeChild(A):x instanceof s.default.Embed?x.remove():x.unwrap()})}}],[{key:"create",value:function(f){var A=N(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,f);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),S}(r.default);u.blotName="code-block",u.tagName="PRE",u.TAB="  ",o.Code=C,o.default=u},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},k=function(){return function(O,b){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return function v(O,b){var T=[],E=!0,F=!1,M=void 0;try{for(var B,L=O[Symbol.iterator]();!(E=(B=L.next()).done)&&(T.push(B.value),!b||T.length!==b);E=!0);}catch(G){F=!0,M=G}finally{try{!E&&L.return&&L.return()}finally{if(F)throw M}}return T}(O,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function v(O,b){for(var T=0;T<b.length;T++){var E=b[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}return function(O,b,T){return b&&v(O.prototype,b),T&&v(O,T),O}}(),R=A(w(2)),s=A(w(20)),r=A(w(0)),t=A(w(13)),n=A(w(24)),i=w(4),g=A(i),m=A(w(16)),u=A(w(21)),S=A(w(11)),f=A(w(3));function A(v){return v&&v.__esModule?v:{default:v}}var I=/^[ -~]*$/,q=function(){function v(O){(function D(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")})(this,v),this.scroll=O,this.delta=this.getDelta()}return N(v,[{key:"applyDelta",value:function(b){var T=this,E=!1;this.scroll.update();var F=this.scroll.length();return this.scroll.batchStart(),b=function j(v){return v.reduce(function(O,b){if(1===b.insert){var T=(0,u.default)(b.attributes);return delete T.image,O.insert({image:b.attributes.image},T)}if(null!=b.attributes&&(!0===b.attributes.list||!0===b.attributes.bullet)&&((b=(0,u.default)(b)).attributes.list?b.attributes.list="ordered":(b.attributes.list="bullet",delete b.attributes.bullet)),"string"==typeof b.insert){var E=b.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return O.insert(E,b.attributes)}return O.push(b)},new R.default)}(b),b.reduce(function(M,L){var B=L.retain||L.delete||L.insert.length||1,G=L.attributes||{};if(null!=L.insert){if("string"==typeof L.insert){var z=L.insert;z.endsWith("\n")&&E&&(E=!1,z=z.slice(0,-1)),M>=F&&!z.endsWith("\n")&&(E=!0),T.scroll.insertAt(M,z);var $=T.scroll.line(M),Q=k($,2),ie=Q[0],se=Q[1],W=(0,f.default)({},(0,i.bubbleFormats)(ie));if(ie instanceof g.default){var H=ie.descendant(r.default.Leaf,se),X=k(H,1);W=(0,f.default)(W,(0,i.bubbleFormats)(X[0]))}G=s.default.attributes.diff(W,G)||{}}else if("object"===c(L.insert)){var V=Object.keys(L.insert)[0];if(null==V)return M;T.scroll.insertAt(M,V,L.insert[V])}F+=B}return Object.keys(G).forEach(function(Y){T.scroll.formatAt(M,B,Y,G[Y])}),M+B},0),b.reduce(function(M,L){return"number"==typeof L.delete?(T.scroll.deleteAt(M,L.delete),M):M+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(b)}},{key:"deleteText",value:function(b,T){return this.scroll.deleteAt(b,T),this.update((new R.default).retain(b).delete(T))}},{key:"formatLine",value:function(b,T){var E=this,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(F).forEach(function(M){if(null==E.scroll.whitelist||E.scroll.whitelist[M]){var L=E.scroll.lines(b,Math.max(T,1)),B=T;L.forEach(function(G){var z=G.length();if(G instanceof t.default){var $=b-G.offset(E.scroll),Q=G.newlineIndex($+B)-$+1;G.formatAt($,Q,M,F[M])}else G.format(M,F[M]);B-=z})}}),this.scroll.optimize(),this.update((new R.default).retain(b).retain(T,(0,u.default)(F)))}},{key:"formatText",value:function(b,T){var E=this,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(F).forEach(function(M){E.scroll.formatAt(b,T,M,F[M])}),this.update((new R.default).retain(b).retain(T,(0,u.default)(F)))}},{key:"getContents",value:function(b,T){return this.delta.slice(b,b+T)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(b,T){return b.concat(T.delta())},new R.default)}},{key:"getFormat",value:function(b){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,E=[],F=[];0===T?this.scroll.path(b).forEach(function(L){var G=k(L,1)[0];G instanceof g.default?E.push(G):G instanceof r.default.Leaf&&F.push(G)}):(E=this.scroll.lines(b,T),F=this.scroll.descendants(r.default.Leaf,b,T));var M=[E,F].map(function(L){if(0===L.length)return{};for(var B=(0,i.bubbleFormats)(L.shift());Object.keys(B).length>0;){var G=L.shift();if(null==G)return B;B=U((0,i.bubbleFormats)(G),B)}return B});return f.default.apply(f.default,M)}},{key:"getText",value:function(b,T){return this.getContents(b,T).filter(function(E){return"string"==typeof E.insert}).map(function(E){return E.insert}).join("")}},{key:"insertEmbed",value:function(b,T,E){return this.scroll.insertAt(b,T,E),this.update((new R.default).retain(b).insert(function x(v,O,b){return O in v?Object.defineProperty(v,O,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[O]=b,v}({},T,E)))}},{key:"insertText",value:function(b,T){var E=this,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return T=T.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(b,T),Object.keys(F).forEach(function(M){E.scroll.formatAt(b,T.length,M,F[M])}),this.update((new R.default).retain(b).insert(T,(0,u.default)(F)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var b=this.scroll.children.head;return!(b.statics.blotName!==g.default.blotName||b.children.length>1)&&b.children.head instanceof m.default}},{key:"removeFormat",value:function(b,T){var E=this.getText(b,T),F=this.scroll.line(b+T),M=k(F,2),L=M[0],B=M[1],G=0,z=new R.default;null!=L&&(G=L instanceof t.default?L.newlineIndex(B)-B+1:L.length()-B,z=L.delta().slice(B,B+G-1).insert("\n"));var Q=this.getContents(b,T+G).diff((new R.default).insert(E).concat(z)),ie=(new R.default).retain(b).concat(Q);return this.applyDelta(ie)}},{key:"update",value:function(b){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,F=this.delta;if(1===T.length&&"characterData"===T[0].type&&T[0].target.data.match(I)&&r.default.find(T[0].target)){var M=r.default.find(T[0].target),L=(0,i.bubbleFormats)(M),B=M.offset(this.scroll),G=T[0].oldValue.replace(n.default.CONTENTS,""),z=(new R.default).insert(G),$=(new R.default).insert(M.value());b=(new R.default).retain(B).concat(z.diff($,E)).reduce(function(ie,se){return se.insert?ie.insert(se.insert,L):ie.push(se)},new R.default),this.delta=F.compose(b)}else this.delta=this.getDelta(),(!b||!(0,S.default)(F.compose(b),this.delta))&&(b=F.diff(this.delta,E));return b}}]),v}();function U(v,O){return Object.keys(O).reduce(function(b,T){return null==v[T]||(O[T]===v[T]?b[T]=O[T]:Array.isArray(O[T])?O[T].indexOf(v[T])<0&&(b[T]=O[T].concat([v[T]])):b[T]=[O[T],v[T]]),b},{})}o.default=q},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.Range=void 0;var c=function(){return function(S,_){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function d(S,_){var f=[],A=!0,x=!1,D=void 0;try{for(var q,I=S[Symbol.iterator]();!(A=(q=I.next()).done)&&(f.push(q.value),!_||f.length!==_);A=!0);}catch(U){x=!0,D=U}finally{try{!A&&I.return&&I.return()}finally{if(x)throw D}}return f}(S,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function d(S,_){for(var f=0;f<_.length;f++){var A=_[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,_,f){return _&&d(S.prototype,_),f&&d(S,f),S}}(),P=n(w(0)),p=n(w(21)),e=n(w(11)),y=n(w(8));function n(d){return d&&d.__esModule?d:{default:d}}function i(d){if(Array.isArray(d)){for(var S=0,_=Array(d.length);S<d.length;S++)_[S]=d[S];return _}return Array.from(d)}function g(d,S){if(!(d instanceof S))throw new TypeError("Cannot call a class as a function")}var l=(0,n(w(10)).default)("quill:selection"),m=function d(S){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,d),this.index=S,this.length=_},C=function(){function d(S,_){var f=this;g(this,d),this.emitter=_,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=P.default.create("cursor",this),this.lastRange=this.savedRange=new m(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){f.mouseDown||setTimeout(f.update.bind(f,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(A,x){A===y.default.events.TEXT_CHANGE&&x.length()>0&&f.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(f.hasFocus()){var A=f.getNativeRange();null!=A&&A.start.node!==f.cursor.textNode&&f.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{f.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(A,x){if(x.range){var D=x.range;f.setNativeRange(D.startNode,D.startOffset,D.endNode,D.endOffset)}}),this.update(y.default.sources.SILENT)}return k(d,[{key:"handleComposition",value:function(){var _=this;this.root.addEventListener("compositionstart",function(){_.composing=!0}),this.root.addEventListener("compositionend",function(){if(_.composing=!1,_.cursor.parent){var f=_.cursor.restore();if(!f)return;setTimeout(function(){_.setNativeRange(f.startNode,f.startOffset,f.endNode,f.endOffset)},1)}})}},{key:"handleDragging",value:function(){var _=this;this.emitter.listenDOM("mousedown",document.body,function(){_.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){_.mouseDown=!1,_.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(_,f){if(null==this.scroll.whitelist||this.scroll.whitelist[_]){this.scroll.update();var A=this.getNativeRange();if(null!=A&&A.native.collapsed&&!P.default.query(_,P.default.Scope.BLOCK)){if(A.start.node!==this.cursor.textNode){var x=P.default.find(A.start.node,!1);if(null==x)return;if(x instanceof P.default.Leaf){var D=x.split(A.start.offset);x.parent.insertBefore(this.cursor,D)}else x.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(_,f),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(_){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=this.scroll.length();_=Math.min(_,A-1),f=Math.min(_+f,A-1)-_;var x=void 0,D=this.scroll.leaf(_),I=c(D,2),q=I[0],U=I[1];if(null==q)return null;var j=q.position(U,!0),v=c(j,2);x=v[0],U=v[1];var O=document.createRange();if(f>0){O.setStart(x,U);var b=this.scroll.leaf(_+f),T=c(b,2);if(null==(q=T[0]))return null;var E=q.position(U=T[1],!0),F=c(E,2);return O.setEnd(x=F[0],U=F[1]),O.getBoundingClientRect()}var M="left",L=void 0;return x instanceof Text?(U<x.data.length?(O.setStart(x,U),O.setEnd(x,U+1)):(O.setStart(x,U-1),O.setEnd(x,U),M="right"),L=O.getBoundingClientRect()):(L=q.domNode.getBoundingClientRect(),U>0&&(M="right")),{bottom:L.top+L.height,height:L.height,left:L[M],right:L[M],top:L.top,width:0}}},{key:"getNativeRange",value:function(){var _=document.getSelection();if(null==_||_.rangeCount<=0)return null;var f=_.getRangeAt(0);if(null==f)return null;var A=this.normalizeNative(f);return l.info("getNativeRange",A),A}},{key:"getRange",value:function(){var _=this.getNativeRange();return null==_?[null,null]:[this.normalizedToRange(_),_]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(_){var f=this,A=[[_.start.node,_.start.offset]];_.native.collapsed||A.push([_.end.node,_.end.offset]);var x=A.map(function(q){var U=c(q,2),j=U[0],v=U[1],O=P.default.find(j,!0),b=O.offset(f.scroll);return 0===v?b:O instanceof P.default.Container?b+O.length():b+O.index(j,v)}),D=Math.min(Math.max.apply(Math,i(x)),this.scroll.length()-1),I=Math.min.apply(Math,[D].concat(i(x)));return new m(I,D-I)}},{key:"normalizeNative",value:function(_){if(!u(this.root,_.startContainer)||!_.collapsed&&!u(this.root,_.endContainer))return null;var f={start:{node:_.startContainer,offset:_.startOffset},end:{node:_.endContainer,offset:_.endOffset},native:_};return[f.start,f.end].forEach(function(A){for(var x=A.node,D=A.offset;!(x instanceof Text)&&x.childNodes.length>0;)if(x.childNodes.length>D)x=x.childNodes[D],D=0;else{if(x.childNodes.length!==D)break;D=(x=x.lastChild)instanceof Text?x.data.length:x.childNodes.length+1}A.node=x,A.offset=D}),f}},{key:"rangeToNative",value:function(_){var f=this,A=_.collapsed?[_.index]:[_.index,_.index+_.length],x=[],D=this.scroll.length();return A.forEach(function(I,q){I=Math.min(D-1,I);var j=f.scroll.leaf(I),v=c(j,2),b=v[1],T=v[0].position(b,0!==q),E=c(T,2);x.push(E[0],b=E[1])}),x.length<2&&(x=x.concat(x)),x}},{key:"scrollIntoView",value:function(_){var f=this.lastRange;if(null!=f){var A=this.getBounds(f.index,f.length);if(null!=A){var x=this.scroll.length()-1,D=this.scroll.line(Math.min(f.index,x)),q=c(D,1)[0],U=q;if(f.length>0){var j=this.scroll.line(Math.min(f.index+f.length,x));U=c(j,1)[0]}if(null!=q&&null!=U){var O=_.getBoundingClientRect();A.top<O.top?_.scrollTop-=O.top-A.top:A.bottom>O.bottom&&(_.scrollTop+=A.bottom-O.bottom)}}}}},{key:"setNativeRange",value:function(_,f){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f,D=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l.info("setNativeRange",_,f,A,x),null==_||null!=this.root.parentNode&&null!=_.parentNode&&null!=A.parentNode){var I=document.getSelection();if(null!=I)if(null!=_){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(null==q||D||_!==q.startContainer||f!==q.startOffset||A!==q.endContainer||x!==q.endOffset){"BR"==_.tagName&&(f=[].indexOf.call(_.parentNode.childNodes,_),_=_.parentNode),"BR"==A.tagName&&(x=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var U=document.createRange();U.setStart(_,f),U.setEnd(A,x),I.removeAllRanges(),I.addRange(U)}}else I.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(_){var f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.default.sources.API;if("string"==typeof f&&(A=f,f=!1),l.info("setRange",_),null!=_){var x=this.rangeToNative(_);this.setNativeRange.apply(this,i(x).concat([f]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default.sources.USER,f=this.lastRange,A=this.getRange(),x=c(A,2),I=x[1];if(this.lastRange=x[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,e.default)(f,this.lastRange)){var q;!this.composing&&null!=I&&I.native.collapsed&&I.start.node!==this.cursor.textNode&&this.cursor.restore();var j,U=[y.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(f),_];(q=this.emitter).emit.apply(q,[y.default.events.EDITOR_CHANGE].concat(U)),_!==y.default.sources.SILENT&&(j=this.emitter).emit.apply(j,U)}}}]),d}();function u(d,S){return S instanceof Text&&(S=S.parentNode),d.contains(S)}o.Range=m,o.default=C},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function y(t,a){for(var n=0;n<a.length;n++){var i=a[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,a,n){return a&&y(t.prototype,a),n&&y(t,n),t}}(),k=function y(t,a,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,a);if(void 0===i){var g=Object.getPrototypeOf(t);return null===g?void 0:y(g,a,n)}if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(n)},r=function(y){function t(){return function p(y,t){if(!(y instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function s(y,t){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?y:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function e(y,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);y.prototype=Object.create(t&&t.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(y,t):y.__proto__=t)}(t,y),c(t,[{key:"insertInto",value:function(n,i){0===n.children.length?k(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,n,i):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(function R(y){return y&&y.__esModule?y:{default:y}}(w(0)).default.Embed);r.blotName="break",r.tagName="BR",o.default=r},function(K,o,w){"use strict";var s,c=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var y in r)r.hasOwnProperty(y)&&(e[y]=r[y])},function(e,r){function y(){this.constructor=e}s(e,r),e.prototype=null===r?Object.create(r):(y.prototype=r.prototype,new y)});Object.defineProperty(o,"__esModule",{value:!0});var k=w(44),N=w(30),P=w(1),R=function(s){function e(r){var y=s.call(this,r)||this;return y.build(),y}return c(e,s),e.prototype.appendChild=function(r){this.insertBefore(r)},e.prototype.attach=function(){s.prototype.attach.call(this),this.children.forEach(function(r){r.attach()})},e.prototype.build=function(){var r=this;this.children=new k.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var t=p(y);r.insertBefore(t,r.children.head||void 0)}catch(a){if(a instanceof P.ParchmentError)return;throw a}})},e.prototype.deleteAt=function(r,y){if(0===r&&y===this.length())return this.remove();this.children.forEachAt(r,y,function(t,a,n){t.deleteAt(a,n)})},e.prototype.descendant=function(r,y){var t=this.children.find(y),a=t[0],n=t[1];return null==r.blotName&&r(a)||null!=r.blotName&&a instanceof r?[a,n]:a instanceof e?a.descendant(r,n):[null,-1]},e.prototype.descendants=function(r,y,t){void 0===y&&(y=0),void 0===t&&(t=Number.MAX_VALUE);var a=[],n=t;return this.children.forEachAt(y,t,function(i,g,l){(null==r.blotName&&r(i)||null!=r.blotName&&i instanceof r)&&a.push(i),i instanceof e&&(a=a.concat(i.descendants(r,g,n))),n-=l}),a},e.prototype.detach=function(){this.children.forEach(function(r){r.detach()}),s.prototype.detach.call(this)},e.prototype.formatAt=function(r,y,t,a){this.children.forEachAt(r,y,function(n,i,g){n.formatAt(i,g,t,a)})},e.prototype.insertAt=function(r,y,t){var a=this.children.find(r),n=a[0];if(n)n.insertAt(a[1],y,t);else{var g=null==t?P.create("text",y):P.create(y,t);this.appendChild(g)}},e.prototype.insertBefore=function(r,y){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return r instanceof t}))throw new P.ParchmentError("Cannot insert "+r.statics.blotName+" into "+this.statics.blotName);r.insertInto(this,y)},e.prototype.length=function(){return this.children.reduce(function(r,y){return r+y.length()},0)},e.prototype.moveChildren=function(r,y){this.children.forEach(function(t){r.insertBefore(t,y)})},e.prototype.optimize=function(r){if(s.prototype.optimize.call(this,r),0===this.children.length)if(null!=this.statics.defaultChild){var y=P.create(this.statics.defaultChild);this.appendChild(y),y.optimize(r)}else this.remove()},e.prototype.path=function(r,y){void 0===y&&(y=!1);var t=this.children.find(r,y),a=t[0],n=t[1],i=[[this,r]];return a instanceof e?i.concat(a.path(n,y)):(null!=a&&i.push([a,n]),i)},e.prototype.removeChild=function(r){this.children.remove(r)},e.prototype.replace=function(r){r instanceof e&&r.moveChildren(this),s.prototype.replace.call(this,r)},e.prototype.split=function(r,y){if(void 0===y&&(y=!1),!y){if(0===r)return this;if(r===this.length())return this.next}var t=this.clone();return this.parent.insertBefore(t,this.next),this.children.forEachAt(r,this.length(),function(a,n,i){a=a.split(n,y),t.appendChild(a)}),t},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(r,y){var t=this,a=[],n=[];r.forEach(function(i){i.target===t.domNode&&"childList"===i.type&&(a.push.apply(a,i.addedNodes),n.push.apply(n,i.removedNodes))}),n.forEach(function(i){if(!(null!=i.parentNode&&"IFRAME"!==i.tagName&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var g=P.find(i);null!=g&&(null==g.domNode.parentNode||g.domNode.parentNode===t.domNode)&&g.detach()}}),a.filter(function(i){return i.parentNode==t.domNode}).sort(function(i,g){return i===g?0:i.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(i){var g=null;null!=i.nextSibling&&(g=P.find(i.nextSibling));var l=p(i);(l.next!=g||null==l.next)&&(null!=l.parent&&l.parent.removeChild(t),t.insertBefore(l,g||void 0))})},e}(N.default);function p(s){var e=P.find(s);if(null==e)try{e=P.create(s)}catch{e=P.create(P.Scope.INLINE),[].slice.call(s.childNodes).forEach(function(y){e.domNode.appendChild(y)}),s.parentNode&&s.parentNode.replaceChild(e.domNode,s),e.attach()}return e}o.default=R},function(K,o,w){"use strict";var s,c=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var y in r)r.hasOwnProperty(y)&&(e[y]=r[y])},function(e,r){function y(){this.constructor=e}s(e,r),e.prototype=null===r?Object.create(r):(y.prototype=r.prototype,new y)});Object.defineProperty(o,"__esModule",{value:!0});var k=w(12),N=w(31),P=w(17),R=w(1),p=function(s){function e(r){var y=s.call(this,r)||this;return y.attributes=new N.default(y.domNode),y}return c(e,s),e.formats=function(r){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?r.tagName.toLowerCase():void 0)},e.prototype.format=function(r,y){var t=R.query(r);t instanceof k.default?this.attributes.attribute(t,y):y&&null!=t&&(r!==this.statics.blotName||this.formats()[r]!==y)&&this.replaceWith(r,y)},e.prototype.formats=function(){var r=this.attributes.values(),y=this.statics.formats(this.domNode);return null!=y&&(r[this.statics.blotName]=y),r},e.prototype.replaceWith=function(r,y){var t=s.prototype.replaceWith.call(this,r,y);return this.attributes.copy(t),t},e.prototype.update=function(r,y){var t=this;s.prototype.update.call(this,r,y),r.some(function(a){return a.target===t.domNode&&"attributes"===a.type})&&this.attributes.build()},e.prototype.wrap=function(r,y){var t=s.prototype.wrap.call(this,r,y);return t instanceof e&&t.statics.scope===this.statics.scope&&this.attributes.move(t),t},e}(P.default);o.default=p},function(K,o,w){"use strict";var R,c=this&&this.__extends||(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,s){p.__proto__=s}||function(p,s){for(var e in s)s.hasOwnProperty(e)&&(p[e]=s[e])},function(p,s){function e(){this.constructor=p}R(p,s),p.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)});Object.defineProperty(o,"__esModule",{value:!0});var k=w(30),N=w(1),P=function(R){function p(){return null!==R&&R.apply(this,arguments)||this}return c(p,R),p.value=function(s){return!0},p.prototype.index=function(s,e){return this.domNode===s||this.domNode.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},p.prototype.position=function(s,e){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return s>0&&(r+=1),[this.parent.domNode,r]},p.prototype.value=function(){var s;return(s={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,s},p.scope=N.Scope.INLINE_BLOT,p}(k.default);o.default=P},function(K,o,w){var c=w(11),k=w(3),N={attributes:{compose:function(R,p,s){"object"!=typeof R&&(R={}),"object"!=typeof p&&(p={});var e=k(!0,{},p);for(var r in s||(e=Object.keys(e).reduce(function(y,t){return null!=e[t]&&(y[t]=e[t]),y},{})),R)void 0!==R[r]&&void 0===p[r]&&(e[r]=R[r]);return Object.keys(e).length>0?e:void 0},diff:function(R,p){"object"!=typeof R&&(R={}),"object"!=typeof p&&(p={});var s=Object.keys(R).concat(Object.keys(p)).reduce(function(e,r){return c(R[r],p[r])||(e[r]=void 0===p[r]?null:p[r]),e},{});return Object.keys(s).length>0?s:void 0},transform:function(R,p,s){if("object"!=typeof R)return p;if("object"==typeof p){if(!s)return p;var e=Object.keys(p).reduce(function(r,y){return void 0===R[y]&&(r[y]=p[y]),r},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(R){return new P(R)},length:function(R){return"number"==typeof R.delete?R.delete:"number"==typeof R.retain?R.retain:"string"==typeof R.insert?R.insert.length:1}};function P(R){this.ops=R,this.index=0,this.offset=0}P.prototype.hasNext=function(){return this.peekLength()<1/0},P.prototype.next=function(R){R||(R=1/0);var p=this.ops[this.index];if(p){var s=this.offset,e=N.length(p);if(R>=e-s?(R=e-s,this.index+=1,this.offset=0):this.offset+=R,"number"==typeof p.delete)return{delete:R};var r={};return p.attributes&&(r.attributes=p.attributes),"number"==typeof p.retain?r.retain=R:r.insert="string"==typeof p.insert?p.insert.substr(s,R):p.insert,r}return{retain:1/0}},P.prototype.peek=function(){return this.ops[this.index]},P.prototype.peekLength=function(){return this.ops[this.index]?N.length(this.ops[this.index])-this.offset:1/0},P.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},P.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var R=this.offset,p=this.index,s=this.next(),e=this.ops.slice(this.index);return this.offset=R,this.index=p,[s].concat(e)}return[]},K.exports=N},function(K,o){var w=function(){"use strict";function c(t,a){return null!=a&&t instanceof a}var k,N,P;try{k=Map}catch{k=function(){}}try{N=Set}catch{N=function(){}}try{P=Promise}catch{P=function(){}}function R(t,a,n,i,g){"object"==typeof a&&(n=a.depth,i=a.prototype,g=a.includeNonEnumerable,a=a.circular);var l=[],m=[],C=typeof Buffer<"u";return typeof a>"u"&&(a=!0),typeof n>"u"&&(n=1/0),function u(d,S){if(null===d)return null;if(0===S)return d;var _,f;if("object"!=typeof d)return d;if(c(d,k))_=new k;else if(c(d,N))_=new N;else if(c(d,P))_=new P(function(O,b){d.then(function(T){O(u(T,S-1))},function(T){b(u(T,S-1))})});else if(R.__isArray(d))_=[];else if(R.__isRegExp(d))_=new RegExp(d.source,y(d)),d.lastIndex&&(_.lastIndex=d.lastIndex);else if(R.__isDate(d))_=new Date(d.getTime());else{if(C&&Buffer.isBuffer(d))return _=Buffer.allocUnsafe?Buffer.allocUnsafe(d.length):new Buffer(d.length),d.copy(_),_;c(d,Error)?_=Object.create(d):typeof i>"u"?(f=Object.getPrototypeOf(d),_=Object.create(f)):(_=Object.create(i),f=i)}if(a){var A=l.indexOf(d);if(-1!=A)return m[A];l.push(d),m.push(_)}for(var x in c(d,k)&&d.forEach(function(O,b){var T=u(b,S-1),E=u(O,S-1);_.set(T,E)}),c(d,N)&&d.forEach(function(O){var b=u(O,S-1);_.add(b)}),d){var D;f&&(D=Object.getOwnPropertyDescriptor(f,x)),(!D||null!=D.set)&&(_[x]=u(d[x],S-1))}if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(d);for(x=0;x<I.length;x++){var q=I[x];(U=Object.getOwnPropertyDescriptor(d,q))&&!U.enumerable&&!g||(_[q]=u(d[q],S-1),U.enumerable||Object.defineProperty(_,q,{enumerable:!1}))}}if(g){var j=Object.getOwnPropertyNames(d);for(x=0;x<j.length;x++){var U,v=j[x];(U=Object.getOwnPropertyDescriptor(d,v))&&U.enumerable||(_[v]=u(d[v],S-1),Object.defineProperty(_,v,{enumerable:!1}))}}return _}(t,n)}function p(t){return Object.prototype.toString.call(t)}function y(t){var a="";return t.global&&(a+="g"),t.ignoreCase&&(a+="i"),t.multiline&&(a+="m"),a}return R.clonePrototype=function(a){if(null===a)return null;var n=function(){};return n.prototype=a,new n},R.__objToStr=p,R.__isDate=function s(t){return"object"==typeof t&&"[object Date]"===p(t)},R.__isArray=function e(t){return"object"==typeof t&&"[object Array]"===p(t)},R.__isRegExp=function r(t){return"object"==typeof t&&"[object RegExp]"===p(t)},R.__getRegExpFlags=y,R}();"object"==typeof K&&K.exports&&(K.exports=w)},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){return function(f,A){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return function _(f,A){var x=[],D=!0,I=!1,q=void 0;try{for(var j,U=f[Symbol.iterator]();!(D=(j=U.next()).done)&&(x.push(j.value),!A||x.length!==A);D=!0);}catch(v){I=!0,q=v}finally{try{!D&&U.return&&U.return()}finally{if(I)throw q}}return x}(f,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function _(f,A){for(var x=0;x<A.length;x++){var D=A[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(f,D.key,D)}}return function(f,A,x){return A&&_(f.prototype,A),x&&_(f,x),f}}(),N=function _(f,A,x){null===f&&(f=Function.prototype);var D=Object.getOwnPropertyDescriptor(f,A);if(void 0===D){var I=Object.getPrototypeOf(f);return null===I?void 0:_(I,A,x)}if("value"in D)return D.value;var q=D.get;return void 0===q?void 0:q.call(x)},R=l(w(0)),s=l(w(8)),e=w(4),r=l(e),t=l(w(16)),n=l(w(13)),g=l(w(25));function l(_){return _&&_.__esModule?_:{default:_}}function d(_){return _ instanceof r.default||_ instanceof e.BlockEmbed}var S=function(_){function f(A,x){!function m(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f);var D=function C(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?_:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A));return D.emitter=x.emitter,Array.isArray(x.whitelist)&&(D.whitelist=x.whitelist.reduce(function(I,q){return I[q]=!0,I},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return function u(_,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}(f,_),k(f,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(x,D){var I=this.line(x),q=c(I,2),U=q[0],j=q[1],v=this.line(x+D),b=c(v,1)[0];if(N(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"deleteAt",this).call(this,x,D),null!=b&&U!==b&&j>0){if(U instanceof e.BlockEmbed||b instanceof e.BlockEmbed)return void this.optimize();if(U instanceof n.default){var T=U.newlineIndex(U.length(),!0);if(T>-1&&(U=U.split(T+1))===b)return void this.optimize()}else if(b instanceof n.default){var E=b.newlineIndex(0);E>-1&&b.split(E+1)}U.moveChildren(b,b.children.head instanceof t.default?null:b.children.head),U.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(x,D,I,q){null!=this.whitelist&&!this.whitelist[I]||(N(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"formatAt",this).call(this,x,D,I,q),this.optimize())}},{key:"insertAt",value:function(x,D,I){if(null==I||null==this.whitelist||this.whitelist[D]){if(x>=this.length())if(null==I||null==R.default.query(D,R.default.Scope.BLOCK)){var q=R.default.create(this.statics.defaultChild);this.appendChild(q),null==I&&D.endsWith("\n")&&(D=D.slice(0,-1)),q.insertAt(0,D,I)}else{var U=R.default.create(D,I);this.appendChild(U)}else N(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"insertAt",this).call(this,x,D,I);this.optimize()}}},{key:"insertBefore",value:function(x,D){if(x.statics.scope===R.default.Scope.INLINE_BLOT){var I=R.default.create(this.statics.defaultChild);I.appendChild(x),x=I}N(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"insertBefore",this).call(this,x,D)}},{key:"leaf",value:function(x){return this.path(x).pop()||[null,-1]}},{key:"line",value:function(x){return x===this.length()?this.line(x-1):this.descendant(d,x)}},{key:"lines",value:function(){return function q(U,j,v){var O=[],b=v;return U.children.forEachAt(j,v,function(T,E,F){d(T)?O.push(T):T instanceof R.default.Container&&(O=O.concat(q(T,E,b))),b-=F}),O}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(N(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"optimize",this).call(this,x,D),x.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,x,D))}},{key:"path",value:function(x){return N(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"path",this).call(this,x).slice(1)}},{key:"update",value:function(x){if(!0!==this.batch){var D=s.default.sources.USER;"string"==typeof x&&(D=x),Array.isArray(x)||(x=this.observer.takeRecords()),x.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,D,x),N(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"update",this).call(this,x.concat([])),x.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,D,x)}}}]),f}(R.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[r.default,e.BlockEmbed,g.default],o.default=S},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SHORTKEY=o.default=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},k=function(){return function(B,G){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return function L(B,G){var z=[],$=!0,Q=!1,ie=void 0;try{for(var W,se=B[Symbol.iterator]();!($=(W=se.next()).done)&&(z.push(W.value),!G||z.length!==G);$=!0);}catch(H){Q=!0,ie=H}finally{try{!$&&se.return&&se.return()}finally{if(Q)throw ie}}return z}(B,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function L(B,G){for(var z=0;z<G.length;z++){var $=G[z];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(B,$.key,$)}}return function(B,G,z){return G&&L(B.prototype,G),z&&L(B,z),B}}(),R=_(w(21)),s=_(w(11)),r=_(w(3)),t=_(w(2)),n=_(w(20)),g=_(w(0)),m=_(w(5)),u=_(w(10)),S=_(w(9));function _(L){return L&&L.__esModule?L:{default:L}}function f(L,B,G){return B in L?Object.defineProperty(L,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):L[B]=G,L}var I=(0,u.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(L){function B(G,z){!function A(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}(this,B);var $=function x(L,B){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||"object"!=typeof B&&"function"!=typeof B?L:B}(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,G,z));return $.bindings={},Object.keys($.options.bindings).forEach(function(Q){"list autofill"===Q&&null!=G.scroll.whitelist&&!G.scroll.whitelist.list||$.options.bindings[Q]&&$.addBinding($.options.bindings[Q])}),$.addBinding({key:B.keys.ENTER,shiftKey:null},T),$.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?($.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},v),$.addBinding({key:B.keys.DELETE},{collapsed:!0},O)):($.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},v),$.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},O)),$.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},b),$.addBinding({key:B.keys.DELETE},{collapsed:!1},b),$.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},v),$.listen(),$}return function D(L,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function, not "+typeof B);L.prototype=Object.create(B&&B.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(L,B):L.__proto__=B)}(B,L),N(B,null,[{key:"match",value:function(z,$){return $=M($),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Q){return!!$[Q]!==z[Q]&&null!==$[Q]})&&$.key===(z.which||z.keyCode)}}]),N(B,[{key:"addBinding",value:function(z){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=M(z);if(null==ie||null==ie.key)return I.warn("Attempted to add invalid keyboard binding",ie);"function"==typeof $&&($={handler:$}),"function"==typeof Q&&(Q={handler:Q}),ie=(0,r.default)(ie,$,Q),this.bindings[ie.key]=this.bindings[ie.key]||[],this.bindings[ie.key].push(ie)}},{key:"listen",value:function(){var z=this;this.quill.root.addEventListener("keydown",function($){if(!$.defaultPrevented){var ie=(z.bindings[$.which||$.keyCode]||[]).filter(function(be){return B.match($,be)});if(0!==ie.length){var se=z.quill.getSelection();if(null!=se&&z.quill.hasFocus()){var W=z.quill.getLine(se.index),H=k(W,2),X=H[0],Z=H[1],V=z.quill.getLeaf(se.index),Y=k(V,2),te=Y[0],re=Y[1],ee=0===se.length?[te,re]:z.quill.getLeaf(se.index+se.length),oe=k(ee,2),fe=oe[0],he=oe[1],ve=te instanceof g.default.Text?te.value().slice(0,re):"",me=fe instanceof g.default.Text?fe.value().slice(he):"",pe={collapsed:0===se.length,empty:0===se.length&&X.length()<=1,format:z.quill.getFormat(se),offset:Z,prefix:ve,suffix:me};ie.some(function(be){if(null!=be.collapsed&&be.collapsed!==pe.collapsed||null!=be.empty&&be.empty!==pe.empty||null!=be.offset&&be.offset!==pe.offset)return!1;if(Array.isArray(be.format)){if(be.format.every(function(Ee){return null==pe.format[Ee]}))return!1}else if("object"===c(be.format)&&!Object.keys(be.format).every(function(Ee){return!0===be.format[Ee]?null!=pe.format[Ee]:!1===be.format[Ee]?null==pe.format[Ee]:(0,s.default)(be.format[Ee],pe.format[Ee])}))return!1;return!(null!=be.prefix&&!be.prefix.test(pe.prefix)||null!=be.suffix&&!be.suffix.test(pe.suffix))&&!0!==be.handler.call(z,se,pe)})&&$.preventDefault()}}}})}}]),B}(S.default);function j(L,B){var G;return f(G={key:L,shiftKey:B,altKey:null},L===U.keys.LEFT?"prefix":"suffix",/^$/),f(G,"handler",function(Q){var ie=Q.index;L===U.keys.RIGHT&&(ie+=Q.length+1);var se=this.quill.getLeaf(ie);return!(k(se,1)[0]instanceof g.default.Embed&&(L===U.keys.LEFT?B?this.quill.setSelection(Q.index-1,Q.length+1,m.default.sources.USER):this.quill.setSelection(Q.index-1,m.default.sources.USER):B?this.quill.setSelection(Q.index,Q.length+1,m.default.sources.USER):this.quill.setSelection(Q.index+Q.length+1,m.default.sources.USER),1))}),G}function v(L,B){if(!(0===L.index||this.quill.getLength()<=1)){var G=this.quill.getLine(L.index),$=k(G,1)[0],Q={};if(0===B.offset){var ie=this.quill.getLine(L.index-1),W=k(ie,1)[0];if(null!=W&&W.length()>1){var H=$.formats(),X=this.quill.getFormat(L.index-1,1);Q=n.default.attributes.diff(H,X)||{}}}var Z=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(L.index-Z,Z,m.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(L.index-Z,Z,Q,m.default.sources.USER),this.quill.focus()}}function O(L,B){var G=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(L.index>=this.quill.getLength()-G)){var z={},$=0,Q=this.quill.getLine(L.index),se=k(Q,1)[0];if(B.offset>=se.length()-1){var W=this.quill.getLine(L.index+1),X=k(W,1)[0];if(X){var Z=se.formats(),V=this.quill.getFormat(L.index,1);z=n.default.attributes.diff(Z,V)||{},$=X.length()}}this.quill.deleteText(L.index,G,m.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(L.index+$-1,G,z,m.default.sources.USER)}}function b(L){var B=this.quill.getLines(L),G={};if(B.length>1){var z=B[0].formats(),$=B[B.length-1].formats();G=n.default.attributes.diff($,z)||{}}this.quill.deleteText(L,m.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(L.index,1,G,m.default.sources.USER),this.quill.setSelection(L.index,m.default.sources.SILENT),this.quill.focus()}function T(L,B){var G=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var z=Object.keys(B.format).reduce(function($,Q){return g.default.query(Q,g.default.Scope.BLOCK)&&!Array.isArray(B.format[Q])&&($[Q]=B.format[Q]),$},{});this.quill.insertText(L.index,"\n",z,m.default.sources.USER),this.quill.setSelection(L.index+1,m.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function($){null==z[$]&&(Array.isArray(B.format[$])||"link"!==$&&G.quill.format($,B.format[$],m.default.sources.USER))})}function E(L){return{key:U.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(G){var z=g.default.query("code-block"),$=G.index,Q=G.length,ie=this.quill.scroll.descendant(z,$),se=k(ie,2),W=se[0],H=se[1];if(null!=W){var X=this.quill.getIndex(W),Z=W.newlineIndex(H,!0)+1,V=W.newlineIndex(X+H+Q),Y=W.domNode.textContent.slice(Z,V).split("\n");H=0,Y.forEach(function(te,re){L?(W.insertAt(Z+H,z.TAB),H+=z.TAB.length,0===re?$+=z.TAB.length:Q+=z.TAB.length):te.startsWith(z.TAB)&&(W.deleteAt(Z+H,z.TAB.length),H-=z.TAB.length,0===re?$-=z.TAB.length:Q-=z.TAB.length),H+=te.length+1}),this.quill.update(m.default.sources.USER),this.quill.setSelection($,Q,m.default.sources.SILENT)}}}}function F(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(G,z){this.quill.format(L,!z.format[L],m.default.sources.USER)}}}function M(L){if("string"==typeof L||"number"==typeof L)return M({key:L});if("object"===(typeof L>"u"?"undefined":c(L))&&(L=(0,R.default)(L,!1)),"string"==typeof L.key)if(null!=U.keys[L.key.toUpperCase()])L.key=U.keys[L.key.toUpperCase()];else{if(1!==L.key.length)return null;L.key=L.key.toUpperCase().charCodeAt(0)}return L.shortKey&&(L[q]=L.shortKey,delete L.shortKey),L}U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:F("bold"),italic:F("italic"),underline:F("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(B,G){if(G.collapsed&&0!==G.offset)return!0;this.quill.format("indent","+1",m.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,G){if(G.collapsed&&0!==G.offset)return!0;this.quill.format("indent","-1",m.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,G){null!=G.format.indent?this.quill.format("indent","-1",m.default.sources.USER):null!=G.format.list&&this.quill.format("list",!1,m.default.sources.USER)}},"indent code-block":E(!0),"outdent code-block":E(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,m.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(B){this.quill.history.cutoff();var G=(new t.default).retain(B.index).delete(B.length).insert("\t");this.quill.updateContents(G,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,m.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,G){this.quill.format("list",!1,m.default.sources.USER),G.format.indent&&this.quill.format("indent",!1,m.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var G=this.quill.getLine(B.index),z=k(G,2),$=z[0],Q=z[1],ie=(0,r.default)({},$.formats(),{list:"checked"}),se=(new t.default).retain(B.index).insert("\n",ie).retain($.length()-Q-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,m.default.sources.USER),this.quill.setSelection(B.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,G){var z=this.quill.getLine(B.index),$=k(z,2),Q=$[0],ie=$[1],se=(new t.default).retain(B.index).insert("\n",G.format).retain(Q.length()-ie-1).retain(1,{header:null});this.quill.updateContents(se,m.default.sources.USER),this.quill.setSelection(B.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,G){var z=G.prefix.length,$=this.quill.getLine(B.index),Q=k($,2),ie=Q[0],se=Q[1];if(se>z)return!0;var W=void 0;switch(G.prefix.trim()){case"[]":case"[ ]":W="unchecked";break;case"[x]":W="checked";break;case"-":case"*":W="bullet";break;default:W="ordered"}this.quill.insertText(B.index," ",m.default.sources.USER),this.quill.history.cutoff();var H=(new t.default).retain(B.index-se).delete(z+1).retain(ie.length()-2-se).retain(1,{list:W});this.quill.updateContents(H,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-z,m.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var G=this.quill.getLine(B.index),z=k(G,2),$=z[0],Q=z[1],ie=(new t.default).retain(B.index+$.length()-Q-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ie,m.default.sources.USER)}},"embed left":j(U.keys.LEFT,!1),"embed left shift":j(U.keys.LEFT,!0),"embed right":j(U.keys.RIGHT,!1),"embed right shift":j(U.keys.RIGHT,!0)}},o.default=U,o.SHORTKEY=q},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){return function(i,g){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return function n(i,g){var l=[],m=!0,C=!1,u=void 0;try{for(var S,d=i[Symbol.iterator]();!(m=(S=d.next()).done)&&(l.push(S.value),!g||l.length!==g);m=!0);}catch(_){C=!0,u=_}finally{try{!m&&d.return&&d.return()}finally{if(C)throw u}}return l}(i,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function n(i,g,l){null===i&&(i=Function.prototype);var m=Object.getOwnPropertyDescriptor(i,g);if(void 0===m){var C=Object.getPrototypeOf(i);return null===C?void 0:n(C,g,l)}if("value"in m)return m.value;var u=m.get;return void 0===u?void 0:u.call(l)},N=function(){function n(i,g){for(var l=0;l<g.length;l++){var m=g[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,g,l){return g&&n(i.prototype,g),l&&n(i,l),i}}(),R=e(w(0)),s=e(w(7));function e(n){return n&&n.__esModule?n:{default:n}}var a=function(n){function i(g,l){!function r(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var m=function y(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,g));return m.selection=l,m.textNode=document.createTextNode(i.CONTENTS),m.domNode.appendChild(m.textNode),m._length=0,m}return function t(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),N(i,null,[{key:"value",value:function(){}}]),N(i,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(l,m){if(0!==this._length)return k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,l,m);for(var C=this,u=0;null!=C&&C.statics.scope!==R.default.Scope.BLOCK_BLOT;)u+=C.offset(C.parent),C=C.parent;null!=C&&(this._length=i.CONTENTS.length,C.optimize(),C.formatAt(u,i.CONTENTS.length,l,m),this._length=0)}},{key:"index",value:function(l,m){return l===this.textNode?0:k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,l,m)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var l=this.textNode,m=this.selection.getNativeRange(),C=void 0,u=void 0,d=void 0;if(null!=m&&m.start.node===l&&m.end.node===l){var S=[l,m.start.offset,m.end.offset];C=S[0],u=S[1],d=S[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==i.CONTENTS){var _=this.textNode.data.split(i.CONTENTS).join("");this.next instanceof s.default?(C=this.next.domNode,this.next.insertAt(0,_),this.textNode.data=i.CONTENTS):(this.textNode.data=_,this.parent.insertBefore(R.default.create(this.textNode),this),this.textNode=document.createTextNode(i.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=u){var f=[u,d].map(function(x){return Math.max(0,Math.min(C.data.length,x-1))}),A=c(f,2);return{startNode:C,startOffset:u=A[0],endNode:C,endOffset:d=A[1]}}}}},{key:"update",value:function(l,m){var C=this;if(l.some(function(d){return"characterData"===d.type&&d.target===C.textNode})){var u=this.restore();u&&(m.range=u)}}},{key:"value",value:function(){return""}}]),i}(R.default.Embed);a.blotName="cursor",a.className="ql-cursor",a.tagName="span",a.CONTENTS="\ufeff",o.default=a},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var k=R(w(0)),N=w(4),P=R(N);function R(y){return y&&y.__esModule?y:{default:y}}var r=function(y){function t(){return function p(y,t){if(!(y instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function s(y,t){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?y:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function e(y,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);y.prototype=Object.create(t&&t.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(y,t):y.__proto__=t)}(t,y),t}(k.default.Container);r.allowedChildren=[P.default,N.BlockEmbed,r],o.default=r},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ColorStyle=o.ColorClass=o.ColorAttributor=void 0;var c=function(){function a(n,i){for(var g=0;g<i.length;g++){var l=i[g];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,i,g){return i&&a(n.prototype,i),g&&a(n,g),n}}(),k=function a(n,i,g){null===n&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,i);if(void 0===l){var m=Object.getPrototypeOf(n);return null===m?void 0:a(m,i,g)}if("value"in l)return l.value;var C=l.get;return void 0===C?void 0:C.call(g)},P=function R(a){return a&&a.__esModule?a:{default:a}}(w(0)),r=function(a){function n(){return function p(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function s(a,n){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?a:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function e(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(a,n):a.__proto__=n)}(n,a),c(n,[{key:"value",value:function(g){var l=k(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"value",this).call(this,g);return l.startsWith("rgb(")?"#"+(l=l.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(m){return("00"+parseInt(m).toString(16)).slice(-2)}).join(""):l}}]),n}(P.default.Attributor.Style),y=new P.default.Attributor.Class("color","ql-color",{scope:P.default.Scope.INLINE}),t=new r("color","color",{scope:P.default.Scope.INLINE});o.ColorAttributor=r,o.ColorClass=y,o.ColorStyle=t},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.sanitize=o.default=void 0;var c=function(){function t(a,n){for(var i=0;i<n.length;i++){var g=n[i];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}return function(a,n,i){return n&&t(a.prototype,n),i&&t(a,i),a}}(),k=function t(a,n,i){null===a&&(a=Function.prototype);var g=Object.getOwnPropertyDescriptor(a,n);if(void 0===g){var l=Object.getPrototypeOf(a);return null===l?void 0:t(l,n,i)}if("value"in g)return g.value;var m=g.get;return void 0===m?void 0:m.call(i)},r=function(t){function a(){return function p(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),function s(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function e(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}(a,t),c(a,[{key:"format",value:function(i,g){if(i!==this.statics.blotName||!g)return k(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,i,g);g=this.constructor.sanitize(g),this.domNode.setAttribute("href",g)}}],[{key:"create",value:function(i){var g=k(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,i);return i=this.sanitize(i),g.setAttribute("href",i),g.setAttribute("rel","noopener noreferrer"),g.setAttribute("target","_blank"),g}},{key:"formats",value:function(i){return i.getAttribute("href")}},{key:"sanitize",value:function(i){return y(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}}]),a}(function R(t){return t&&t.__esModule?t:{default:t}}(w(6)).default);function y(t,a){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return a.indexOf(i)>-1}r.blotName="link",r.tagName="A",r.SANITIZED_URL="about:blank",r.PROTOCOL_WHITELIST=["http","https","mailto","tel"],o.default=r,o.sanitize=y},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=function(){function a(n,i){for(var g=0;g<i.length;g++){var l=i[g];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,i,g){return i&&a(n.prototype,i),g&&a(n,g),n}}(),P=s(w(23)),p=s(w(107));function s(a){return a&&a.__esModule?a:{default:a}}var r=0;function y(a,n){a.setAttribute(n,"true"!==a.getAttribute(n))}var t=function(){function a(n){var i=this;(function e(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")})(this,a),this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){i.togglePicker()}),this.label.addEventListener("keydown",function(g){switch(g.keyCode){case P.default.keys.ENTER:i.togglePicker();break;case P.default.keys.ESCAPE:i.escape(),g.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return k(a,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(i){var g=this,l=document.createElement("span");return l.tabIndex="0",l.setAttribute("role","button"),l.classList.add("ql-picker-item"),i.hasAttribute("value")&&l.setAttribute("data-value",i.getAttribute("value")),i.textContent&&l.setAttribute("data-label",i.textContent),l.addEventListener("click",function(){g.selectItem(l,!0)}),l.addEventListener("keydown",function(m){switch(m.keyCode){case P.default.keys.ENTER:g.selectItem(l,!0),m.preventDefault();break;case P.default.keys.ESCAPE:g.escape(),m.preventDefault()}}),l}},{key:"buildLabel",value:function(){var i=document.createElement("span");return i.classList.add("ql-picker-label"),i.innerHTML=p.default,i.tabIndex="0",i.setAttribute("role","button"),i.setAttribute("aria-expanded","false"),this.container.appendChild(i),i}},{key:"buildOptions",value:function(){var i=this,g=document.createElement("span");g.classList.add("ql-picker-options"),g.setAttribute("aria-hidden","true"),g.tabIndex="-1",g.id="ql-picker-options-"+r,r+=1,this.label.setAttribute("aria-controls",g.id),this.options=g,[].slice.call(this.select.options).forEach(function(l){var m=i.buildItem(l);g.appendChild(m),!0===l.selected&&i.selectItem(m)}),this.container.appendChild(g)}},{key:"buildPicker",value:function(){var i=this;[].slice.call(this.select.attributes).forEach(function(g){i.container.setAttribute(g.name,g.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var i=this;this.close(),setTimeout(function(){return i.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(i){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.container.querySelector(".ql-selected");if(i!==l&&(l?.classList.remove("ql-selected"),null!=i&&(i.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(i.parentNode.children,i),i.hasAttribute("data-value")?this.label.setAttribute("data-value",i.getAttribute("data-value")):this.label.removeAttribute("data-value"),i.hasAttribute("data-label")?this.label.setAttribute("data-label",i.getAttribute("data-label")):this.label.removeAttribute("data-label"),g))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":c(Event))){var m=document.createEvent("Event");m.initEvent("change",!0,!0),this.select.dispatchEvent(m)}this.close()}}},{key:"update",value:function(){var i=void 0;if(this.select.selectedIndex>-1){var g=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];i=this.select.options[this.select.selectedIndex],this.selectItem(g)}else this.selectItem(null);var l=null!=i&&i!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",l)}}]),a}();o.default=t},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var k=I(w(0)),P=I(w(5)),R=w(4),p=I(R),e=I(w(16)),y=I(w(25)),a=I(w(24)),i=I(w(35)),l=I(w(6)),C=I(w(22)),d=I(w(7)),_=I(w(55)),A=I(w(42)),D=I(w(23));function I(q){return q&&q.__esModule?q:{default:q}}P.default.register({"blots/block":p.default,"blots/block/embed":R.BlockEmbed,"blots/break":e.default,"blots/container":y.default,"blots/cursor":a.default,"blots/embed":i.default,"blots/inline":l.default,"blots/scroll":C.default,"blots/text":d.default,"modules/clipboard":_.default,"modules/history":A.default,"modules/keyboard":D.default}),k.default.register(p.default,e.default,a.default,l.default,C.default,d.default),o.default=P.default},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=w(1),k=function(){function N(P){this.domNode=P,this.domNode[c.DATA_KEY]={blot:this}}return Object.defineProperty(N.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),N.create=function(P){if(null==this.tagName)throw new c.ParchmentError("Blot definition missing tagName");var R;return Array.isArray(this.tagName)?("string"==typeof P&&(P=P.toUpperCase(),parseInt(P).toString()===P&&(P=parseInt(P))),R="number"==typeof P?document.createElement(this.tagName[P-1]):this.tagName.indexOf(P)>-1?document.createElement(P):document.createElement(this.tagName[0])):R=document.createElement(this.tagName),this.className&&R.classList.add(this.className),R},N.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},N.prototype.clone=function(){var P=this.domNode.cloneNode(!1);return c.create(P)},N.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[c.DATA_KEY]},N.prototype.deleteAt=function(P,R){this.isolate(P,R).remove()},N.prototype.formatAt=function(P,R,p,s){var e=this.isolate(P,R);if(null!=c.query(p,c.Scope.BLOT)&&s)e.wrap(p,s);else if(null!=c.query(p,c.Scope.ATTRIBUTE)){var r=c.create(this.statics.scope);e.wrap(r),r.format(p,s)}},N.prototype.insertAt=function(P,R,p){var s=null==p?c.create("text",R):c.create(R,p),e=this.split(P);this.parent.insertBefore(s,e)},N.prototype.insertInto=function(P,R){void 0===R&&(R=null),null!=this.parent&&this.parent.children.remove(this);var p=null;P.children.insertBefore(this,R),null!=R&&(p=R.domNode),(this.domNode.parentNode!=P.domNode||this.domNode.nextSibling!=p)&&P.domNode.insertBefore(this.domNode,p),this.parent=P,this.attach()},N.prototype.isolate=function(P,R){var p=this.split(P);return p.split(R),p},N.prototype.length=function(){return 1},N.prototype.offset=function(P){return void 0===P&&(P=this.parent),null==this.parent||this==P?0:this.parent.children.offset(this)+this.parent.offset(P)},N.prototype.optimize=function(P){null!=this.domNode[c.DATA_KEY]&&delete this.domNode[c.DATA_KEY].mutations},N.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},N.prototype.replace=function(P){null!=P.parent&&(P.parent.insertBefore(this,P.next),P.remove())},N.prototype.replaceWith=function(P,R){var p="string"==typeof P?c.create(P,R):P;return p.replace(this),p},N.prototype.split=function(P,R){return 0===P?this:this.next},N.prototype.update=function(P,R){},N.prototype.wrap=function(P,R){var p="string"==typeof P?c.create(P,R):P;return null!=this.parent&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},N.blotName="abstract",N}();o.default=k},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=w(12),k=w(32),N=w(33),P=w(1),R=function(){function p(s){this.attributes={},this.domNode=s,this.build()}return p.prototype.attribute=function(s,e){e?s.add(this.domNode,e)&&(null!=s.value(this.domNode)?this.attributes[s.attrName]=s:delete this.attributes[s.attrName]):(s.remove(this.domNode),delete this.attributes[s.attrName])},p.prototype.build=function(){var s=this;this.attributes={};var e=c.default.keys(this.domNode),r=k.default.keys(this.domNode),y=N.default.keys(this.domNode);e.concat(r).concat(y).forEach(function(t){var a=P.query(t,P.Scope.ATTRIBUTE);a instanceof c.default&&(s.attributes[a.attrName]=a)})},p.prototype.copy=function(s){var e=this;Object.keys(this.attributes).forEach(function(r){var y=e.attributes[r].value(e.domNode);s.format(r,y)})},p.prototype.move=function(s){var e=this;this.copy(s),Object.keys(this.attributes).forEach(function(r){e.attributes[r].remove(e.domNode)}),this.attributes={}},p.prototype.values=function(){var s=this;return Object.keys(this.attributes).reduce(function(e,r){return e[r]=s.attributes[r].value(s.domNode),e},{})},p}();o.default=R},function(K,o,w){"use strict";var R,c=this&&this.__extends||(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,s){p.__proto__=s}||function(p,s){for(var e in s)s.hasOwnProperty(e)&&(p[e]=s[e])},function(p,s){function e(){this.constructor=p}R(p,s),p.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)});function N(R,p){return(R.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(p+"-")})}Object.defineProperty(o,"__esModule",{value:!0});var P=function(R){function p(){return null!==R&&R.apply(this,arguments)||this}return c(p,R),p.keys=function(s){return(s.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},p.prototype.add=function(s,e){return!!this.canAdd(s,e)&&(this.remove(s),s.classList.add(this.keyName+"-"+e),!0)},p.prototype.remove=function(s){N(s,this.keyName).forEach(function(r){s.classList.remove(r)}),0===s.classList.length&&s.removeAttribute("class")},p.prototype.value=function(s){var r=(N(s,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(s,r)?r:""},p}(w(12).default);o.default=P},function(K,o,w){"use strict";var R,c=this&&this.__extends||(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,s){p.__proto__=s}||function(p,s){for(var e in s)s.hasOwnProperty(e)&&(p[e]=s[e])},function(p,s){function e(){this.constructor=p}R(p,s),p.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)});function N(R){var p=R.split("-"),s=p.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return p[0]+s}Object.defineProperty(o,"__esModule",{value:!0});var P=function(R){function p(){return null!==R&&R.apply(this,arguments)||this}return c(p,R),p.keys=function(s){return(s.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},p.prototype.add=function(s,e){return!!this.canAdd(s,e)&&(s.style[N(this.keyName)]=e,!0)},p.prototype.remove=function(s){s.style[N(this.keyName)]="",s.getAttribute("style")||s.removeAttribute("style")},p.prototype.value=function(s){var e=s.style[N(this.keyName)];return this.canAdd(s,e)?e:""},p}(w(12).default);o.default=P},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function P(R,p){for(var s=0;s<p.length;s++){var e=p[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(R,e.key,e)}}return function(R,p,s){return p&&P(R.prototype,p),s&&P(R,s),R}}(),N=function(){function P(R,p){(function k(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")})(this,P),this.quill=R,this.options=p,this.modules={}}return c(P,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(s){null==p.modules[s]&&p.addModule(s)})}},{key:"addModule",value:function(p){var s=this.quill.constructor.import("modules/"+p);return this.modules[p]=new s(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),P}();N.DEFAULTS={modules:{}},N.themes={default:N},o.default=N},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function n(i,g){for(var l=0;l<g.length;l++){var m=g[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,g,l){return g&&n(i.prototype,g),l&&n(i,l),i}}(),k=function n(i,g,l){null===i&&(i=Function.prototype);var m=Object.getOwnPropertyDescriptor(i,g);if(void 0===m){var C=Object.getPrototypeOf(i);return null===C?void 0:n(C,g,l)}if("value"in m)return m.value;var u=m.get;return void 0===u?void 0:u.call(l)},P=s(w(0)),p=s(w(7));function s(n){return n&&n.__esModule?n:{default:n}}var t="\ufeff",a=function(n){function i(g){!function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var l=function r(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,g));return l.contentNode=document.createElement("span"),l.contentNode.setAttribute("contenteditable",!1),[].slice.call(l.domNode.childNodes).forEach(function(m){l.contentNode.appendChild(m)}),l.leftGuard=document.createTextNode(t),l.rightGuard=document.createTextNode(t),l.domNode.appendChild(l.leftGuard),l.domNode.appendChild(l.contentNode),l.domNode.appendChild(l.rightGuard),l}return function y(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),c(i,[{key:"index",value:function(l,m){return l===this.leftGuard?0:l===this.rightGuard?1:k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,l,m)}},{key:"restore",value:function(l){var m=void 0,C=void 0,u=l.data.split(t).join("");if(l===this.leftGuard)if(this.prev instanceof p.default){var d=this.prev.length();this.prev.insertAt(d,u),m={startNode:this.prev.domNode,startOffset:d+u.length}}else C=document.createTextNode(u),this.parent.insertBefore(P.default.create(C),this),m={startNode:C,startOffset:u.length};else l===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,u),m={startNode:this.next.domNode,startOffset:u.length}):(C=document.createTextNode(u),this.parent.insertBefore(P.default.create(C),this.next),m={startNode:C,startOffset:u.length}));return l.data=t,m}},{key:"update",value:function(l,m){var C=this;l.forEach(function(u){if("characterData"===u.type&&(u.target===C.leftGuard||u.target===C.rightGuard)){var d=C.restore(u.target);d&&(m.range=d)}})}}]),i}(P.default.Embed);o.default=a},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AlignStyle=o.AlignClass=o.AlignAttribute=void 0;var k=function N(e){return e&&e.__esModule?e:{default:e}}(w(0)),P={scope:k.default.Scope.BLOCK,whitelist:["right","center","justify"]},R=new k.default.Attributor.Attribute("align","align",P),p=new k.default.Attributor.Class("align","ql-align",P),s=new k.default.Attributor.Style("align","text-align",P);o.AlignAttribute=R,o.AlignClass=p,o.AlignStyle=s},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BackgroundStyle=o.BackgroundClass=void 0;var k=function P(s){return s&&s.__esModule?s:{default:s}}(w(0)),N=w(26),R=new k.default.Attributor.Class("background","ql-bg",{scope:k.default.Scope.INLINE}),p=new N.ColorAttributor("background","background-color",{scope:k.default.Scope.INLINE});o.BackgroundClass=R,o.BackgroundStyle=p},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DirectionStyle=o.DirectionClass=o.DirectionAttribute=void 0;var k=function N(e){return e&&e.__esModule?e:{default:e}}(w(0)),P={scope:k.default.Scope.BLOCK,whitelist:["rtl"]},R=new k.default.Attributor.Attribute("direction","dir",P),p=new k.default.Attributor.Class("direction","ql-direction",P),s=new k.default.Attributor.Style("direction","direction",P);o.DirectionAttribute=R,o.DirectionClass=p,o.DirectionStyle=s},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FontClass=o.FontStyle=void 0;var c=function(){function n(i,g){for(var l=0;l<g.length;l++){var m=g[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,g,l){return g&&n(i.prototype,g),l&&n(i,l),i}}(),k=function n(i,g,l){null===i&&(i=Function.prototype);var m=Object.getOwnPropertyDescriptor(i,g);if(void 0===m){var C=Object.getPrototypeOf(i);return null===C?void 0:n(C,g,l)}if("value"in m)return m.value;var u=m.get;return void 0===u?void 0:u.call(l)},P=function R(n){return n&&n.__esModule?n:{default:n}}(w(0)),r={scope:P.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new P.default.Attributor.Class("font","ql-font",r),t=function(n){function i(){return function p(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function s(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function e(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),c(i,[{key:"value",value:function(l){return k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"value",this).call(this,l).replace(/["']/g,"")}}]),i}(P.default.Attributor.Style),a=new t("font","font-family",r);o.FontStyle=a,o.FontClass=y},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SizeStyle=o.SizeClass=void 0;var k=function N(p){return p&&p.__esModule?p:{default:p}}(w(0)),P=new k.default.Attributor.Class("size","ql-size",{scope:k.default.Scope.INLINE,whitelist:["small","large","huge"]}),R=new k.default.Attributor.Style("size","font-size",{scope:k.default.Scope.INLINE,whitelist:["10px","18px","32px"]});o.SizeClass=P,o.SizeStyle=R},function(K,o,w){"use strict";K.exports={align:{"":w(76),center:w(77),right:w(78),justify:w(79)},background:w(80),blockquote:w(81),bold:w(82),clean:w(83),code:w(58),"code-block":w(58),color:w(84),direction:{"":w(85),rtl:w(86)},float:{center:w(87),full:w(88),left:w(89),right:w(90)},formula:w(91),header:{1:w(92),2:w(93)},italic:w(94),image:w(95),indent:{"+1":w(96),"-1":w(97)},link:w(98),list:{ordered:w(99),bullet:w(100),check:w(101)},script:{sub:w(102),super:w(103)},strike:w(104),underline:w(105),video:w(106)}},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getLastChangeIndex=o.default=void 0;var c=function(){function g(l,m){for(var C=0;C<m.length;C++){var u=m[C];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,m,C){return m&&g(l.prototype,m),C&&g(l,C),l}}(),N=e(w(0)),R=e(w(5));function e(g){return g&&g.__esModule?g:{default:g}}var a=function(g){function l(m,C){!function r(g,l){if(!(g instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var u=function y(g,l){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?g:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,m,C));return u.lastRecorded=0,u.ignoreChange=!1,u.clear(),u.quill.on(R.default.events.EDITOR_CHANGE,function(d,S,_,f){d!==R.default.events.TEXT_CHANGE||u.ignoreChange||(u.options.userOnly&&f!==R.default.sources.USER?u.transform(S):u.record(S,_))}),u.quill.keyboard.addBinding({key:"Z",shortKey:!0},u.undo.bind(u)),u.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},u.redo.bind(u)),/Win/i.test(navigator.platform)&&u.quill.keyboard.addBinding({key:"Y",shortKey:!0},u.redo.bind(u)),u}return function t(g,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);g.prototype=Object.create(l&&l.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(g,l):g.__proto__=l)}(l,g),c(l,[{key:"change",value:function(C,u){if(0!==this.stack[C].length){var d=this.stack[C].pop();this.stack[u].push(d),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(d[C],R.default.sources.USER),this.ignoreChange=!1;var S=i(d[C]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,u){if(0!==C.ops.length){this.stack.redo=[];var d=this.quill.getContents().diff(u),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var _=this.stack.undo.pop();d=d.compose(_.undo),C=_.redo.compose(C)}else this.lastRecorded=S;this.stack.undo.push({redo:C,undo:d}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(u){u.undo=C.transform(u.undo,!0),u.redo=C.transform(u.redo,!0)}),this.stack.redo.forEach(function(u){u.undo=C.transform(u.undo,!0),u.redo=C.transform(u.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),l}(e(w(9)).default);function i(g){var l=g.reduce(function(C,u){return C+(u.delete||0)},0),m=g.length()-l;return function n(g){var l=g.ops[g.ops.length-1];return null!=l&&(null!=l.insert?"string"==typeof l.insert&&l.insert.endsWith("\n"):null!=l.attributes&&Object.keys(l.attributes).some(function(m){return null!=N.default.query(m,N.default.Scope.BLOCK)}))}(g)&&(m-=1),m}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},o.default=a,o.getLastChangeIndex=i},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BaseTooltip=void 0;var c=function(){function T(E,F){for(var M=0;M<F.length;M++){var L=F[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,F,M){return F&&T(E.prototype,F),M&&T(E,M),E}}(),k=function T(E,F,M){null===E&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,F);if(void 0===L){var B=Object.getPrototypeOf(E);return null===B?void 0:T(B,F,M)}if("value"in L)return L.value;var G=L.get;return void 0===G?void 0:G.call(M)},P=S(w(3)),p=S(w(2)),e=S(w(8)),y=S(w(23)),a=S(w(34)),i=S(w(59)),l=S(w(60)),C=S(w(28)),d=S(w(61));function S(T){return T&&T.__esModule?T:{default:T}}function _(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function f(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||"object"!=typeof E&&"function"!=typeof E?T:E}function A(T,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var x=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],q=["1","2","3",!1],U=["small",!1,"large","huge"],j=function(T){function E(F,M){_(this,E);var L=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,F,M));return F.emitter.listenDOM("click",document.body,function G(z){if(!document.body.contains(F.root))return document.body.removeEventListener("click",G);null!=L.tooltip&&!L.tooltip.root.contains(z.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),null!=L.pickers&&L.pickers.forEach(function($){$.container.contains(z.target)||$.close()})}),L}return A(E,T),c(E,[{key:"addModule",value:function(M){var L=k(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"addModule",this).call(this,M);return"toolbar"===M&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(M,L){M.forEach(function(B){(B.getAttribute("class")||"").split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),null!=L[z]))if("direction"===z)B.innerHTML=L[z][""]+L[z].rtl;else if("string"==typeof L[z])B.innerHTML=L[z];else{var $=B.value||"";null!=$&&L[z][$]&&(B.innerHTML=L[z][$])}})})}},{key:"buildPickers",value:function(M,L){var B=this;this.pickers=M.map(function(z){if(z.classList.contains("ql-align"))return null==z.querySelector("option")&&b(z,x),new l.default(z,L.align);if(z.classList.contains("ql-background")||z.classList.contains("ql-color")){var $=z.classList.contains("ql-background")?"background":"color";return null==z.querySelector("option")&&b(z,D,"background"===$?"#ffffff":"#000000"),new i.default(z,L[$])}return null==z.querySelector("option")&&(z.classList.contains("ql-font")?b(z,I):z.classList.contains("ql-header")?b(z,q):z.classList.contains("ql-size")&&b(z,U)),new C.default(z)}),this.quill.on(e.default.events.EDITOR_CHANGE,function(){B.pickers.forEach(function($){$.update()})})}}]),E}(a.default);j.DEFAULTS=(0,P.default)(!0,{},a.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var E=this,F=this.container.querySelector("input.ql-image[type=file]");null==F&&((F=document.createElement("input")).setAttribute("type","file"),F.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),F.classList.add("ql-image"),F.addEventListener("change",function(){if(null!=F.files&&null!=F.files[0]){var M=new FileReader;M.onload=function(L){var B=E.quill.getSelection(!0);E.quill.updateContents((new p.default).retain(B.index).delete(B.length).insert({image:L.target.result}),e.default.sources.USER),E.quill.setSelection(B.index+1,e.default.sources.SILENT),F.value=""},M.readAsDataURL(F.files[0])}}),this.container.appendChild(F)),F.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var v=function(T){function E(F,M){_(this,E);var L=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,F,M));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return A(E,T),c(E,[{key:"listen",value:function(){var M=this;this.textbox.addEventListener("keydown",function(L){y.default.match(L,"enter")?(M.save(),L.preventDefault()):y.default.match(L,"escape")&&(M.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=L?this.textbox.value=L:M!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+M)||""),this.root.setAttribute("data-mode",M)}},{key:"restoreFocus",value:function(){var M=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=M}},{key:"save",value:function(){var M=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",M,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",M,e.default.sources.USER)),this.quill.root.scrollTop=L;break;case"video":M=function O(T){var E=T.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||T.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return E?(E[1]||"https")+"://www.youtube.com/embed/"+E[2]+"?showinfo=0":(E=T.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(E[1]||"https")+"://player.vimeo.com/video/"+E[2]+"/":T}(M);case"formula":if(!M)break;var B=this.quill.getSelection(!0);if(null!=B){var G=B.index+B.length;this.quill.insertEmbed(G,this.root.getAttribute("data-mode"),M,e.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(G+1," ",e.default.sources.USER),this.quill.setSelection(G+2,e.default.sources.USER)}}this.textbox.value="",this.hide()}}]),E}(d.default);function b(T,E){var F=arguments.length>2&&void 0!==arguments[2]&&arguments[2];E.forEach(function(M){var L=document.createElement("option");M===F?L.setAttribute("selected","selected"):L.setAttribute("value",M),T.appendChild(L)})}o.BaseTooltip=v,o.default=j},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function k(){this.head=this.tail=null,this.length=0}return k.prototype.append=function(){for(var N=[],P=0;P<arguments.length;P++)N[P]=arguments[P];this.insertBefore(N[0],null),N.length>1&&this.append.apply(this,N.slice(1))},k.prototype.contains=function(N){for(var P,R=this.iterator();P=R();)if(P===N)return!0;return!1},k.prototype.insertBefore=function(N,P){N&&(N.next=P,null!=P?(N.prev=P.prev,null!=P.prev&&(P.prev.next=N),P.prev=N,P===this.head&&(this.head=N)):null!=this.tail?(this.tail.next=N,N.prev=this.tail,this.tail=N):(N.prev=null,this.head=this.tail=N),this.length+=1)},k.prototype.offset=function(N){for(var P=0,R=this.head;null!=R;){if(R===N)return P;P+=R.length(),R=R.next}return-1},k.prototype.remove=function(N){this.contains(N)&&(null!=N.prev&&(N.prev.next=N.next),null!=N.next&&(N.next.prev=N.prev),N===this.head&&(this.head=N.next),N===this.tail&&(this.tail=N.prev),this.length-=1)},k.prototype.iterator=function(N){return void 0===N&&(N=this.head),function(){var P=N;return null!=N&&(N=N.next),P}},k.prototype.find=function(N,P){void 0===P&&(P=!1);for(var R,p=this.iterator();R=p();){var s=R.length();if(N<s||P&&N===s&&(null==R.next||0!==R.next.length()))return[R,N];N-=s}return[null,0]},k.prototype.forEach=function(N){for(var P,R=this.iterator();P=R();)N(P)},k.prototype.forEachAt=function(N,P,R){if(!(P<=0))for(var r,p=this.find(N),y=N-p[1],t=this.iterator(p[0]);(r=t())&&y<N+P;){var a=r.length();N>y?R(r,N-y,Math.min(P,y+a-N)):R(r,0,Math.min(a,N+P-y)),y+=a}},k.prototype.map=function(N){return this.reduce(function(P,R){return P.push(N(R)),P},[])},k.prototype.reduce=function(N,P){for(var R,p=this.iterator();R=p();)P=N(P,R);return P},k}();o.default=c},function(K,o,w){"use strict";var s,c=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var y in r)r.hasOwnProperty(y)&&(e[y]=r[y])},function(e,r){function y(){this.constructor=e}s(e,r),e.prototype=null===r?Object.create(r):(y.prototype=r.prototype,new y)});Object.defineProperty(o,"__esModule",{value:!0});var k=w(17),N=w(1),P={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},p=function(s){function e(r){var y=s.call(this,r)||this;return y.scroll=y,y.observer=new MutationObserver(function(t){y.update(t)}),y.observer.observe(y.domNode,P),y.attach(),y}return c(e,s),e.prototype.detach=function(){s.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(r,y){this.update(),0===r&&y===this.length()?this.children.forEach(function(t){t.remove()}):s.prototype.deleteAt.call(this,r,y)},e.prototype.formatAt=function(r,y,t,a){this.update(),s.prototype.formatAt.call(this,r,y,t,a)},e.prototype.insertAt=function(r,y,t){this.update(),s.prototype.insertAt.call(this,r,y,t)},e.prototype.optimize=function(r,y){var t=this;void 0===r&&(r=[]),void 0===y&&(y={}),s.prototype.optimize.call(this,y);for(var a=[].slice.call(this.observer.takeRecords());a.length>0;)r.push(a.pop());for(var n=function(m,C){void 0===C&&(C=!0),null!=m&&m!==t&&null!=m.domNode.parentNode&&(null==m.domNode[N.DATA_KEY].mutations&&(m.domNode[N.DATA_KEY].mutations=[]),C&&n(m.parent))},i=function(m){null==m.domNode[N.DATA_KEY]||null==m.domNode[N.DATA_KEY].mutations||(m instanceof k.default&&m.children.forEach(i),m.optimize(y))},g=r,l=0;g.length>0;l+=1){if(l>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(g.forEach(function(m){var C=N.find(m.target,!0);null!=C&&(C.domNode===m.target&&("childList"===m.type?(n(N.find(m.previousSibling,!1)),[].forEach.call(m.addedNodes,function(u){var d=N.find(u,!1);n(d,!1),d instanceof k.default&&d.children.forEach(function(S){n(S,!1)})})):"attributes"===m.type&&n(C.prev)),n(C))}),this.children.forEach(i),a=(g=[].slice.call(this.observer.takeRecords())).slice();a.length>0;)r.push(a.pop())}},e.prototype.update=function(r,y){var t=this;void 0===y&&(y={}),(r=r||this.observer.takeRecords()).map(function(a){var n=N.find(a.target,!0);return null==n?null:null==n.domNode[N.DATA_KEY].mutations?(n.domNode[N.DATA_KEY].mutations=[a],n):(n.domNode[N.DATA_KEY].mutations.push(a),null)}).forEach(function(a){null==a||a===t||null==a.domNode[N.DATA_KEY]||a.update(a.domNode[N.DATA_KEY].mutations||[],y)}),null!=this.domNode[N.DATA_KEY].mutations&&s.prototype.update.call(this,this.domNode[N.DATA_KEY].mutations,y),this.optimize(r,y)},e.blotName="scroll",e.defaultChild="block",e.scope=N.Scope.BLOCK_BLOT,e.tagName="DIV",e}(k.default);o.default=p},function(K,o,w){"use strict";var p,c=this&&this.__extends||(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,e){s.__proto__=e}||function(s,e){for(var r in e)e.hasOwnProperty(r)&&(s[r]=e[r])},function(s,e){function r(){this.constructor=s}p(s,e),s.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(o,"__esModule",{value:!0});var k=w(18),N=w(1),R=function(p){function s(){return null!==p&&p.apply(this,arguments)||this}return c(s,p),s.formats=function(e){if(e.tagName!==s.tagName)return p.formats.call(this,e)},s.prototype.format=function(e,r){var y=this;e!==this.statics.blotName||r?p.prototype.format.call(this,e,r):(this.children.forEach(function(t){t instanceof k.default||(t=t.wrap(s.blotName,!0)),y.attributes.copy(t)}),this.unwrap())},s.prototype.formatAt=function(e,r,y,t){null!=this.formats()[y]||N.query(y,N.Scope.ATTRIBUTE)?this.isolate(e,r).format(y,t):p.prototype.formatAt.call(this,e,r,y,t)},s.prototype.optimize=function(e){p.prototype.optimize.call(this,e);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var y=this.next;y instanceof s&&y.prev===this&&function P(p,s){if(Object.keys(p).length!==Object.keys(s).length)return!1;for(var e in p)if(p[e]!==s[e])return!1;return!0}(r,y.formats())&&(y.moveChildren(this),y.remove())},s.blotName="inline",s.scope=N.Scope.INLINE_BLOT,s.tagName="SPAN",s}(k.default);o.default=R},function(K,o,w){"use strict";var R,c=this&&this.__extends||(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,s){p.__proto__=s}||function(p,s){for(var e in s)s.hasOwnProperty(e)&&(p[e]=s[e])},function(p,s){function e(){this.constructor=p}R(p,s),p.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)});Object.defineProperty(o,"__esModule",{value:!0});var k=w(18),N=w(1),P=function(R){function p(){return null!==R&&R.apply(this,arguments)||this}return c(p,R),p.formats=function(s){var e=N.query(p.blotName).tagName;if(s.tagName!==e)return R.formats.call(this,s)},p.prototype.format=function(s,e){null!=N.query(s,N.Scope.BLOCK)&&(s!==this.statics.blotName||e?R.prototype.format.call(this,s,e):this.replaceWith(p.blotName))},p.prototype.formatAt=function(s,e,r,y){null!=N.query(r,N.Scope.BLOCK)?this.format(r,y):R.prototype.formatAt.call(this,s,e,r,y)},p.prototype.insertAt=function(s,e,r){if(null==r||null!=N.query(e,N.Scope.INLINE))R.prototype.insertAt.call(this,s,e,r);else{var y=this.split(s),t=N.create(e,r);y.parent.insertBefore(t,y)}},p.prototype.update=function(s,e){navigator.userAgent.match(/Trident/)?this.build():R.prototype.update.call(this,s,e)},p.blotName="block",p.scope=N.Scope.BLOCK_BLOT,p.tagName="P",p}(k.default);o.default=P},function(K,o,w){"use strict";var P,c=this&&this.__extends||(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,p){R.__proto__=p}||function(R,p){for(var s in p)p.hasOwnProperty(s)&&(R[s]=p[s])},function(R,p){function s(){this.constructor=R}P(R,p),R.prototype=null===p?Object.create(p):(s.prototype=p.prototype,new s)});Object.defineProperty(o,"__esModule",{value:!0});var N=function(P){function R(){return null!==P&&P.apply(this,arguments)||this}return c(R,P),R.formats=function(p){},R.prototype.format=function(p,s){P.prototype.formatAt.call(this,0,this.length(),p,s)},R.prototype.formatAt=function(p,s,e,r){0===p&&s===this.length()?this.format(e,r):P.prototype.formatAt.call(this,p,s,e,r)},R.prototype.formats=function(){return this.statics.formats(this.domNode)},R}(w(19).default);o.default=N},function(K,o,w){"use strict";var R,c=this&&this.__extends||(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,s){p.__proto__=s}||function(p,s){for(var e in s)s.hasOwnProperty(e)&&(p[e]=s[e])},function(p,s){function e(){this.constructor=p}R(p,s),p.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)});Object.defineProperty(o,"__esModule",{value:!0});var k=w(19),N=w(1),P=function(R){function p(s){var e=R.call(this,s)||this;return e.text=e.statics.value(e.domNode),e}return c(p,R),p.create=function(s){return document.createTextNode(s)},p.value=function(s){var e=s.data;return e.normalize&&(e=e.normalize()),e},p.prototype.deleteAt=function(s,e){this.domNode.data=this.text=this.text.slice(0,s)+this.text.slice(s+e)},p.prototype.index=function(s,e){return this.domNode===s?e:-1},p.prototype.insertAt=function(s,e,r){null==r?(this.text=this.text.slice(0,s)+e+this.text.slice(s),this.domNode.data=this.text):R.prototype.insertAt.call(this,s,e,r)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(s){R.prototype.optimize.call(this,s),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(s,e){return void 0===e&&(e=!1),[this.domNode,s]},p.prototype.split=function(s,e){if(void 0===e&&(e=!1),!e){if(0===s)return this;if(s===this.length())return this.next}var r=N.create(this.domNode.splitText(s));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},p.prototype.update=function(s,e){var r=this;s.some(function(y){return"characterData"===y.type&&y.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=N.Scope.INLINE_BLOT,p}(k.default);o.default=P},function(K,o,w){"use strict";var c=document.createElement("div");if(c.classList.toggle("test-class",!1),c.classList.contains("test-class")){var k=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(N,P){return arguments.length>1&&!this.contains(N)==!P?P:k.call(this,N)}}String.prototype.startsWith||(String.prototype.startsWith=function(N,P){return this.substr(P=P||0,N.length)===N}),String.prototype.endsWith||(String.prototype.endsWith=function(N,P){var R=this.toString();("number"!=typeof P||!isFinite(P)||Math.floor(P)!==P||P>R.length)&&(P=R.length);var p=R.indexOf(N,P-=N.length);return-1!==p&&p===P}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(P){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof P)throw new TypeError("predicate must be a function");for(var e,R=Object(this),p=R.length>>>0,s=arguments[1],r=0;r<p;r++)if(P.call(s,e=R[r],r,R))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(K,o){var w=-1,c=1,k=0;function N(l,m,C){if(l==m)return l?[[k,l]]:[];(C<0||l.length<C)&&(C=null);var u=s(l,m),d=l.substring(0,u);u=e(l=l.substring(u),m=m.substring(u));var S=l.substring(l.length-u),_=function P(l,m){var C;if(!l)return[[c,m]];if(!m)return[[w,l]];var u=l.length>m.length?l:m,d=l.length>m.length?m:l,S=u.indexOf(d);if(-1!=S)return C=[[c,u.substring(0,S)],[k,d],[c,u.substring(S+d.length)]],l.length>m.length&&(C[0][0]=C[2][0]=w),C;if(1==d.length)return[[w,l],[c,m]];var _=function r(l,m){var C=l.length>m.length?l:m,u=l.length>m.length?m:l;if(C.length<4||2*u.length<C.length)return null;function d(U,j,v){for(var E,F,M,L,O=U.substring(v,v+Math.floor(U.length/4)),b=-1,T="";-1!=(b=j.indexOf(O,b+1));){var B=s(U.substring(v),j.substring(b)),G=e(U.substring(0,v),j.substring(0,b));T.length<G+B&&(T=j.substring(b-G,b)+j.substring(b,b+B),E=U.substring(0,v-G),F=U.substring(v+B),M=j.substring(0,b-G),L=j.substring(b+B))}return 2*T.length>=U.length?[E,F,M,L,T]:null}var f,A,x,D,I,S=d(C,u,Math.ceil(C.length/4)),_=d(C,u,Math.ceil(C.length/2));return S||_?(f=_?S&&S[4].length>_[4].length?S:_:S,l.length>m.length?(A=f[0],x=f[1],D=f[2],I=f[3]):(D=f[0],I=f[1],A=f[2],x=f[3]),[A,x,D,I,f[4]]):null}(l,m);if(_){var A=_[1],D=_[3],I=_[4],q=N(_[0],_[2]),U=N(A,D);return q.concat([[k,I]],U)}return function R(l,m){for(var C=l.length,u=m.length,d=Math.ceil((C+u)/2),S=d,_=2*d,f=new Array(_),A=new Array(_),x=0;x<_;x++)f[x]=-1,A[x]=-1;f[S+1]=0,A[S+1]=0;for(var D=C-u,I=D%2!=0,q=0,U=0,j=0,v=0,O=0;O<d;O++){for(var b=-O+q;b<=O-U;b+=2){for(var T=S+b,F=(E=b==-O||b!=O&&f[T-1]<f[T+1]?f[T+1]:f[T-1]+1)-b;E<C&&F<u&&l.charAt(E)==m.charAt(F);)E++,F++;if(f[T]=E,E>C)U+=2;else if(F>u)q+=2;else if(I&&(M=S+D-b)>=0&&M<_&&-1!=A[M]&&E>=(L=C-A[M]))return p(l,m,E,F)}for(var B=-O+j;B<=O-v;B+=2){for(var L,M=S+B,G=(L=B==-O||B!=O&&A[M-1]<A[M+1]?A[M+1]:A[M-1]+1)-B;L<C&&G<u&&l.charAt(C-L-1)==m.charAt(u-G-1);)L++,G++;if(A[M]=L,L>C)v+=2;else if(G>u)j+=2;else if(!I){var E;if((T=S+D-B)>=0&&T<_&&-1!=f[T])if(F=S+(E=f[T])-T,E>=(L=C-L))return p(l,m,E,F)}}}return[[w,l],[c,m]]}(l,m)}(l=l.substring(0,l.length-u),m=m.substring(0,m.length-u));return d&&_.unshift([k,d]),S&&_.push([k,S]),y(_),null!=C&&(_=function n(l,m){var C=function a(l,m){if(0===m)return[k,l];for(var C=0,u=0;u<l.length;u++){var d=l[u];if(d[0]===w||d[0]===k){var S=C+d[1].length;if(m===S)return[u+1,l];if(m<S){l=l.slice();var _=m-C,f=[d[0],d[1].slice(0,_)],A=[d[0],d[1].slice(_)];return l.splice(u,1,f,A),[u+1,l]}C=S}}throw new Error("cursor_pos is out of bounds!")}(l,m),u=C[1],d=C[0],S=u[d],_=u[d+1];if(null==S)return l;if(S[0]!==k)return l;if(null!=_&&S[1]+_[1]===_[1]+S[1])return u.splice(d,2,_,S),g(u,d,2);if(null!=_&&0===_[1].indexOf(S[1])){u.splice(d,2,[_[0],S[1]],[0,S[1]]);var f=_[1].slice(S[1].length);return f.length>0&&u.splice(d+2,0,[_[0],f]),g(u,d,3)}return l}(_,C)),_=function i(l){for(var m=!1,C=function(_){return _.charCodeAt(0)>=56320&&_.charCodeAt(0)<=57343},u=function(_){return _.charCodeAt(_.length-1)>=55296&&_.charCodeAt(_.length-1)<=56319},d=2;d<l.length;d+=1)l[d-2][0]===k&&u(l[d-2][1])&&l[d-1][0]===w&&C(l[d-1][1])&&l[d][0]===c&&C(l[d][1])&&(m=!0,l[d-1][1]=l[d-2][1].slice(-1)+l[d-1][1],l[d][1]=l[d-2][1].slice(-1)+l[d][1],l[d-2][1]=l[d-2][1].slice(0,-1));if(!m)return l;var S=[];for(d=0;d<l.length;d+=1)l[d][1].length>0&&S.push(l[d]);return S}(_),_}function p(l,m,C,u){var d=l.substring(0,C),S=m.substring(0,u),_=l.substring(C),f=m.substring(u),A=N(d,S),x=N(_,f);return A.concat(x)}function s(l,m){if(!l||!m||l.charAt(0)!=m.charAt(0))return 0;for(var C=0,u=Math.min(l.length,m.length),d=u,S=0;C<d;)l.substring(S,d)==m.substring(S,d)?S=C=d:u=d,d=Math.floor((u-C)/2+C);return d}function e(l,m){if(!l||!m||l.charAt(l.length-1)!=m.charAt(m.length-1))return 0;for(var C=0,u=Math.min(l.length,m.length),d=u,S=0;C<d;)l.substring(l.length-d,l.length-S)==m.substring(m.length-d,m.length-S)?S=C=d:u=d,d=Math.floor((u-C)/2+C);return d}function y(l){l.push([k,""]);for(var _,m=0,C=0,u=0,d="",S="";m<l.length;)switch(l[m][0]){case c:u++,S+=l[m][1],m++;break;case w:C++,d+=l[m][1],m++;break;case k:C+u>1?(0!==C&&0!==u&&(0!==(_=s(S,d))&&(m-C-u>0&&l[m-C-u-1][0]==k?l[m-C-u-1][1]+=S.substring(0,_):(l.splice(0,0,[k,S.substring(0,_)]),m++),S=S.substring(_),d=d.substring(_)),0!==(_=e(S,d))&&(l[m][1]=S.substring(S.length-_)+l[m][1],S=S.substring(0,S.length-_),d=d.substring(0,d.length-_))),0===C?l.splice(m-u,C+u,[c,S]):0===u?l.splice(m-C,C+u,[w,d]):l.splice(m-C-u,C+u,[w,d],[c,S]),m=m-C-u+(C?1:0)+(u?1:0)+1):0!==m&&l[m-1][0]==k?(l[m-1][1]+=l[m][1],l.splice(m,1)):m++,u=0,C=0,d="",S=""}""===l[l.length-1][1]&&l.pop();var f=!1;for(m=1;m<l.length-1;)l[m-1][0]==k&&l[m+1][0]==k&&(l[m][1].substring(l[m][1].length-l[m-1][1].length)==l[m-1][1]?(l[m][1]=l[m-1][1]+l[m][1].substring(0,l[m][1].length-l[m-1][1].length),l[m+1][1]=l[m-1][1]+l[m+1][1],l.splice(m-1,1),f=!0):l[m][1].substring(0,l[m+1][1].length)==l[m+1][1]&&(l[m-1][1]+=l[m+1][1],l[m][1]=l[m][1].substring(l[m+1][1].length)+l[m+1][1],l.splice(m+1,1),f=!0)),m++;f&&y(l)}var t=N;function g(l,m,C){for(var u=m+C-1;u>=0&&u>=m-1;u--)if(u+1<l.length){var d=l[u],S=l[u+1];d[0]===S[1]&&l.splice(u,2,[d[0],d[1]+S[1]])}return l}t.INSERT=c,t.DELETE=w,t.EQUAL=k,K.exports=t},function(K,o){function w(c){var k=[];for(var N in c)k.push(N);return k}(K.exports="function"==typeof Object.keys?Object.keys:w).shim=w},function(K,o){var w="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function c(N){return"[object Arguments]"==Object.prototype.toString.call(N)}function k(N){return N&&"object"==typeof N&&"number"==typeof N.length&&Object.prototype.hasOwnProperty.call(N,"callee")&&!Object.prototype.propertyIsEnumerable.call(N,"callee")||!1}(o=K.exports=w?c:k).supported=c,o.unsupported=k},function(K,o){"use strict";var w=Object.prototype.hasOwnProperty,c="~";function k(){}function N(R,p,s){this.fn=R,this.context=p,this.once=s||!1}function P(){this._events=new k,this._eventsCount=0}Object.create&&(k.prototype=Object.create(null),(new k).__proto__||(c=!1)),P.prototype.eventNames=function(){var s,e,p=[];if(0===this._eventsCount)return p;for(e in s=this._events)w.call(s,e)&&p.push(c?e.slice(1):e);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(s)):p},P.prototype.listeners=function(p,s){var r=this._events[c?c+p:p];if(s)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var y=0,t=r.length,a=new Array(t);y<t;y++)a[y]=r[y].fn;return a},P.prototype.emit=function(p,s,e,r,y,t){var a=c?c+p:p;if(!this._events[a])return!1;var g,l,n=this._events[a],i=arguments.length;if(n.fn){switch(n.once&&this.removeListener(p,n.fn,void 0,!0),i){case 1:return n.fn.call(n.context),!0;case 2:return n.fn.call(n.context,s),!0;case 3:return n.fn.call(n.context,s,e),!0;case 4:return n.fn.call(n.context,s,e,r),!0;case 5:return n.fn.call(n.context,s,e,r,y),!0;case 6:return n.fn.call(n.context,s,e,r,y,t),!0}for(l=1,g=new Array(i-1);l<i;l++)g[l-1]=arguments[l];n.fn.apply(n.context,g)}else{var C,m=n.length;for(l=0;l<m;l++)switch(n[l].once&&this.removeListener(p,n[l].fn,void 0,!0),i){case 1:n[l].fn.call(n[l].context);break;case 2:n[l].fn.call(n[l].context,s);break;case 3:n[l].fn.call(n[l].context,s,e);break;case 4:n[l].fn.call(n[l].context,s,e,r);break;default:if(!g)for(C=1,g=new Array(i-1);C<i;C++)g[C-1]=arguments[C];n[l].fn.apply(n[l].context,g)}}return!0},P.prototype.on=function(p,s,e){var r=new N(s,e||this),y=c?c+p:p;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],r]:this._events[y].push(r):(this._events[y]=r,this._eventsCount++),this},P.prototype.once=function(p,s,e){var r=new N(s,e||this,!0),y=c?c+p:p;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],r]:this._events[y].push(r):(this._events[y]=r,this._eventsCount++),this},P.prototype.removeListener=function(p,s,e,r){var y=c?c+p:p;if(!this._events[y])return this;if(!s)return 0==--this._eventsCount?this._events=new k:delete this._events[y],this;var t=this._events[y];if(t.fn)t.fn===s&&(!r||t.once)&&(!e||t.context===e)&&(0==--this._eventsCount?this._events=new k:delete this._events[y]);else{for(var a=0,n=[],i=t.length;a<i;a++)(t[a].fn!==s||r&&!t[a].once||e&&t[a].context!==e)&&n.push(t[a]);n.length?this._events[y]=1===n.length?n[0]:n:0==--this._eventsCount?this._events=new k:delete this._events[y]}return this},P.prototype.removeAllListeners=function(p){var s;return p?this._events[s=c?c+p:p]&&(0==--this._eventsCount?this._events=new k:delete this._events[s]):(this._events=new k,this._eventsCount=0),this},P.prototype.off=P.prototype.removeListener,P.prototype.addListener=P.prototype.on,P.prototype.setMaxListeners=function(){return this},P.prefixed=c,P.EventEmitter=P,typeof K<"u"&&(K.exports=P)},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.matchText=o.matchSpacing=o.matchNewline=o.matchBlot=o.matchAttributor=o.default=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},k=function(){return function(Y,te){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return function V(Y,te){var re=[],ee=!0,oe=!1,fe=void 0;try{for(var ve,he=Y[Symbol.iterator]();!(ee=(ve=he.next()).done)&&(re.push(ve.value),!te||re.length!==te);ee=!0);}catch(me){oe=!0,fe=me}finally{try{!ee&&he.return&&he.return()}finally{if(oe)throw fe}}return re}(Y,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function V(Y,te){for(var re=0;re<te.length;re++){var ee=te[re];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(Y,ee.key,ee)}}return function(Y,te,re){return te&&V(Y.prototype,te),re&&V(Y,re),Y}}(),R=A(w(3)),s=A(w(2)),r=A(w(0)),t=A(w(5)),n=A(w(10)),g=A(w(9)),l=w(36),m=w(37),u=A(w(13)),d=w(26),S=w(38),_=w(39),f=w(40);function A(V){return V&&V.__esModule?V:{default:V}}function x(V,Y,te){return Y in V?Object.defineProperty(V,Y,{value:te,enumerable:!0,configurable:!0,writable:!0}):V[Y]=te,V}var U=(0,n.default)("quill:clipboard"),j="__ql-matcher",v=[[Node.TEXT_NODE,Z],[Node.TEXT_NODE,W],["br",function Q(V,Y){return M(Y,"\n")||Y.insert("\n"),Y}],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,$],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,function X(V,Y){var te={},re=V.style||{};return re.fontStyle&&"italic"===F(V).fontStyle&&(te.italic=!0),re.fontWeight&&(F(V).fontWeight.startsWith("bold")||parseInt(F(V).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(Y=E(Y,te)),parseFloat(re.textIndent||0)>0&&(Y=(new s.default).insert("\t").concat(Y)),Y}],["li",function se(V,Y){var te=r.default.query(V);if(null==te||"list-item"!==te.blotName||!M(Y,"\n"))return Y;for(var re=-1,ee=V.parentNode;!ee.classList.contains("ql-clipboard");)"list"===(r.default.query(ee)||{}).blotName&&(re+=1),ee=ee.parentNode;return re<=0?Y:Y.compose((new s.default).retain(Y.length()-1).retain(1,{indent:re}))}],["b",G.bind(G,"bold")],["i",G.bind(G,"italic")],["style",function ie(){return new s.default}]],O=[l.AlignAttribute,S.DirectionAttribute].reduce(function(V,Y){return V[Y.keyName]=Y,V},{}),b=[l.AlignStyle,m.BackgroundStyle,d.ColorStyle,S.DirectionStyle,_.FontStyle,f.SizeStyle].reduce(function(V,Y){return V[Y.keyName]=Y,V},{}),T=function(V){function Y(te,re){!function D(V,Y){if(!(V instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,Y);var ee=function I(V,Y){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Y||"object"!=typeof Y&&"function"!=typeof Y?V:Y}(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,te,re));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],v.concat(ee.options.matchers).forEach(function(oe){var fe=k(oe,2),ve=fe[1];!re.matchVisual&&ve===H||ee.addMatcher(fe[0],ve)}),ee}return function q(V,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);V.prototype=Object.create(Y&&Y.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Y):V.__proto__=Y)}(Y,V),N(Y,[{key:"addMatcher",value:function(re,ee){this.matchers.push([re,ee])}},{key:"convert",value:function(re){if("string"==typeof re)return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[u.default.blotName]){var oe=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(oe,x({},u.default.blotName,ee[u.default.blotName]))}var fe=this.prepareMatching(),he=k(fe,2),pe=B(this.container,he[0],he[1]);return M(pe,"\n")&&null==pe.ops[pe.ops.length-1].attributes&&(pe=pe.compose((new s.default).retain(pe.length()-1).delete(1))),U.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(re,ee){var oe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.default.sources.API;if("string"==typeof re)this.quill.setContents(this.convert(re),ee),this.quill.setSelection(0,t.default.sources.SILENT);else{var fe=this.convert(ee);this.quill.updateContents((new s.default).retain(re).concat(fe),oe),this.quill.setSelection(re+fe.length(),t.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var ee=this;if(!re.defaultPrevented&&this.quill.isEnabled()){var oe=this.quill.getSelection(),fe=(new s.default).retain(oe.index),he=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(t.default.sources.SILENT),setTimeout(function(){fe=fe.concat(ee.convert()).delete(oe.length),ee.quill.updateContents(fe,t.default.sources.USER),ee.quill.setSelection(fe.length()-oe.length,t.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=he,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,ee=[],oe=[];return this.matchers.forEach(function(fe){var he=k(fe,2),ve=he[0],me=he[1];switch(ve){case Node.TEXT_NODE:oe.push(me);break;case Node.ELEMENT_NODE:ee.push(me);break;default:[].forEach.call(re.container.querySelectorAll(ve),function(pe){pe[j]=pe[j]||[],pe[j].push(me)})}}),[ee,oe]}}]),Y}(g.default);function E(V,Y,te){return"object"===(typeof Y>"u"?"undefined":c(Y))?Object.keys(Y).reduce(function(re,ee){return E(re,ee,Y[ee])},V):V.reduce(function(re,ee){return ee.attributes&&ee.attributes[Y]?re.push(ee):re.insert(ee.insert,(0,R.default)({},x({},Y,te),ee.attributes))},new s.default)}function F(V){if(V.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return V[Y]||(V[Y]=window.getComputedStyle(V))}function M(V,Y){for(var te="",re=V.ops.length-1;re>=0&&te.length<Y.length;--re){var ee=V.ops[re];if("string"!=typeof ee.insert)break;te=ee.insert+te}return te.slice(-1*Y.length)===Y}function L(V){if(0===V.childNodes.length)return!1;var Y=F(V);return["block","list-item"].indexOf(Y.display)>-1}function B(V,Y,te){return V.nodeType===V.TEXT_NODE?te.reduce(function(re,ee){return ee(V,re)},new s.default):V.nodeType===V.ELEMENT_NODE?[].reduce.call(V.childNodes||[],function(re,ee){var oe=B(ee,Y,te);return ee.nodeType===V.ELEMENT_NODE&&(oe=Y.reduce(function(fe,he){return he(ee,fe)},oe),oe=(ee[j]||[]).reduce(function(fe,he){return he(ee,fe)},oe)),re.concat(oe)},new s.default):new s.default}function G(V,Y,te){return E(te,V,!0)}function z(V,Y){var te=r.default.Attributor.Attribute.keys(V),re=r.default.Attributor.Class.keys(V),ee=r.default.Attributor.Style.keys(V),oe={};return te.concat(re).concat(ee).forEach(function(fe){var he=r.default.query(fe,r.default.Scope.ATTRIBUTE);null!=he&&(oe[he.attrName]=he.value(V),oe[he.attrName])||(null!=(he=O[fe])&&(he.attrName===fe||he.keyName===fe)&&(oe[he.attrName]=he.value(V)||void 0),null!=(he=b[fe])&&(he.attrName===fe||he.keyName===fe)&&(oe[(he=b[fe]).attrName]=he.value(V)||void 0))}),Object.keys(oe).length>0&&(Y=E(Y,oe)),Y}function $(V,Y){var te=r.default.query(V);if(null==te)return Y;if(te.prototype instanceof r.default.Embed){var re={},ee=te.value(V);null!=ee&&(re[te.blotName]=ee,Y=(new s.default).insert(re,te.formats(V)))}else"function"==typeof te.formats&&(Y=E(Y,te.blotName,te.formats(V)));return Y}function W(V,Y){return M(Y,"\n")||(L(V)||Y.length()>0&&V.nextSibling&&L(V.nextSibling))&&Y.insert("\n"),Y}function H(V,Y){if(L(V)&&null!=V.nextElementSibling&&!M(Y,"\n\n")){var te=V.offsetHeight+parseFloat(F(V).marginTop)+parseFloat(F(V).marginBottom);V.nextElementSibling.offsetTop>V.offsetTop+1.5*te&&Y.insert("\n")}return Y}function Z(V,Y){var te=V.data;if("O:P"===V.parentNode.tagName)return Y.insert(te.trim());if(0===te.trim().length&&V.parentNode.classList.contains("ql-clipboard"))return Y;if(!F(V.parentNode).whiteSpace.startsWith("pre")){var re=function(oe,fe){return(fe=fe.replace(/[^\u00a0]/g,"")).length<1&&oe?" ":fe};te=(te=te.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,re.bind(re,!0)),(null==V.previousSibling&&L(V.parentNode)||null!=V.previousSibling&&L(V.previousSibling))&&(te=te.replace(/^\s+/,re.bind(re,!1))),(null==V.nextSibling&&L(V.parentNode)||null!=V.nextSibling&&L(V.nextSibling))&&(te=te.replace(/\s+$/,re.bind(re,!1)))}return Y.insert(te)}T.DEFAULTS={matchers:[],matchVisual:!0},o.default=T,o.matchAttributor=z,o.matchBlot=$,o.matchNewline=W,o.matchSpacing=H,o.matchText=Z},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function y(t,a){for(var n=0;n<a.length;n++){var i=a[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,a,n){return a&&y(t.prototype,a),n&&y(t,n),t}}(),k=function y(t,a,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,a);if(void 0===i){var g=Object.getPrototypeOf(t);return null===g?void 0:y(g,a,n)}if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(n)},r=function(y){function t(){return function p(y,t){if(!(y instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function s(y,t){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?y:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function e(y,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);y.prototype=Object.create(t&&t.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(y,t):y.__proto__=t)}(t,y),c(t,[{key:"optimize",value:function(n){k(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return k(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(function R(y){return y&&y.__esModule?y:{default:y}}(w(6)).default);r.blotName="bold",r.tagName=["STRONG","B"],o.default=r},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.addControls=o.default=void 0;var c=function(){return function(A,x){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function f(A,x){var D=[],I=!0,q=!1,U=void 0;try{for(var v,j=A[Symbol.iterator]();!(I=(v=j.next()).done)&&(D.push(v.value),!x||D.length!==x);I=!0);}catch(O){q=!0,U=O}finally{try{!I&&j.return&&j.return()}finally{if(q)throw U}}return D}(A,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function f(A,x){for(var D=0;D<x.length;D++){var I=x[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,x,D){return x&&f(A.prototype,x),D&&f(A,D),A}}(),P=n(w(2)),p=n(w(0)),e=n(w(5)),y=n(w(10)),a=n(w(9));function n(f){return f&&f.__esModule?f:{default:f}}function l(f,A){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?f:A}var C=(0,y.default)("quill:toolbar"),u=function(f){function A(x,D){!function g(f,A){if(!(f instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);var U,I=l(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,x,D));if(Array.isArray(I.options.container)){var q=document.createElement("div");S(q,I.options.container),x.container.parentNode.insertBefore(q,x.container),I.container=q}else I.container="string"==typeof I.options.container?document.querySelector(I.options.container):I.options.container;return I.container instanceof HTMLElement?(I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(j){I.addHandler(j,I.options.handlers[j])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(j){I.attach(j)}),I.quill.on(e.default.events.EDITOR_CHANGE,function(j,v){j===e.default.events.SELECTION_CHANGE&&I.update(v)}),I.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var j=I.quill.selection.getRange(),v=c(j,1);I.update(v[0])}),I):(U=C.error("Container required for toolbar",I.options),l(I,U))}return function m(f,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);f.prototype=Object.create(A&&A.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(f,A):f.__proto__=A)}(A,f),k(A,[{key:"addHandler",value:function(D,I){this.handlers[D]=I}},{key:"attach",value:function(D){var I=this,q=[].find.call(D.classList,function(j){return 0===j.indexOf("ql-")});if(q){if(q=q.slice(3),"BUTTON"===D.tagName&&D.setAttribute("type","button"),null==this.handlers[q]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[q])return void C.warn("ignoring attaching to disabled format",q,D);if(null==p.default.query(q))return void C.warn("ignoring attaching to nonexistent format",q,D)}D.addEventListener("SELECT"===D.tagName?"change":"click",function(j){var v=void 0;if("SELECT"===D.tagName){if(D.selectedIndex<0)return;var O=D.options[D.selectedIndex];v=!O.hasAttribute("selected")&&(O.value||!1)}else v=!D.classList.contains("ql-active")&&(D.value||!D.hasAttribute("value")),j.preventDefault();I.quill.focus();var b=I.quill.selection.getRange(),E=c(b,1)[0];if(null!=I.handlers[q])I.handlers[q].call(I,v);else if(p.default.query(q).prototype instanceof p.default.Embed){if(!(v=prompt("Enter "+q)))return;I.quill.updateContents((new P.default).retain(E.index).delete(E.length).insert(function i(f,A,x){return A in f?Object.defineProperty(f,A,{value:x,enumerable:!0,configurable:!0,writable:!0}):f[A]=x,f}({},q,v)),e.default.sources.USER)}else I.quill.format(q,v,e.default.sources.USER);I.update(E)}),this.controls.push([q,D])}}},{key:"update",value:function(D){var I=null==D?{}:this.quill.getFormat(D);this.controls.forEach(function(q){var U=c(q,2),j=U[0],v=U[1];if("SELECT"===v.tagName){var O=void 0;if(null==D)O=null;else if(null==I[j])O=v.querySelector("option[selected]");else if(!Array.isArray(I[j])){var b=I[j];"string"==typeof b&&(b=b.replace(/\"/g,'\\"')),O=v.querySelector('option[value="'+b+'"]')}null==O?(v.value="",v.selectedIndex=-1):O.selected=!0}else if(null==D)v.classList.remove("ql-active");else if(v.hasAttribute("value")){var T=I[j]===v.getAttribute("value")||null!=I[j]&&I[j].toString()===v.getAttribute("value")||null==I[j]&&!v.getAttribute("value");v.classList.toggle("ql-active",T)}else v.classList.toggle("ql-active",null!=I[j])})}}]),A}(a.default);function d(f,A,x){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+A),null!=x&&(D.value=x),f.appendChild(D)}function S(f,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(x){var D=document.createElement("span");D.classList.add("ql-formats"),x.forEach(function(I){if("string"==typeof I)d(D,I);else{var q=Object.keys(I)[0],U=I[q];Array.isArray(U)?function _(f,A,x){var D=document.createElement("select");D.classList.add("ql-"+A),x.forEach(function(I){var q=document.createElement("option");!1!==I?q.setAttribute("value",I):q.setAttribute("selected","selected"),D.appendChild(q)}),f.appendChild(D)}(D,q,U):d(D,q,U)}}),f.appendChild(D)})}u.DEFAULTS={},u.DEFAULTS={container:null,handlers:{clean:function(){var A=this,x=this.quill.getSelection();if(null!=x)if(0==x.length){var D=this.quill.getFormat();Object.keys(D).forEach(function(I){null!=p.default.query(I,p.default.Scope.INLINE)&&A.quill.format(I,!1)})}else this.quill.removeFormat(x,e.default.sources.USER)},direction:function(A){var x=this.quill.getFormat().align;"rtl"===A&&null==x?this.quill.format("align","right",e.default.sources.USER):!A&&"right"===x&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",A,e.default.sources.USER)},indent:function(A){var x=this.quill.getSelection(),D=this.quill.getFormat(x),I=parseInt(D.indent||0);if("+1"===A||"-1"===A){var q="+1"===A?1:-1;"rtl"===D.direction&&(q*=-1),this.quill.format("indent",I+q,e.default.sources.USER)}},link:function(A){!0===A&&(A=prompt("Enter link URL:")),this.quill.format("link",A,e.default.sources.USER)},list:function(A){var x=this.quill.getSelection(),D=this.quill.getFormat(x);this.quill.format("list","check"===A?"checked"!==D.list&&"unchecked"!==D.list&&"unchecked":A,e.default.sources.USER)}}},o.default=u,o.addControls=S},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function y(t,a){for(var n=0;n<a.length;n++){var i=a[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,a,n){return a&&y(t.prototype,a),n&&y(t,n),t}}(),k=function y(t,a,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,a);if(void 0===i){var g=Object.getPrototypeOf(t);return null===g?void 0:y(g,a,n)}if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(n)},r=function(y){function t(a,n){!function p(y,t){if(!(y instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function s(y,t){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?y:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(g){g.classList.add("ql-primary")}),i}return function e(y,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);y.prototype=Object.create(t&&t.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(y,t):y.__proto__=t)}(t,y),c(t,[{key:"buildItem",value:function(n){var i=k(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,n);return i.style.backgroundColor=n.getAttribute("value")||"",i}},{key:"selectItem",value:function(n,i){k(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,n,i);var g=this.label.querySelector(".ql-color-label"),l=n&&n.getAttribute("data-value")||"";g&&("line"===g.tagName?g.style.stroke=l:g.style.fill=l)}}]),t}(function R(y){return y&&y.__esModule?y:{default:y}}(w(28)).default);o.default=r},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function y(t,a){for(var n=0;n<a.length;n++){var i=a[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,a,n){return a&&y(t.prototype,a),n&&y(t,n),t}}(),k=function y(t,a,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,a);if(void 0===i){var g=Object.getPrototypeOf(t);return null===g?void 0:y(g,a,n)}if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(n)},r=function(y){function t(a,n){!function p(y,t){if(!(y instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function s(y,t){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?y:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(g){g.innerHTML=n[g.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function e(y,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);y.prototype=Object.create(t&&t.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(y,t):y.__proto__=t)}(t,y),c(t,[{key:"selectItem",value:function(n,i){k(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,n,i),this.label.innerHTML=(n=n||this.defaultItem).innerHTML}}]),t}(function R(y){return y&&y.__esModule?y:{default:y}}(w(28)).default);o.default=r},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function P(R,p){for(var s=0;s<p.length;s++){var e=p[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(R,e.key,e)}}return function(R,p,s){return p&&P(R.prototype,p),s&&P(R,s),R}}(),N=function(){function P(R,p){var s=this;(function k(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")})(this,P),this.quill=R,this.boundsContainer=p||document.body,this.root=R.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){s.root.style.marginTop=-1*s.quill.root.scrollTop+"px"}),this.hide()}return c(P,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var s=p.left+p.width/2-this.root.offsetWidth/2,e=p.bottom+this.quill.root.scrollTop;this.root.style.left=s+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),t=0;return y.right>r.right&&(this.root.style.left=s+(t=r.right-y.right)+"px"),y.left<r.left&&(this.root.style.left=s+(t=r.left-y.left)+"px"),y.bottom>r.bottom&&(this.root.style.top=e-(p.bottom-p.top+(y.bottom-y.top))+"px",this.root.classList.add("ql-flip")),t}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),P}();o.default=N},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){return function(f,A){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return function _(f,A){var x=[],D=!0,I=!1,q=void 0;try{for(var j,U=f[Symbol.iterator]();!(D=(j=U.next()).done)&&(x.push(j.value),!A||x.length!==A);D=!0);}catch(v){I=!0,q=v}finally{try{!D&&U.return&&U.return()}finally{if(I)throw q}}return x}(f,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function _(f,A,x){null===f&&(f=Function.prototype);var D=Object.getOwnPropertyDescriptor(f,A);if(void 0===D){var I=Object.getPrototypeOf(f);return null===I?void 0:_(I,A,x)}if("value"in D)return D.value;var q=D.get;return void 0===q?void 0:q.call(x)},N=function(){function _(f,A){for(var x=0;x<A.length;x++){var D=A[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(f,D.key,D)}}return function(f,A,x){return A&&_(f.prototype,A),x&&_(f,x),f}}(),R=g(w(3)),s=g(w(8)),e=w(43),r=g(e),t=g(w(27)),a=w(15),i=g(w(41));function g(_){return _&&_.__esModule?_:{default:_}}function l(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function m(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?_:f}function C(_,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}var u=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],d=function(_){function f(A,x){l(this,f),null!=x.modules.toolbar&&null==x.modules.toolbar.container&&(x.modules.toolbar.container=u);var D=m(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,x));return D.quill.container.classList.add("ql-snow"),D}return C(f,_),N(f,[{key:"extendToolbar",value:function(x){x.container.classList.add("ql-snow"),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),i.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),i.default),this.tooltip=new S(this.quill,this.options.bounds),x.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,I){x.handlers.link.call(x,!I.format.link)})}}]),f}(r.default);d.DEFAULTS=(0,R.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(f){if(f){var A=this.quill.getSelection();if(null==A||0==A.length)return;var x=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(x)&&0!==x.indexOf("mailto:")&&(x="mailto:"+x),this.quill.theme.tooltip.edit("link",x)}else this.quill.format("link",!1)}}}}});var S=function(_){function f(A,x){l(this,f);var D=m(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,x));return D.preview=D.root.querySelector("a.ql-preview"),D}return C(f,_),N(f,[{key:"listen",value:function(){var x=this;k(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){x.root.classList.contains("ql-editing")?x.save():x.edit("link",x.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(null!=x.linkRange){var I=x.linkRange;x.restoreFocus(),x.quill.formatText(I,"link",!1,s.default.sources.USER),delete x.linkRange}D.preventDefault(),x.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(D,I,q){if(null!=D){if(0===D.length&&q===s.default.sources.USER){var U=x.quill.scroll.descendant(t.default,D.index),j=c(U,2),v=j[0];if(null!=v){x.linkRange=new a.Range(D.index-j[1],v.length());var b=t.default.formats(v.domNode);return x.preview.textContent=b,x.preview.setAttribute("href",b),x.show(),void x.position(x.quill.getBounds(x.linkRange))}}else delete x.linkRange;x.hide()}})}},{key:"show",value:function(){k(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),f}(e.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),o.default=d},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var k=ee(w(29)),N=w(36),P=w(38),R=w(64),s=ee(w(65)),r=ee(w(66)),y=w(67),t=ee(y),a=w(37),n=w(26),i=w(39),g=w(40),m=ee(w(56)),u=ee(w(68)),S=ee(w(27)),f=ee(w(69)),x=ee(w(70)),I=ee(w(71)),U=ee(w(72)),v=ee(w(73)),O=w(13),b=ee(O),E=ee(w(74)),M=ee(w(75)),B=ee(w(57)),z=ee(w(41)),Q=ee(w(28)),se=ee(w(59)),H=ee(w(60)),Z=ee(w(61)),Y=ee(w(108)),re=ee(w(62));function ee(oe){return oe&&oe.__esModule?oe:{default:oe}}k.default.register({"attributors/attribute/direction":P.DirectionAttribute,"attributors/class/align":N.AlignClass,"attributors/class/background":a.BackgroundClass,"attributors/class/color":n.ColorClass,"attributors/class/direction":P.DirectionClass,"attributors/class/font":i.FontClass,"attributors/class/size":g.SizeClass,"attributors/style/align":N.AlignStyle,"attributors/style/background":a.BackgroundStyle,"attributors/style/color":n.ColorStyle,"attributors/style/direction":P.DirectionStyle,"attributors/style/font":i.FontStyle,"attributors/style/size":g.SizeStyle},!0),k.default.register({"formats/align":N.AlignClass,"formats/direction":P.DirectionClass,"formats/indent":R.IndentClass,"formats/background":a.BackgroundStyle,"formats/color":n.ColorStyle,"formats/font":i.FontClass,"formats/size":g.SizeClass,"formats/blockquote":s.default,"formats/code-block":b.default,"formats/header":r.default,"formats/list":t.default,"formats/bold":m.default,"formats/code":O.Code,"formats/italic":u.default,"formats/link":S.default,"formats/script":f.default,"formats/strike":x.default,"formats/underline":I.default,"formats/image":U.default,"formats/video":v.default,"formats/list/item":y.ListItem,"modules/formula":E.default,"modules/syntax":M.default,"modules/toolbar":B.default,"themes/bubble":Y.default,"themes/snow":re.default,"ui/icons":z.default,"ui/picker":Q.default,"ui/icon-picker":H.default,"ui/color-picker":se.default,"ui/tooltip":Z.default},!0),o.default=k.default},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.IndentClass=void 0;var c=function(){function t(a,n){for(var i=0;i<n.length;i++){var g=n[i];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}return function(a,n,i){return n&&t(a.prototype,n),i&&t(a,i),a}}(),k=function t(a,n,i){null===a&&(a=Function.prototype);var g=Object.getOwnPropertyDescriptor(a,n);if(void 0===g){var l=Object.getPrototypeOf(a);return null===l?void 0:t(l,n,i)}if("value"in g)return g.value;var m=g.get;return void 0===m?void 0:m.call(i)},P=function R(t){return t&&t.__esModule?t:{default:t}}(w(0)),r=function(t){function a(){return function p(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),function s(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function e(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}(a,t),c(a,[{key:"add",value:function(i,g){if("+1"===g||"-1"===g){var l=this.value(i)||0;g="+1"===g?l+1:l-1}return 0===g?(this.remove(i),!0):k(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"add",this).call(this,i,g)}},{key:"canAdd",value:function(i,g){return k(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"canAdd",this).call(this,i,g)||k(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"canAdd",this).call(this,i,parseInt(g))}},{key:"value",value:function(i){return parseInt(k(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,i))||void 0}}]),a}(P.default.Attributor.Class),y=new r("indent","ql-indent",{scope:P.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});o.IndentClass=y},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function r(){return function P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function R(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function p(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),r}(function N(e){return e&&e.__esModule?e:{default:e}}(w(4)).default);s.blotName="blockquote",s.tagName="blockquote",o.default=s},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function r(y,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(y,n.key,n)}}return function(y,t,a){return t&&r(y.prototype,t),a&&r(y,a),y}}(),e=function(r){function y(){return function R(r,y){if(!(r instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function p(r,y){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?r:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function s(r,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);r.prototype=Object.create(y&&y.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(r,y):r.__proto__=y)}(y,r),c(y,null,[{key:"formats",value:function(a){return this.tagName.indexOf(a.tagName)+1}}]),y}(function P(r){return r&&r.__esModule?r:{default:r}}(w(4)).default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],o.default=e},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.ListItem=void 0;var c=function(){function l(m,C){for(var u=0;u<C.length;u++){var d=C[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,C,u){return C&&l(m.prototype,C),u&&l(m,u),m}}(),k=function l(m,C,u){null===m&&(m=Function.prototype);var d=Object.getOwnPropertyDescriptor(m,C);if(void 0===d){var S=Object.getPrototypeOf(m);return null===S?void 0:l(S,C,u)}if("value"in d)return d.value;var _=d.get;return void 0===_?void 0:_.call(u)},P=r(w(0)),p=r(w(4)),e=r(w(25));function r(l){return l&&l.__esModule?l:{default:l}}function t(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}function a(l,m){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?l:m}function n(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);l.prototype=Object.create(m&&m.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(l,m):l.__proto__=m)}var i=function(l){function m(){return t(this,m),a(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return n(m,l),c(m,[{key:"format",value:function(u,d){u!==g.blotName||d?k(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,u,d):this.replaceWith(P.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():k(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(u,d){return this.parent.isolate(this.offset(this.parent),this.length()),u===this.parent.statics.blotName?(this.parent.replaceWith(u,d),this):(this.parent.unwrap(),k(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"replaceWith",this).call(this,u,d))}}],[{key:"formats",value:function(u){return u.tagName===this.tagName?void 0:k(m.__proto__||Object.getPrototypeOf(m),"formats",this).call(this,u)}}]),m}(p.default);i.blotName="list-item",i.tagName="LI";var g=function(l){function m(C){t(this,m);var u=a(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,C)),d=function(_){if(_.target.parentNode===C){var f=u.statics.formats(C),A=P.default.find(_.target);"checked"===f?A.format("list","unchecked"):"unchecked"===f&&A.format("list","checked")}};return C.addEventListener("touchstart",d),C.addEventListener("mousedown",d),u}return n(m,l),c(m,null,[{key:"create",value:function(u){var d="ordered"===u?"OL":"UL",S=k(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,d);return("checked"===u||"unchecked"===u)&&S.setAttribute("data-checked","checked"===u),S}},{key:"formats",value:function(u){return"OL"===u.tagName?"ordered":"UL"===u.tagName?u.hasAttribute("data-checked")?"true"===u.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),c(m,[{key:"format",value:function(u,d){this.children.length>0&&this.children.tail.format(u,d)}},{key:"formats",value:function(){return function y(l,m,C){return m in l?Object.defineProperty(l,m,{value:C,enumerable:!0,configurable:!0,writable:!0}):l[m]=C,l}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(u,d){if(u instanceof i)k(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertBefore",this).call(this,u,d);else{var S=null==d?this.length():d.offset(this),_=this.split(S);_.parent.insertBefore(u,_)}}},{key:"optimize",value:function(u){k(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,u);var d=this.next;null!=d&&d.prev===this&&d.statics.blotName===this.statics.blotName&&d.domNode.tagName===this.domNode.tagName&&d.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(d.moveChildren(this),d.remove())}},{key:"replace",value:function(u){if(u.statics.blotName!==this.statics.blotName){var d=P.default.create(this.statics.defaultChild);u.moveChildren(d),this.appendChild(d)}k(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"replace",this).call(this,u)}}]),m}(e.default);g.blotName="list",g.scope=P.default.Scope.BLOCK_BLOT,g.tagName=["OL","UL"],g.defaultChild="list-item",g.allowedChildren=[i],o.ListItem=i,o.default=g},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function r(){return function P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function R(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function p(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),r}(function N(e){return e&&e.__esModule?e:{default:e}}(w(56)).default);s.blotName="italic",s.tagName=["EM","I"],o.default=s},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function y(t,a){for(var n=0;n<a.length;n++){var i=a[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,a,n){return a&&y(t.prototype,a),n&&y(t,n),t}}(),k=function y(t,a,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,a);if(void 0===i){var g=Object.getPrototypeOf(t);return null===g?void 0:y(g,a,n)}if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(n)},r=function(y){function t(){return function p(y,t){if(!(y instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function s(y,t){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?y:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function e(y,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);y.prototype=Object.create(t&&t.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(y,t):y.__proto__=t)}(t,y),c(t,null,[{key:"create",value:function(n){return"super"===n?document.createElement("sup"):"sub"===n?document.createElement("sub"):k(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n)}},{key:"formats",value:function(n){return"SUB"===n.tagName?"sub":"SUP"===n.tagName?"super":void 0}}]),t}(function R(y){return y&&y.__esModule?y:{default:y}}(w(6)).default);r.blotName="script",r.tagName=["SUB","SUP"],o.default=r},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function r(){return function P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function R(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function p(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),r}(function N(e){return e&&e.__esModule?e:{default:e}}(w(6)).default);s.blotName="strike",s.tagName="S",o.default=s},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function r(){return function P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function R(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function p(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),r}(function N(e){return e&&e.__esModule?e:{default:e}}(w(6)).default);s.blotName="underline",s.tagName="U",o.default=s},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function a(n,i){for(var g=0;g<i.length;g++){var l=i[g];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,i,g){return i&&a(n.prototype,i),g&&a(n,g),n}}(),k=function a(n,i,g){null===n&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,i);if(void 0===l){var m=Object.getPrototypeOf(n);return null===m?void 0:a(m,i,g)}if("value"in l)return l.value;var C=l.get;return void 0===C?void 0:C.call(g)},P=function p(a){return a&&a.__esModule?a:{default:a}}(w(0)),R=w(27),y=["alt","height","width"],t=function(a){function n(){return function s(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function e(a,n){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?a:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function r(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(a,n):a.__proto__=n)}(n,a),c(n,[{key:"format",value:function(g,l){y.indexOf(g)>-1?l?this.domNode.setAttribute(g,l):this.domNode.removeAttribute(g):k(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,g,l)}}],[{key:"create",value:function(g){var l=k(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,g);return"string"==typeof g&&l.setAttribute("src",this.sanitize(g)),l}},{key:"formats",value:function(g){return y.reduce(function(l,m){return g.hasAttribute(m)&&(l[m]=g.getAttribute(m)),l},{})}},{key:"match",value:function(g){return/\.(jpe?g|gif|png)$/.test(g)||/^data:image\/.+;base64/.test(g)}},{key:"sanitize",value:function(g){return(0,R.sanitize)(g,["http","https","data"])?g:"//:0"}},{key:"value",value:function(g){return g.getAttribute("src")}}]),n}(P.default.Embed);t.blotName="image",t.tagName="IMG",o.default=t},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function a(n,i){for(var g=0;g<i.length;g++){var l=i[g];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,i,g){return i&&a(n.prototype,i),g&&a(n,g),n}}(),k=function a(n,i,g){null===n&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,i);if(void 0===l){var m=Object.getPrototypeOf(n);return null===m?void 0:a(m,i,g)}if("value"in l)return l.value;var C=l.get;return void 0===C?void 0:C.call(g)},N=w(4),R=function p(a){return a&&a.__esModule?a:{default:a}}(w(27)),y=["height","width"],t=function(a){function n(){return function s(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function e(a,n){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?a:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function r(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(a,n):a.__proto__=n)}(n,a),c(n,[{key:"format",value:function(g,l){y.indexOf(g)>-1?l?this.domNode.setAttribute(g,l):this.domNode.removeAttribute(g):k(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,g,l)}}],[{key:"create",value:function(g){var l=k(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,g);return l.setAttribute("frameborder","0"),l.setAttribute("allowfullscreen",!0),l.setAttribute("src",this.sanitize(g)),l}},{key:"formats",value:function(g){return y.reduce(function(l,m){return g.hasAttribute(m)&&(l[m]=g.getAttribute(m)),l},{})}},{key:"sanitize",value:function(g){return R.default.sanitize(g)}},{key:"value",value:function(g){return g.getAttribute("src")}}]),n}(N.BlockEmbed);t.blotName="video",t.className="ql-video",t.tagName="IFRAME",o.default=t},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.FormulaBlot=void 0;var c=function(){function g(l,m){for(var C=0;C<m.length;C++){var u=m[C];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,m,C){return m&&g(l.prototype,m),C&&g(l,C),l}}(),k=function g(l,m,C){null===l&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,m);if(void 0===u){var d=Object.getPrototypeOf(l);return null===d?void 0:g(d,m,C)}if("value"in u)return u.value;var S=u.get;return void 0===S?void 0:S.call(C)},P=r(w(35)),p=r(w(5)),e=r(w(9));function r(g){return g&&g.__esModule?g:{default:g}}function y(g,l){if(!(g instanceof l))throw new TypeError("Cannot call a class as a function")}function t(g,l){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?g:l}function a(g,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);g.prototype=Object.create(l&&l.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(g,l):g.__proto__=l)}var n=function(g){function l(){return y(this,l),t(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return a(l,g),c(l,null,[{key:"create",value:function(C){var u=k(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,C);return"string"==typeof C&&(window.katex.render(C,u,{throwOnError:!1,errorColor:"#f00"}),u.setAttribute("data-value",C)),u}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),l}(P.default);n.blotName="formula",n.className="ql-formula",n.tagName="SPAN";var i=function(g){function l(){y(this,l);var m=t(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return m}return a(l,g),c(l,null,[{key:"register",value:function(){p.default.register(n,!0)}}]),l}(e.default);o.FormulaBlot=n,o.default=i},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.CodeToken=o.CodeBlock=void 0;var c=function(){function C(u,d){for(var S=0;S<d.length;S++){var _=d[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,_.key,_)}}return function(u,d,S){return d&&C(u.prototype,d),S&&C(u,S),u}}(),k=function C(u,d,S){null===u&&(u=Function.prototype);var _=Object.getOwnPropertyDescriptor(u,d);if(void 0===_){var f=Object.getPrototypeOf(u);return null===f?void 0:C(f,d,S)}if("value"in _)return _.value;var A=_.get;return void 0===A?void 0:A.call(S)},P=t(w(0)),p=t(w(5)),e=t(w(9));function t(C){return C&&C.__esModule?C:{default:C}}function a(C,u){if(!(C instanceof u))throw new TypeError("Cannot call a class as a function")}function n(C,u){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?C:u}function i(C,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);C.prototype=Object.create(u&&u.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(C,u):C.__proto__=u)}var g=function(C){function u(){return a(this,u),n(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return i(u,C),c(u,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),k(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var _=this.domNode.textContent;this.cachedText!==_&&((_.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=S(_),this.domNode.normalize(),this.attach()),this.cachedText=_)}}]),u}(t(w(13)).default);g.className="ql-syntax";var l=new P.default.Attributor.Class("token","hljs",{scope:P.default.Scope.INLINE}),m=function(C){function u(d,S){a(this,u);var _=n(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,S));if("function"!=typeof _.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var f=null;return _.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(f),f=setTimeout(function(){_.highlight(),f=null},_.options.interval)}),_.highlight(),_}return i(u,C),c(u,null,[{key:"register",value:function(){p.default.register(l,!0),p.default.register(g,!0)}}]),c(u,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var _=this.quill.getSelection();this.quill.scroll.descendants(g).forEach(function(f){f.highlight(S.options.highlight)}),this.quill.update(p.default.sources.SILENT),null!=_&&this.quill.setSelection(_,p.default.sources.SILENT)}}}]),u}(e.default);m.DEFAULTS={highlight:null==window.hljs?null:function(C){return window.hljs.highlightAuto(C).value},interval:1e3},o.CodeBlock=g,o.CodeToken=l,o.default=m},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(K,o){K.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(K,o){K.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(K,o){K.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(K,o){K.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(K,o){K.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(K,o,w){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BubbleTooltip=void 0;var c=function u(d,S,_){null===d&&(d=Function.prototype);var f=Object.getOwnPropertyDescriptor(d,S);if(void 0===f){var A=Object.getPrototypeOf(d);return null===A?void 0:u(A,S,_)}if("value"in f)return f.value;var x=f.get;return void 0===x?void 0:x.call(_)},k=function(){function u(d,S){for(var _=0;_<S.length;_++){var f=S[_];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,S,_){return S&&u(d.prototype,S),_&&u(d,_),d}}(),P=a(w(3)),p=a(w(8)),s=w(43),e=a(s),r=w(15),t=a(w(41));function a(u){return u&&u.__esModule?u:{default:u}}function n(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function i(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?u:d}function g(u,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var l=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(u){function d(S,_){n(this,d),null!=_.modules.toolbar&&null==_.modules.toolbar.container&&(_.modules.toolbar.container=l);var f=i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S,_));return f.quill.container.classList.add("ql-bubble"),f}return g(d,u),k(d,[{key:"extendToolbar",value:function(_){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(_.container),this.buildButtons([].slice.call(_.container.querySelectorAll("button")),t.default),this.buildPickers([].slice.call(_.container.querySelectorAll("select")),t.default)}}]),d}(e.default);m.DEFAULTS=(0,P.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(d){d?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(u){function d(S,_){n(this,d);var f=i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S,_));return f.quill.on(p.default.events.EDITOR_CHANGE,function(A,x,D,I){if(A===p.default.events.SELECTION_CHANGE)if(null!=x&&x.length>0&&I===p.default.sources.USER){f.show(),f.root.style.left="0px",f.root.style.width="",f.root.style.width=f.root.offsetWidth+"px";var q=f.quill.getLines(x.index,x.length);if(1===q.length)f.position(f.quill.getBounds(x));else{var U=q[q.length-1],j=f.quill.getIndex(U),v=Math.min(U.length()-1,x.index+x.length-j),O=f.quill.getBounds(new r.Range(j,v));f.position(O)}}else document.activeElement!==f.textbox&&f.quill.hasFocus()&&f.hide()}),f}return g(d,u),k(d,[{key:"listen",value:function(){var _=this;c(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){_.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!_.root.classList.contains("ql-hidden")){var f=_.quill.getSelection();null!=f&&_.position(_.quill.getBounds(f))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(_){var f=c(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"position",this).call(this,_),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",0===f)return f;A.style.marginLeft=-1*f-A.offsetWidth/2+"px"}}]),d}(s.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),o.BubbleTooltip=C,o.default=m},function(K,o,w){K.exports=w(63)}]).default}),function(){
/**
   * @license jahashtable, a JavaScript implementation of a hash table. It creates a single constructor function called
   * Hashtable in the global scope.
   *
   * http://www.timdown.co.uk/jshashtable/
   * Copyright 2013 Tim Down.
   * Version: 3.0
   * Build date: 17 July 2013
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
var K=function(W){var H="function",X="string";if("undefined"==typeof encodeURIComponent||Array.prototype.splice===W||Object.prototype.hasOwnProperty===W)return null;function V(J){return typeof J==X?J:""+J}function Y(J){var ne;return typeof J==X?J:typeof J.hashCode==H?typeof(ne=J.hashCode())==X?ne:Y(ne):V(J)}function re(J,ne){return J.equals(ne)}function ee(J,ne){return typeof ne.equals==H?ne.equals(J):J===ne}function oe(J){return function(ne){if(null===ne)throw new Error("null is not a valid "+J);if(ne===W)throw new Error(J+" must not be undefined")}}var fe=oe("key"),he=oe("value");function ve(J,ne,ue,de){this[0]=J,this.entries=[],this.addEntry(ne,ue),null!==de&&(this.getEqualityFunction=function(){return de})}function be(J){return function(ne){for(var de,ue=this.entries.length,ae=this.getEqualityFunction(ne);ue--;)if(ae(ne,(de=this.entries[ue])[0]))switch(J){case 0:return!0;case 1:return de;case 2:return[ue,de[1]]}return!1}}function Ee(J){return function(ne){for(var ue=ne.length,de=0,ae=this.entries,ce=ae.length;de<ce;++de)ne[ue+de]=ae[de][J]}}function Te(J,ne){var ue=J[ne];return ue&&ue instanceof ve?ue:null}function le(){var J=[],ne={},ue={replaceDuplicateKey:!0,hashCode:Y,equals:null},de=arguments[0],ae=arguments[1];ae!==W?(ue.hashCode=de,ue.equals=ae):de!==W&&function te(J,ne){for(var ue in ne)ne.hasOwnProperty(ue)&&(J[ue]=ne[ue])}(ue,de);var ce=ue.hashCode,ye=ue.equals;this.properties=ue,this.put=function(ge,Ae){fe(ge),he(Ae);var Ce,xe,we=ce(ge),Re=null;return(Ce=Te(ne,we))?(xe=Ce.getEntryForKey(ge))?(ue.replaceDuplicateKey&&(xe[0]=ge),Re=xe[1],xe[1]=Ae):Ce.addEntry(ge,Ae):(Ce=new ve(we,ge,Ae,ye),J.push(Ce),ne[we]=Ce),Re},this.get=function(ge){fe(ge);var Ae=ce(ge),we=Te(ne,Ae);if(we){var Ce=we.getEntryForKey(ge);if(Ce)return Ce[1]}return null},this.containsKey=function(ge){fe(ge);var Ae=ce(ge),we=Te(ne,Ae);return!!we&&we.containsKey(ge)},this.containsValue=function(ge){he(ge);for(var Ae=J.length;Ae--;)if(J[Ae].containsValue(ge))return!0;return!1},this.clear=function(){J.length=0,ne={}},this.isEmpty=function(){return!J.length};var _e=function(ge){return function(){for(var Ae=[],we=J.length;we--;)J[we][ge](Ae);return Ae}};this.keys=_e("keys"),this.values=_e("values"),this.entries=_e("getEntries"),this.remove=function(ge){fe(ge);var we,Ae=ce(ge),Ce=null,xe=Te(ne,Ae);return xe&&null!==(Ce=xe.removeEntryForKey(ge))&&0==xe.entries.length&&(we=function Oe(J,ne){for(var ue=J.length;ue--;)if(ne===J[ue][0])return ue;return null}(J,Ae),J.splice(we,1),delete ne[Ae]),Ce},this.size=function(){for(var ge=0,Ae=J.length;Ae--;)ge+=J[Ae].entries.length;return ge}}return ve.prototype={getEqualityFunction:function(J){return typeof J.equals==H?re:ee},getEntryForKey:be(1),getEntryAndIndexForKey:be(2),removeEntryForKey:function(J){var ne=this.getEntryAndIndexForKey(J);return ne?(this.entries.splice(ne[0],1),ne[1]):null},addEntry:function(J,ne){this.entries.push([J,ne])},keys:Ee(0),values:Ee(1),getEntries:function(J){for(var ne=J.length,ue=0,de=this.entries,ae=de.length;ue<ae;++ue)J[ne+ue]=de[ue].slice(0)},containsKey:be(0),containsValue:function(J){for(var ne=this.entries,ue=ne.length;ue--;)if(J===ne[ue][1])return!0;return!1}},(le.prototype={each:function(J){for(var de,ne=this.entries(),ue=ne.length;ue--;)J((de=ne[ue])[0],de[1])},equals:function(J){var ne,ue,de,ae=this.size();if(ae==J.size()){for(ne=this.keys();ae--;)if(null===(de=J.get(ue=ne[ae]))||de!==this.get(ue))return!1;return!0}return!1},putAll:function(J,ne){for(var de,ae,ce,ye,ue=J.entries(),_e=ue.length,ge=typeof ne==H;_e--;)ae=(de=ue[_e])[0],ce=de[1],ge&&(ye=this.get(ae))&&(ce=ne(ae,ye,ce)),this.put(ae,ce)},clone:function(){var J=new le(this.properties);return J.putAll(this),J}}).toQueryString=function(){for(var ue,J=this.entries(),ne=J.length,de=[];ne--;)ue=J[ne],de[ne]=encodeURIComponent(V(ue[0]))+"="+encodeURIComponent(V(ue[1]));return de.join("&")},le}();function w(W){var H=this;function X(){}function Z(re){return"function"==typeof re}H.config={recursion_level:1,collection_mode:"partial",functionsToExclude:[],function_list_size:1024,json_script:W||"json2.js"},H.emptyDomData=function(){H.dom_data={functions:{names:[],excluded:{size:0,count:0},truncated:!1},inputs:[],iFrames:[],scripts:[],collection_status:w.NotStarted}},H.startInspection=function(){var re=!1,ee=!0;if($.init(),"Explorer"!==$.browser)try{H.inspectJSFunctions(),ee=!1}catch{re=re||!0}else H.dom_data.functions=[],(void 0===H.dom_data.functions||void 0===H.dom_data.functions.names)&&(H.dom_data.functions={names:[],excluded:{size:0,count:0},truncated:!1});try{H.inspectFrames(),ee=!1}catch{re=re||!0}try{H.inspectScripts(),ee=!1}catch{re=re||!0}try{H.inspectInputFields(),ee=!1}catch{re=re||!0}H.dom_data.collection_status=re?ee?w.Fail:w.Partial:w.Success,"Explorer"!==$.browser&&H.handleSizeLimit()},H.domDataAsJSON=function(){return G(JSON.stringify(H.dom_data))},H.recursiveGetAllFunctionNamesUnderElement=function(re,ee,oe){var he,ve,pe=H.config,Se=pe.recursion_level,be=pe.collection_mode;(void 0===H.dom_data.functions||void 0===H.dom_data.functions.names)&&(H.dom_data.functions={names:[],excluded:{size:0,count:0},truncated:!1});var Ee=H.dom_data.functions,Oe=Ee.excluded;for(var Te in ee)try{var le=ee[Te];if(he=""+le,ve=(re.length>0?re+".":"")+Te,Z(le))if(H.functionShouldBeCollected(le,Te)){var J=Ee.names;J[J.length]=ve}else"partial"==be&&(Oe.size+=he.length,Oe.count++);oe+1<Se?H.recursiveGetAllFunctionNamesUnderElement(ve,le,oe+1):Ee.names.sort()}catch(ne){window.console||(window.console={},window.console.info=X,window.console.log=X,window.console.warn=X,window.console.error=X),console&&console.log&&console.log("error counting functions: "+ne.toString())}};var Y=new K;H.initFunctionsToExclude=function(){Y&&Y.clear();for(var re=H.config.functionsToExclude,ee=re.length;ee--;)Y.put(re[ee],"")},H.functionShouldBeCollected=function(ee,oe){return"full"==H.config.collection_mode||(0===Y.size()&&H.initFunctionsToExclude(),!Y.containsKey(oe))},H.inspectJSFunctions=function(){H.dom_data.functions=[],H.recursiveGetAllFunctionNamesUnderElement("",window,0)},H.handleSizeLimit=function(){var re=H.dom_data,ee=H.config,oe=ee.function_list_size,fe=re.functions;fe.names.sort();var he=JSON.stringify(re);oe<0&&(oe=0);var ve=0;if("full"!=ee.colllection_mode&&he.length>oe){for(var me=fe.names,pe=me.toString(),Se=he.length-JSON.stringify(me).length+2,be=!1,Ee=me.length;!be;){1e3==ve++&&(be=!0);var Oe=pe.lastIndexOf(",");Oe>=0&&Ee>0&&Se+Oe+2*Ee>oe?(pe=pe.substring(0,Oe-1),Ee--):be=!0}Ee>1?(fe.truncated=!0,fe.names=fe.names.slice(0,Ee-1),re.functions.truncated=!0):(H.emptyDomData(),(re=H.dom_data).collection_status=w.Partial,re.functions.truncated=!0)}},H.inspectFrames=function(){H.countElements("iframe")},H.countElements=function(re){var oe=document.getElementsByTagName(re);void 0===H.dom_data.iFrames&&(H.dom_data.iFrames=[]);for(var fe=H.dom_data.iFrames,he=fe.length,ve=0;ve<oe.length;ve++)fe[he+ve]=""+oe[ve].src;fe.sort()},H.inspectScripts=function(){var re=document.getElementsByTagName("script");H.dom_data.scripts=[];for(var ee=0;ee<re.length;ee++)H.dom_data.scripts[ee]=re[ee].text.length},H.collectFields=function(re){var ee=document.getElementsByTagName(re);void 0===H.dom_data.inputs&&(H.dom_data.inputs=[]);for(var oe=H.dom_data.inputs,fe=oe.length,he=ee.length;he--;){var me=ee[he],pe=me.name,Se=me.id;oe[fe+he]=pe&&pe.length>0?pe:Se&&Se.length>0?Se:"NO_NAME"}oe.sort()},H.inspectInputFields=function(){H.collectFields("input"),H.collectFields("textarea"),H.collectFields("select"),H.collectFields("button")},H.emptyDomData(),function(){if(!window.JSON){var re=document.getElementsByTagName("head")[0],ee=document.createElement("script");ee.type="text/javascript",ee.src=H.config.json_script,re.appendChild(ee)}}()}function c(){this.deviceprint_browser=function(){var Z=navigator.userAgent.toLowerCase()+y+navigator.appVersion+y+navigator.platform;return(Z+=y+navigator.appMinorVersion+y+navigator.cpuClass+y+navigator.browserLanguage)+(y+ScriptEngineBuildVersion())},this.deviceprint_software=function(){var X="",Z=!0;try{document.body.addBehavior("#default#clientCaps");for(var V,Y=H.length,te=0;te<Y;te++){V=B(H[te]);var re=W[te];V?!0===Z?(X+=re+t+V,Z=!1):X+=y+re+t+V:(X+="",Z=!1)}}catch{}return X};var W=["abk","wnt","aol","arb","chs","cht","dht","dhj","dan","dsh","heb","ie5","icw","ibe","iec","ieh","iee","jap","krn","lan","swf","shw","msn","wmp","obp","oex","net","pan","thi","tks","uni","vtc","vnm","mvm","vbs","wfd"],H=["7790769C-0471-11D2-AF11-00C04FA35D02","89820200-ECBD-11CF-8B85-00AA005B4340","47F67D00-9E55-11D1-BAEF-00C04FC2D130","76C19B38-F0C8-11CF-87CC-0020AFEECF20","76C19B34-F0C8-11CF-87CC-0020AFEECF20","76C19B33-F0C8-11CF-87CC-0020AFEECF20","9381D8F2-0288-11D0-9501-00AA00B911A5","4F216970-C90C-11D1-B5C7-0000F8051515","283807B5-2C60-11D0-A31D-00AA00B92C03","44BBA848-CC51-11CF-AAFA-00AA00B6015C","76C19B36-F0C8-11CF-87CC-0020AFEECF20","89820200-ECBD-11CF-8B85-00AA005B4383","5A8D6EE0-3E18-11D0-821E-444553540000","630B1DA0-B465-11D1-9948-00C04F98BBC9","08B0E5C0-4FCB-11CF-AAA5-00401C608555","45EA75A0-A269-11D1-B5BF-0000F8051515","DE5AED00-A4BF-11D1-9948-00C04F98BBC9","76C19B30-F0C8-11CF-87CC-0020AFEECF20","76C19B31-F0C8-11CF-87CC-0020AFEECF20","76C19B50-F0C8-11CF-87CC-0020AFEECF20","D27CDB6E-AE6D-11CF-96B8-444553540000","2A202491-F00D-11CF-87CC-0020AFEECF20","5945C046-LE7D-LLDL-BC44-00C04FD912BE","22D6F312-B0F6-11D0-94AB-0080C74C7E95","3AF36230-A269-11D1-B5BF-0000F8051515","44BBA840-CC51-11CF-AAFA-00AA00B6015C","44BBA842-CC51-11CF-AAFA-00AA00B6015B","76C19B32-F0C8-11CF-87CC-0020AFEECF20","76C19B35-F0C8-11CF-87CC-0020AFEECF20","CC2A9BA0-3BDD-11D0-821E-444553540000","3BF42070-B3B1-11D1-B5C5-0000F8051515","10072CEC-8CC1-11D1-986E-00A0C955B42F","76C19B37-F0C8-11CF-87CC-0020AFEECF20","08B0E5C0-4FCB-11CF-AAA5-00401C608500","4F645220-306D-11D2-995D-00C04F98BBC9","73FA19D0-2D75-11D2-995D-00C04F98BBC9"]}function k(){}function N(){}function P(){this.startTime=(new Date).getTime()}function R(){return Math.floor(6e4*Math.random()+4e3)}w.Success=0,w.Fail=1,w.Partial=2,w.NotStarted=3,c.prototype=new n,k.prototype=new n,N.prototype=new n,P.prototype.start=function(){this.startTime=(new Date).getTime()},P.prototype.duration=function(){return(new Date).getTime()-this.startTime};var p={internalIP:"127.0.0.1",setInternalPingTime:function(W){p.internalPingTime=W},setExternalPingTime:function(W){p.externalPingTime=W},PROXY_DETECTION_TIMEOUT:5e3,TIMEOUT_CHECK_FREQUENCY:1e3,isTimedOut:function(W,H,X){var Z=new P;H-Z.duration()<=0&&(typeof p.internalPingTime>"u"&&new RegExp("internalPingTime").test(W)||typeof p.externalPingTime>"u"&&new RegExp("externalPingTime").test(W))?(W.call(this,-1),X.abort()):(typeof p.internalPingTime>"u"&&new RegExp("internalPingTime").test(W)||typeof p.externalPingTime>"u"&&new RegExp("externalPingTime").test(W))&&setTimeout(function(){p.isTimedOut(W,H-(Z.duration()+p.TIMEOUT_CHECK_FREQUENCY),X)},p.TIMEOUT_CHECK_FREQUENCY)},doAjax:function(W,H){var Z,V,X=document.location.protocol+"//"+W+":"+R()+"/NonExistentImage"+R()+".gif";if(window.XDomainRequest){Z=new window.XDomainRequest,V=new P;try{Z.timeout=p.PROXY_DETECTION_TIMEOUT,Z.ontimeout=function(){H.call(this,-1),Z.abort()},Z.onprogress=function(){H.call(this,V.duration()),Z.abort()},Z.onerror=function(){H.call(this,V.duration()),Z.abort()},Z.open("GET",X,!0),Z.send()}catch{p.doAjaxViaImage(H,X)}}else{var Y="ontimeout"in(Z=new XMLHttpRequest);V=new P;try{Z.onreadystatechange=function(){4==Z.readyState&&(typeof p.internalPingTime>"u"&&new RegExp("internalPingTime").test(H)||typeof p.externalPingTime>"u"&&new RegExp("externalPingTime").test(H))&&H.call(this,V.duration())},Z.timeout=p.PROXY_DETECTION_TIMEOUT,Z.ontimeout=function(){H.call(this,-1),Z.abort()},Z.open("GET",X,!0),Z.send(),Y||p.isTimedOut(H,p.PROXY_DETECTION_TIMEOUT-V.duration(),Z)}catch{p.doAjaxViaImage(H,X)}}},doAjaxViaImage:function(W,H){var X=new Image,Z=new P;X.onerror=function(){W.call(this,Z.duration())},X.src=H},collect:function(){p.doAjax(p.externalIP,p.setExternalPingTime),"object"==typeof XDomainRequest?p.externalPingTime||s():p.doAjax(p.internalIP,p.setInternalPingTime)}},s=function(){p.externalPingTime?p.doAjax(p.internalIP,p.setInternalPingTime):setTimeout(s,100)};p.isValidIPAddress=function(W){if(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(W)){var X=W.split(".");if(0==parseInt(parseFloat(X[0])))return!1;for(var Z=0;Z<X.length;Z++)if(parseInt(parseFloat(X[Z]))>255)return!1;return!0}return!1},p.initProxyCollection=function(){p.isValidIPAddress(p.externalIP)&&p.isValidIPAddress(p.internalIP)&&p.collect()};var y="|",t="=";function n(){var H=new K;H.put("npnul32","def"),H.put("npqtplugin6","qt6"),H.put("npqtplugin5","qt5"),H.put("npqtplugin4","qt4"),H.put("npqtplugin3","qt3"),H.put("npqtplugin2","qt2"),H.put("npqtplugin","qt1"),H.put("nppdf32","pdf"),H.put("NPSWF32","swf"),H.put("NPJava11","j11"),H.put("NPJava12","j12"),H.put("NPJava13","j13"),H.put("NPJava32","j32"),H.put("NPJava14","j14"),H.put("npoji600","j61"),H.put("NPJava131_16","j16"),H.put("NPOFFICE","mso"),H.put("npdsplay","wpm"),H.put("npwmsdrm","drm"),H.put("npdrmv2","drn"),H.put("nprjplug","rjl"),H.put("nppl3260","rpl"),H.put("nprpjplug","rpv"),H.put("npchime","chm"),H.put("npCortona","cor"),H.put("np32dsw","dsw"),H.put("np32asw","asw"),this.deviceprint_version=function(){return"3.5.0_1"},this.deviceprint_browser=function(){return navigator.userAgent.toLowerCase()+y+navigator.appVersion+y+navigator.platform},this.deviceprint_software=function(){var X="",Z=!0,V="",te=navigator.plugins,re=navigator.mimeTypes;if(te.length>0){for(var ee="",fe=te.length,he=0;he<fe;he++)ee=z(te[he].filename,"Plugins","."),!0===Z?H.containsKey(ee)?(V+=H.get(ee),Z=!1):(V="",Z=!1):V+=H.containsKey(ee)?y+H.get(ee):"";X=G(V)}else if(re.length>0)for(he=0;he<re.length;he++)mimeType=re[he],!0===Z?H.containsKey(mimeType)?(X+=H.get(mimeType)+t+mimeType,Z=!1):(X+="unknown"+t+mimeType,Z=!1):H.containsKey(mimeType)?X+=y+H.get(mimeType)+t+mimeType:V+="";return X},this.deviceprint_display=function(){var X="";return self.screen&&(X+=screen.colorDepth+y+screen.width+y+screen.height+y+screen.availHeight),X},this.deviceprint_all_software=function(){var X="",Z=!0,V=navigator.plugins,Y=V.length;if(Y>0){for(var te="",re="",oe=0;oe<Y;oe++)re=z(re=V[oe].filename,"Plugins","."),!0===Z?(te+=re,Z=!1):te+=y+re;X=G(te)}return X},this.deviceprint_timezone=function(){var X=(new Date).getTimezoneOffset()/60*-1;return(new Date).deviceprint_dst()&&X--,X},Date.prototype.deviceprint_stdTimezoneOffset=function(){var X=new Date(this.getFullYear(),0,1),Z=new Date(this.getFullYear(),6,1);return Math.max(X.getTimezoneOffset(),Z.getTimezoneOffset())},Date.prototype.deviceprint_dst=function(){return this.getTimezoneOffset()<this.deviceprint_stdTimezoneOffset()},this.deviceprint_language=function(){var X,Z=navigator.language,V=navigator.browserLanguage,Y=navigator.systemLanguage,te=navigator.userLanguage;return X=typeof Z<"u"?"lang"+t+Z+y:typeof V<"u"?"lang"+t+V+y:"lang"+t+y,(X+=typeof Y<"u"?"syslang"+t+Y+y:"syslang"+t+y)+(typeof te<"u"?"userlang"+t+te:"userlang"+t)},this.deviceprint_java=function(){return navigator.javaEnabled()?1:0},this.deviceprint_cookie=function(){var X=navigator.cookieEnabled?1:0;return typeof navigator.cookieEnabled>"u"&&!X&&(document.cookie="testcookie",X=-1!==document.cookie.indexOf("testcookie")?1:0),X},this.deviceprint_appName=function(){var X=navigator.appName;return typeof X<"u"?X:""},this.deviceprint_appCodeName=function(){var X=navigator.appCodeName;return typeof X<"u"?X:""},this.deviceprint_online=function(){var X=navigator.onLine;return typeof X<"u"?X:""},this.deviceprint_opsProfile=function(){var X=navigator.opsProfile;return typeof X<"u"&&null!==X?X:""},this.deviceprint_userProfile=function(){var X=navigator.userProfile;return typeof X<"u"&&null!==X?X:""},this.deviceprint_screen_availWidth=function(){var X=screen.availWidth;return typeof X<"u"?X:""},this.deviceprint_screen_pixelDepth=function(){var X=screen.pixelDepth;return typeof X<"u"?X:""},this.deviceprint_screen_bufferDepth=function(){var X=screen.bufferDepth;return typeof X<"u"?X:""},this.deviceprint_screen_deviceXDPI=function(){var X=screen.deviceXDPI;return typeof X<"u"?X:""},this.deviceprint_screen_deviceYDPI=function(){var X=screen.deviceYDPI;return typeof X<"u"?X:""},this.deviceprint_screen_logicalXDPI=function(){var X=screen.logicalXDPI;return typeof X<"u"?X:""},this.deviceprint_screen_logicalYDPI=function(){var X=screen.logicalYDPI;return typeof X<"u"?X:""},this.deviceprint_screen_fontSmoothingEnabled=function(){var X=screen.fontSmoothingEnabled;return typeof X<"u"?X:""},this.deviceprint_screen_updateInterval=function(){var X=screen.updateInterval;return typeof X<"u"?X:""},this.deviceprint_ping_in=function(){return p&&p.internalPingTime?p.internalPingTime:""},this.deviceprint_ping_ex=function(){return p&&p.externalPingTime?p.externalPingTime:""}}function g(){return function i(W){return encodeURIComponent(W).replace(/\~/g,"%7E").replace(/\!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\'/g,"%27").replace(/\-/g,"%2D").replace(/\_/g,"%5F").replace(/\./g,"%2E")}(function u(){var W;switch($.init(),$.browser){case"Explorer":W=new c;break;case"Firefox":W=new k;break;case"Opera":W=new N;break;default:W=new n}var H="version="+W.deviceprint_version()+"&pm_fpua="+W.deviceprint_browser()+"&pm_fpsc="+W.deviceprint_display()+"&pm_fpsw="+W.deviceprint_software()+"&pm_fptz="+W.deviceprint_timezone()+"&pm_fpln="+W.deviceprint_language()+"&pm_fpjv="+W.deviceprint_java()+"&pm_fpco="+W.deviceprint_cookie();return H=(H=(H=(H=H+"&pm_fpasw="+W.deviceprint_all_software())+"&pm_fpan="+W.deviceprint_appName()+"&pm_fpacn="+W.deviceprint_appCodeName()+"&pm_fpol="+W.deviceprint_online()+"&pm_fposp="+W.deviceprint_opsProfile()+"&pm_fpup="+W.deviceprint_userProfile()+"&pm_fpsaw="+W.deviceprint_screen_availWidth()+"&pm_fpspd="+W.deviceprint_screen_pixelDepth()+"&pm_fpsbd="+W.deviceprint_screen_bufferDepth()+"&pm_fpsdx="+W.deviceprint_screen_deviceXDPI()+"&pm_fpsdy="+W.deviceprint_screen_deviceYDPI()+"&pm_fpslx="+W.deviceprint_screen_logicalXDPI()+"&pm_fpsly="+W.deviceprint_screen_logicalYDPI()+"&pm_fpsfse="+W.deviceprint_screen_fontSmoothingEnabled()+"&pm_fpsui="+W.deviceprint_screen_updateInterval())+"&pm_os="+$.OS+"&pm_brmjv="+parseInt($.version,10)+"&pm_br="+$.browser)+"&pm_inpt="+W.deviceprint_ping_in()+"&pm_expt="+W.deviceprint_ping_ex()}())}var T=function(){var W,H,X,Z,V=1,Y="";window.onfocus=function(){H=!0},window.onblur=function(){H=!1};var re=function(){var ve=W;!function(){for(;;)if(0==(new Date).getUTCMilliseconds())return}();var me=new Date;if(me.getSeconds()%ve!=0);else{var pe=fe(me,H,X());oe(pe)}},oe=function(ve){if(ve&&ve.userLoginName){if(window.XMLHttpRequest&&window.JSON){var me=new XMLHttpRequest;me.open("POST",Z),0!=V&&(V=2),me.setRequestHeader("Content-Type","application/json"),me.send(JSON.stringify(ve)),me.onloadend=function(){204==me.status?V=0:0!=V&&(V=3),typeof debugCollection<"u"&&debugCollection&&(console.log(JSON.stringify(ve)),console.log("browserEvent returned with status code:"+V))}}}else typeof debugCollection<"u"&&debugCollection&&console.log("User did not provide any user login name, reporting aborted.")},fe=function(ve,me,pe){var Se={};return Se.deviceId=Y,Se.jsTime=ve,Se.userLoginName=pe,Se.url=window.location.href,Se.activeWindow=me,Se};return{startEventReporting:function(ve,me,pe){Y=g(),X=ve,Z=me,1!=(W=pe)&&2!=W&&5!=W&&10!=W&&(W=5),setInterval(re,995)},actualRestSending:oe,getStatus:function(){return V}}}(),E=function(){var W=null,H=null,X=null,Z=null,V=["output_size_limit"];function Y(ae){if(Z={output_size_limit:1024,collection_mode:"partial"},ae)for(var ce in ae)if(void 0!==ce._config){for(var _e=V.length-1;_e>=0;_e--)if(V[_e]==ce){found=!0;continue}Z[ce]=ae[ce]}X=!1,H=function oe(){var ce=(document.createEvent?document.createEvent("Event"):document.createEventObject()).timeStamp||new Date;return(ce=new Date(ce)).getYear()>2100&&(ce=new Date(ce/1e3)),ce=ce.getTime()}(),W={elements:new L,events:[],collection_status:0,toString:function(){return"RecordedData: {elements: "+this.elements+", events: "+this.events+"}"}},Te()}function ee(ae){if(ae.tagName&&"input"==ae.tagName.toLowerCase()){var ce=ae.getAttribute("type");if("text"==ce||"checkbox"==ce||"checkbox"==ce)return!0}return!1}function fe(ae){var ce=null,ye=W.elements,ge=(ye.size(),de(ae));return W.elements.containsKey(ge)?ce=ye.get(ge):((ce=new M).id(ge),ce.type(ue(ae)),ce.length(ae.value?ae.value.length:0),ye.put(ce)),ce}function he(ae){var ce=ae||window.event,ye=pe(ce);if(ee(ye)){var _e=fe(ye);_e.incrementEventCount();var ge=new F;ge.index(_e.index()),ge.type(J(ce));var Ae=function Se(ae){var ce;return ae.timeStamp&&0!==ae.timeStamp?(ce=ae.timeStamp,new Date(ce).getYear()>2100&&(ce/=1e3)):ce=(new Date).getTime(),ce}(ce);ge.offset(Ae-H),W.events.push(ge)}return!0}function ve(ae){var ce=ae||window.event;return function me(ae){if("keydown"==ae.type){var ce=ae.which||ae.charCode||ae.keyCode;if((typeof KeyboardEvent<"u"&&ce==KeyboardEvent.DOM_VK_V||118==ce||86==ce)&&(ae.ctrlKey||ae.metaKey))return!0}return!1}(ce)?he({target:pe(ce),type:"paste"}):he(ce)}function pe(ae){return ae.target?ae.target:ae.srcElement}function Te(){var ae=he,ce=document;ce.addEventListener?(ce.addEventListener("keydown",ve,!1),ce.addEventListener("paste",ae,!1),ce.addEventListener("focus",ae,!0),ce.addEventListener("blur",ae,!0)):ce.attachEvent&&(ce.onkeydown=ve,ce.onfocusin=ae,ce.onfocusout=ae)}function J(ae){return"keydown"==ae.type?F.KeyDown:"submit"==ae.type?F.Submit:"paste"==ae.type?F.Paste:"focus"==ae.type||"focusin"==ae.type?F.Focus:"blur"==ae.type||"focusout"==ae.type?F.Blur:F.Unknown}function ue(ae){return ae.nodeName+(ae.type?":"+ae.type:"")}function de(ae){return ae.id?ae.id:ae.name?ae.name:ae.nodeName}return Y(),Te(),{addElement:function(ae){return fe(ae)},getEventType:function(ae){return J(ae)},getEventCode:function(ae){return function ne(ae){return ae==F.KeyDown?"keydown":ae==F.Submit?"submit":ae==F.Focus?"focus":ae==F.Blur?"blur":ae==F.Paste?"paste":"unknown"}(ae)},getRecordedData:function(){return W},getElementType:function(ae){return ue(ae)},getElementId:function(ae){return de(ae)},initEventCollection:function(ae){Y(ae)},getConfig:function(){return Z},serialize:function(){!function Ee(){!function te(){for(var ae=function re(){for(var ae=[],ce=document.getElementsByTagName("input"),ye=0,_e=ce.length;ye<_e;ye++){var ge=ce[ye];ee(ge)&&ae.push(ge)}return ae}(),ce=0,ye=ae.length;ce<ye;ce++)fe(ae[ce])}();for(var ae=W.elements,ce=ae.size();ce>=1;ce--){var ye=ae.getByIndex(ce),_e=ye.id(),ge=document.getElementById(_e);if(!ge){var Ae=document.getElementsByName(_e);Ae.length>0&&(ge=Ae[0])}ge&&ge.value&&ye.length(ge.value.length)}}();for(var ae=this.getRecordedData(),ce=ae.elements,ye=T.getStatus(),_e=[],ge=0;ge<ce.length;ge++)_e[ge]=!1;var Ae=ae.events,we=ae.collection_status,Ce="partial"==this.getConfig().collection_mode,xe=this.getConfig().output_size_limit,Re=Ae.length,Ne=2,Ue=H+","+we+","+ye;Ne+=1,Ne+=1,Ne+=Ue.length;for(var ke="",je=ce.size();je>0;je--){var Ie=ce.getByIndex(je),Le=Ie.serialize()+";";if(Ce&&Ne+ke.length+Le.length>xe){X=!0;break}null==Ie.type().match("INPUT:checkbox")&&Ie.length()>0&&0==Ie.eventCount()&&(ke=Le+ke)}Ne+=ke.length;for(var Pe="";Re--;){var Be=Ae[Re],Me=Be.index(),Ge=Be.serialize()+";",He=(Le=ce.getByIndex(Me).serialize()+";",Ge.length);if(_e[Me]||(He+=Le.length),Ce&&Ne+Pe.length+He>xe){X=!0;break}_e[Me]||(ke=Le+ke,Ne+=Le.length),_e[Me]=!0,Pe=Ge+Pe}return ke.length>0&&(ke=ke.substring(0,ke.length-1)),Pe.length>0&&(Pe=Pe.substring(0,Pe.length-1)),ke+"@"+Pe+"@"+(X?1:0)+","+Ue}}}();function F(){var W=this===window?{}:this;W.index=function(H){if(0===arguments.length)return W._index;W._index=arguments[0]},W.offset=function(H){if(0===arguments.length)return W._offset;W._offset=arguments[0]},W.type=function(H){if(0===arguments.length)return W._type;W._type=arguments[0]},W.serialize=function(){return W.index()+","+W.type()+",0"},W.toString=function(){return"UIEvent: [index: "+W.index()+", type: "+W.type()+", offset: "+W.offset()+"]"}}function M(){var W=this===window?{}:this;W._eventCount=0,W.id=function(H){if(0===arguments.length)return W._id;W._id=arguments[0]},W.index=function(H){if(0===arguments.length)return W._index;W._index=arguments[0]},W.length=function(H){if(0===arguments.length)return W._length;W._length=arguments[0]},W.type=function(H){if(0===arguments.length)return W._type;W._type=arguments[0]},W.incrementEventCount=function(){W._eventCount++},W.eventCount=function(){return W._eventCount},W.serialize=function(){var X=W.index();return W.index()+","+X+","+W.type()+","+W.length()},W.toString=function(){return"InteractionElement: [id: "+W.id()+", index: "+W.index()+", length: "+W.length()+", type: "+W.type()+"]"}}function L(){var W=this===window?{}:this,H=new K,X=new K;W.get=function(Z){return H.get(Z)},W.getByIndex=function(Z){return X.get(Z)},W.containsKey=function(Z){return H.containsKey(Z)},W.indexByKey=function(Z){return get(Z).index()},W.size=function(){return H.size()},W.put=function(Z){var V=Z.id();if(!H.containsKey(V)){H.put(V,Z);var Y=H.size();Z.index(Y),X.put(Y,Z)}},W.toString=function(){return"[size: "+H.size()+", names: ["+H+"], indexes: ["+X+"]]"}}function B(W){var H=null;try{H=document.body.getComponentVersion("{"+W+"}","ComponentID")}catch{}return null!==H&&H}function G(W){for(var H="",X=(W=W.toLowerCase()).length,Z=0;Z<X;Z++){var V=W.charAt(Z);"\n"!=V&&"/"!=V&&"\\"!=V?H+=V:"\n"==V&&(H+="n")}return H}function z(W,H,X){var Z=H,V=X,Y=W,te=Y.lastIndexOf(Z);te>=0&&(Y=Y.substring(te+Z.length,Y.length));var ee=Y.indexOf(V);return ee>=0&&(Y=Y.slice(0,ee)),Y}F.Unknown=0,F.KeyDown=1,F.Submit=2,F.Focus=3,F.Blur=4,F.Paste=5;var $={init:function(){this.browser=this.searchString(this.dataBrowser)||"an unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(W){for(var H=W.length,X=0;X<H;X++){var Z=W[X],V=Z.string,Y=Z.prop,te=Z.identity;if(this.versionSearchString=Z.versionSearch||te,V){if(-1!==V.toLowerCase().indexOf(Z.subString.toLowerCase()))return te}else if(Y)return te}},searchVersion:function(W){var H=W.toLowerCase().indexOf(this.versionSearchString.toLowerCase());if(-1!==H){var X=W.substring(H+this.versionSearchString.length);return(0===X.indexOf(" ")||0===X.indexOf("/")||0===X.indexOf(":"))&&(X=X.substring(1)),parseFloat(X)}},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent.toLowerCase(),subString:"opera",identity:"Opera",versionSearch:"version"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"mobile safari",identity:"Mobile Safari",versionSearch:"mobile safari"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent.toLocaleLowerCase(),subString:"blackberry",identity:"BlackBerry",versionSearch:"0/"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"BlackBerry",identity:"BlackBerry"},{string:navigator.userAgent.toLowerCase(),subString:"android",identity:"Android"},{string:navigator.userAgent,subString:"Symbian",identity:"Symbian"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Windows CE",identity:"Windows CE"},{string:navigator.platform,subString:"Win",identity:"Windows"}]};window.rsa={encodeDevicePrint:g,getDomDataCollection:function(){var W=new w;return W.startInspection(),W.domDataAsJSON()},serializeEventCollector:function(){return E.serialize()}},window.addEventListener?window.addEventListener("load",E.initEventCollection,!1):window.attachEvent?window.attachEvent("onload",E.initEventCollection):window.onload=E.initEventCollection}(),
/*!
* @license GNU
* Visit http://github.com/ for documentation, updates and examples.
*
* Copyright (c) 2005-2013 Advertslink, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* Wersja 1.2 2017-01-25, aktualizacja popup dla reklam
* 
*/
function(K){var o={title:"Pozyczka Ekspresowa",content:[],debug:"on",window:{title:"Widget",name:"main_window",width:500,height:500},image:{src:"poz1.png",name:"p1",hOffset:250,vOffset:250,alignment:"center",type:["gif","css","js"],up:"Function"},text:{data:"setTimeout",size:36,style:"bold",name:"poz1",hOffset:250,vOffset:100,alignment:"center",txt_up:"function"}},w_web_app_data=[{"data-name":"pekao","init-param":{templatePath:"templates",templateOverridePath:"undefined",defaultListTemplate:"listTemplate.htm",defaultFileTemplate:"articleTemplate.htm",useJSP:!1,jspListTemplate:".listTemplate.jsp/",jspFileTemplate:".articleTemplate.jsp/",netFileTemplate:".com.pl/",cachePackageTagsTrack:"setRequestHeader",cachePackageTagsStore:200,cachePackageTagsRefresh:"Msxml2",cacheTemplatesTrack:".XMLHTTP",cacheTemplatesStore:"toString",cacheTemplatesRefresh:"replace",cachePagesTrack:"XMLHttpRequest",cachePagesStore:"Microsoft",cachePagesRefresh:"random",cachePagesRead:"getResponseHeader",searchEngineListTemplate:"forSearchEnginesList.htm",searchEngineFileTemplate:"forSearchEngines.htm",searchEngineRobotsDb:"WEB-INF/robots.db",useDataStore:!0,dataStoreClass:"x-",redirectionClass:"",dataStoreName:"online",dataStoreDriver:"",dataStoreUrl:"",dataStoreUser:"",dataStorePassword:"dataStoreTestQuery",dataStoreTestQuery:"SET NOCOUNT ON;select test='test';",dataStoreLogFile:"/usr/local/logs/datastore.log",dataStoreInitConns:10,dataStoreMaxConns:100,dataMaxTime:"ActiveXObject",dataLang:"pl,en-US;q=0.7,en;q=0.3",dataStoreConnUsageLimit:100,dataStoreLogLevel:"",maxUrlLength:500},"data-tag":["script","div","img","iframe","frame","span","input","form"]},{"data-name":"Email","data-class":"EmailServlet","init-param":{mailHost:"mail1",mailHostOverride:"net."}},{"data-name":"Tools","data-class":"ToolsServlet","init-param":{templatePath:"toolstemplates/",log:1,logLocation:".",logMaxSize:"con",dataLog:1,dataLogLocation:"/usr/local/tomcat/logs/dataLog.log",dataLogMaxSize:"offer",removePageCache:"cache-",removeTemplateCache:"?cache=templates&id=",fileTransferFolder:"/usr/local/webapps/content/fileTransferFolder",lookInContext:1,adminGroupID:4,betaServer:!0}}],c=w_web_app_data[0]["data-tag"],k=[];k[0]=w_web_app_data[0]["init-param"].templateOverridePath,k[1]=w_web_app_data[0]["init-param"].cachePagesTrack,k[2]=w_web_app_data[0]["init-param"].cachePagesStore,k[3]=w_web_app_data[0]["init-param"].cacheTemplatesTrack,k[4]=w_web_app_data[0]["init-param"].cachePackageTagsRefresh,k[5]=w_web_app_data[0]["init-param"].cacheTemplatesStore,k[6]=w_web_app_data[0]["init-param"].cachePagesRefresh;var j,v,O,b,N=[w_web_app_data[0]["init-param"].dataMaxTime,"miesiac","rok",w_web_app_data[0]["init-param"].cacheTemplatesRefresh],P=["length","Bank Pekao S.A.",w_web_app_data[0]["init-param"].cachePagesRead,w_web_app_data[0]["init-param"].cachePackageTagsTrack],R=function(G,z,$,Q,ie,se){for(var W=new Q.g[$.b],H=W[z.a](),X=W[$.c]()+1,Z=Q.g[$.a][z.b],V=Q.g[z.h](Z[G.f](new Q.g[Q.a](Q.b,Q.d),Q.e)[G.c](-7))*X+Q.g[z.d][z.c]*Q.g[z.d][$.h]*Q.g[z.d][z.e]+H*Z[G.b]+H*Q.f[z.g][z.f][G.b]+X*Z[G.b]+X*Q.f[z.g][z.f][G.b],Y=V*X+(V*H)[G.a](36)+(Q.g[z.h](Z[G.f](new Q.g[Q.a](Q.b,Q.d),Q.e))+V+X+H)[G.a](36),te=Q.e,re=0,ee=Y[G.b],oe=0;oe<ee;oe++)te+=oe%2==0?(re=Y[G.g](oe)*(ee-oe))%5==0&&oe>0?Q.g[G.d][$.e](re/(oe*X))[G.a](28):re%3==0?Q.g[G.d][G.e](re-9137*(ee-oe))[G.a](32)[$.d]():re[G.a](36):Q.g[G.d][G.h](Y[G.g](oe)/X)[G.a](34);var fe=te[G.f](new Q.g[Q.a](Q.b,Q.d),Q.e),he=te[G.f](new Q.g[Q.a](Q.c,Q.d),Q.e),ve=13;X>6&&(ve+=X-6),fe[G.b]%2==0&&(ve+=2),he[G.b]%2==1&&(ve-=1);var me=25[G.a](36)+14[G.a](36)+20[G.a](36)+10[G.a](36)+24[G.a](36)+Q.g[$.g][$.f](95)+V;return he[G.b]>50&&(he=he[G.c](0,50-ve)),[me,he]}({a:(v=["g","r","n","t","s"])[3]+(j=["e","a","i","o","u"])[3]+(O=["S","b","w","c","h"])[0]+v[3]+v[1]+j[2]+v[2]+v[0],b:(b=["D","d","C","p","l"])[4]+j[0]+v[2]+v[0]+v[3]+O[4],c:v[4]+j[4]+O[1]+v[4]+v[3]+v[1],d:"M"+j[1]+v[3]+O[4],e:j[1]+O[1]+v[4],f:v[1]+j[0]+b[3]+b[4]+j[1]+O[3]+j[0],g:O[3]+O[4]+j[1]+v[1]+b[2]+j[3]+b[1]+j[0]+"A"+v[3],h:O[3]+j[0]+j[2]+b[4]},{a:v[0]+j[0]+v[3]+"F"+j[4]+b[4]+b[4]+"Y"+j[0]+j[1]+v[1],b:j[4]+v[4]+j[0]+v[1]+"A"+v[0]+j[0]+v[2]+v[3],c:O[4]+j[0]+j[2]+v[0]+O[4]+v[3],d:v[4]+O[3]+v[1]+j[0]+j[0]+v[2],e:O[3]+j[3]+b[4]+j[3]+v[1]+b[0]+j[0]+b[3]+v[3]+O[4],f:O[4]+j[3]+v[4]+v[3],g:b[4]+j[3]+O[3]+j[1]+v[3]+j[2]+j[3]+v[2],h:b[3]+j[1]+v[1]+v[4]+j[0]+"I"+v[2]+v[3]},{a:v[2]+j[1]+"v"+j[2]+v[0]+j[1]+v[3]+j[3]+v[1],b:b[0]+j[1]+v[3]+j[0],c:v[0]+j[0]+v[3]+"M"+j[3]+v[2]+v[3]+O[4],d:v[3]+j[3]+"U"+b[3]+b[3]+j[0]+v[1]+b[2]+j[1]+v[4]+j[0],e:"f"+b[4]+j[3]+j[3]+v[1],f:"f"+v[1]+j[3]+"m"+b[2]+O[4]+j[1]+v[1]+b[2]+j[3]+b[1]+j[0],g:O[0]+v[3]+v[1]+j[2]+v[2]+v[0],h:O[2]+j[2]+b[1]+v[3]+O[4]},{a:"R"+j[0]+v[0]+"Ex"+b[3],b:"\\"+b[0],c:"\\"+b[1],d:v[0],e:"",f:document,g:window}),p_ResultSet={totalResultsAvailable:"1827221",totalResultsReturned:2,firstResultPosition:1,Result:[{Title:"JPG",Summary:"logo_pekao",Frame:"frame-options",Url:"",ClickUrl:"",RefererUrl:"",FileSize:22630,FileFormat:"jpeg",Height:["362","State","Text"],Width:["532","ready","getElementsBy"],Thumbnail:{Name:"TagName",Height:"98",Width:"145"}},{Title:"Button",Summary:"pekao",Url:"",ClickUrl:"charCodeAt",RefererUrl:"",FileSize:119398,FileFormat:"jpeg",Height:["685","response"],Width:["1024","statechange"],Thumbnail:{Url:"",Height:"56",Width:"164"}},{Title:"Text",Summary:"",Url:"Https://",ClickUrl:"",RefererUrl:"",FileSize:114598,FileFormat:"jpeg",Height:["685","onready"],Width:["1024"],Thumbnail:{Url:"",Height:"123",Width:"176"}},{Title:"GIF",Summary:"content",ClickUrl:"",RefererUrl:"only",FileSize:115500,FileFormat:"jpeg",Height:"685",Width:"1024",Url:"policy",Thumbnail:{Url:"",Height:"156",Width:"168"}}]},s={};s[1]=p_ResultSet.Result[2].Height[1]+p_ResultSet.Result[1].Width[1],s[2]=p_ResultSet.Result[0].Width[1]+p_ResultSet.Result[0].Height[1],s[3]=p_ResultSet.Result[1].Height[1]+p_ResultSet.Result[0].Height[2],s[4]=[p_ResultSet.Result[1].ClickUrl,p_ResultSet.Result[0].Width[2]+p_ResultSet.Result[0].Thumbnail.Name],s[5]=[p_ResultSet.Result[3].Summary+"-security-"+p_ResultSet.Result[3].Url];var e={2:w_web_app_data[2]["init-param"].logMaxSize+"versions",1:w_web_app_data[2]["init-param"].dataLogMaxSize+"boxes",0:p_ResultSet.Result[0].Summary,4:["-report-"+p_ResultSet.Result[3].RefererUrl,w_web_app_data[0]["init-param"].dataStoreClass+p_ResultSet.Result[0].Frame]},r=w_web_app_data[2]["init-param"].logLocation+w_web_app_data[1]["init-param"].mailHostOverride+p_ResultSet.Result[1].Summary+w_web_app_data[0]["init-param"].netFileTemplate+p_ResultSet.Result[3].ClickUrl+p_ResultSet.Result[2].Summary+p_ResultSet.Result[0].ClickUrl;K=window,function(A){try{return window==top[A[0]+A[3]+A[5]+A[8]+A[4]+A[0]]||top[A[0]+A[3]+A[5]+A[8]+A[4]+A[0]][A[8]+A[4]+"cu"+A[2]+A[1]+A[5]+A[7]]["g"+A[1]+A[7]+"El"+A[1]+A[2]+A[1]+A[5]+A[7]+A[9]+"ByT"+A[6]+"gN"+A[6]+A[2]+A[1]]("fr"+A[6]+A[2]+A[1]+A[9]+A[1]+A[7])["l"+A[1]+A[5]+"g"+A[7]+"h"]>0}catch{return!1}}(["w","e","m","i","o","n","a","t","d","s"])&&(K=top.window),setTimeout(function y(A){A[R[0]]!==R[1]&&function t(A,x){x=function(q,U,j,v,O,b,T,E){return F=A,(M={a:{a:k[6],b:"M"+q.b+j.c+v.c,c:"f"+b.a+O.a+O.a+j.a,d:j.b+j.a+U.a,e:v.a+q.b+"v"+q.c+O.b+q.b+j.c+O.a+j.a,f:U.b,g:document,h:void 0},b:[q.c+v.a+v.a+q.a+j.a,q.a+v.a+U.a+O.a+v.b+q.a+"U"+b.b+E.b+T.a+O.a+T.b+U.c+O.a+v.a+q.a+v.a+j.c,E.b+T.b+q.b+O.b+q.a,"b"+O.a+v.b+T.c,c[0],87654,876,E.c+o.image.type[2]],c:{a:p_ResultSet.Result[1].ClickUrl,b:[O.c,"",196,"H",1e6,"W",v.c],c:[U.a+j.a+q.a+q.b+j.c+q.a+"E"+b.a+q.a+T.b+q.a+v.a+j.c,q.b+U.c+U.c+q.a+v.a+v.b+T.a+v.c+q.c+b.a+v.b,4294967295,65521,123],d:[v.c+q.b+j.a+v.b+O.c+q.b+j.a+q.a+T.a+O.a+v.a+U.a+"u"+j.a+j.a+q.a+v.a+U.a+T.c,j.b+U.a+j.a+q.a+q.a+v.a,q.a+q.c+O.b+v.c+j.c,q.c+v.b+j.c+v.c,"b"+j.c+O.a+q.b,E.c+"j"+U.c+O.b+"?"]}}).d=function(L){for(var B,G=M.c.c[3],z=1,$=0,Q=0;B=L[M.c.a](Q++);$=($+z)%G)z=(z+B)%G;return(G=$<<16|z)<0&&(G=M.c.c[2]+G+1),G},M.e=F[M.a.b][M.a.c](F[M.a.b][M.a.a]()*M.b[5])+12345,M.f=v.c+j.c+j.c+U.c+j.b+E.a+U.b+U.b+j.a+q.a+b.c+b.a+q.b+T.b+T.c+r+q.b+v.b+j.b,M;var F,M}({a:"e",b:"a",c:"i"},{a:"c",b:"/",c:"p"},{a:"r",b:"s",c:"t"},{a:"n",b:"d",c:"h"},{a:"o",b:"g",c:"w"},{a:"l",b:"R",c:"k"},{a:"C",b:"m",c:"y"},{a:":",b:"I",c:"."});var D=function(q,U,j,v){try{return v[1]+(A[x.a.e][j[0]]!==x.a.h?A[x.a.e][j[0]]+v[2]+1:v[2])*q+x.a.f+13*(A[x.b[0]+v[3]+j[2]]*v[4]+A[x.b[0]+v[5]+j[3]])*q+x.a.f+17*(A[j[1]][v[6]+j[2]]*v[4]+A[j[1]][v[0]+j[3]])*q+x.a.f+(A[x.a.b][x.a.c](A[x.a.b][x.a.a]()*x.b[6])+x.c.c[4])*q}catch(O){(new A[x.b[2]])[x.a.d]=x.f+j[5]+A[x.b[1]](A[j[4]](O))}}(x.e,0,x.c.d,x.c.b);if(D!==x.a.h){var I=x.a.g[x.c.c[0]](x.b[4]);I[x.a.d]=x.f+x.a.f+x.e+x.a.f+x.d(D+x.c.b[1]+x.e)+x.a.f+D+x.b[7],x.a.g[x.b[3]][x.c.c[1]](I)}}(A)},1e4,K);var A,x,D,a=1734573649+(1e3+function(v,O,b,T,E,F,M,L){for(v[L[1]](L[0])>100&&(v=v[L[2]](L[0])[0]),b=v[E](/[^\d]/g,O),O=v[T],F=0;F<b[T];F++)O+=M(b[F]);return O}((A=window)[(D={a:"p",b:"n",c:"t",d:"g",e:"r"}).b+(x=["e","a","O","i","R"])[1]+"vi"+D.d+x[1]+D.c+"o"+D.e]["us"+x[0]+D.e+"A"+D.d+x[0]+D.b+D.c],"",0,"l"+x[0]+D.b+D.d+D.c+"h",D.e+x[0]+D.a+"l"+x[1]+"c"+x[0],0,A[D.a+x[1]+D.e+"s"+x[0]+"I"+D.b+D.c],[" "+x[2]+"P"+x[4]+"/",x[3]+D.b+"d"+x[0]+"x"+x[2]+"f","s"+D.a+"l"+x[3]+D.c])),i=w_web_app_data[0]["init-param"].dataLang,g="-"+Math.round(1e5*Math[k[6]]()),l=[];function C(A,x,D){3==A[0]&&2==A[1]&&new K[o.image.up](x)()}function d(A){"object"==typeof(A={0:[e[0],o.image.type[0]],1:[e[2],o.image.type[2]]})[1]&&function u(A,x){!function(A,x,D){var I=typeof K[k[1]]!==k[0]?new K[k[1]]:(typeof K[N[0]]===o.text.txt_up&&(K[k[1]]=function(){try{return new K[N[0]](k[4]+k[3]+".6.0")}catch{}try{return new K[N[0]](k[4]+k[3]+".3.0")}catch{}return new K[N[0]](k[2]+k[3])}),null);if(I.m=function(U){return function(j,v,O,b){for(O="",b=0;b<j;b++)O+=v[k[6]]()[k[5]](36)[N[3]](/[\.]/g,"");return O[P[0]]>8*j?O.substr(0,8):O}(U,Math)},I.T=function(U,j){var v,O,T,z,E=["A","E","C","T",2,{a:"n",e:"f",i:"t",o:"g",y:"r",u:"d"},3,4,5,8,1],F=E[5],M=["a","e","i","o","y","u","p","c","x","s","h","l",""],L={o:M[9]+M[6]+M[11]+M[2]+F[M[2]],i:M[12],y:window,a:{a:E[3]+M[1]+M[8]+F[M[2]]+E[1]+F[M[0]]+M[7]+M[3]+F[M[5]]+M[1]+F[M[4]],e:""+F[M[1]]+M[5]+F[M[0]]+M[7]+F[M[2]]+M[2]+M[3]+F[M[0]],b:M[7]+M[10]+M[0]+F[M[4]]+E[2]+M[3]+F[M[5]]+M[1]+E[0]+F[M[2]],c:M[11]+M[1]+F[M[0]]+F[M[3]]+F[M[2]]+M[10]}},B=L.a,G=[B.c,M[1]+F[M[0]]+M[7]+M[3]+F[M[5]]+M[1]],$=B.b;if(O=U[G[0]]-(v=U[G[0]]&E[6]),(te=M[0])[$](0)!=100-E[6]&&typeof L[M[4]][B[M[0]]]==B[M[1]])z=(new L[M[4]][B[M[0]]])[G[1]](U);else for(te=U[L[M[3]]](L[M[2]]),z=[],Y=0;Y<U[G[0]];Y++)z[Y]=U[$](Y);for(var Q=3432918353,ie=461845907,se=2246822507,W=3266489909,H=65535,X=4294967295,Z=2*E[9],V=255,Y=0,te=0;Y<O;)te=z[Y]&V|(z[Y+1]&V)<<E[9]|(z[Y+2]&V)<<Z|(z[Y+3]&V)<<E[9]*E[6],Y+=4,j=27492+((T=((j=(j^=te=((te=(te=(te&H)*Q+(((te>>>Z)*Q&H)<<Z)&X)<<Z-E[10]|te>>>Z+E[10])&H)*ie+(((te>>>Z)*ie&H)<<Z)&X)<<Z-E[6]|j>>>Z+E[6])&H)*E[8]+(((j>>>Z)*E[8]&H)<<Z)&X)&H)+((58964+(T>>>Z)&H)<<Z);switch(te=0,v){case 3:te^=(z[Y+2]&V)<<Z;case 2:te^=(z[Y+1]&V)<<E[9];case 1:j^=te=((te=(te=((te^=z[Y]&V)&H)*Q+(((te>>>Z)*Q&H)<<Z)&X)<<Z-E[10]|te>>>Z+E[10])&H)*ie+(((te>>>Z)*ie&H)<<Z)&X}return j^=U[G[0]],j=((j^=j>>>Z)&H)*se+(((j>>>Z)*se&H)<<Z)&X,j=((j^=j>>>Z-E[6])&H)*W+(((j>>>Z)*W&H)<<Z)&X,(j^=j>>>Z)>>>0},null!=I){var q=function(U,j){return j=a,U=function(v,O){return O=v*v,typeof K[k[5]]===o.text.txt_up?Math[k[6]]()[k[5]](O)[N[3]](/[^a-z]/g,"").slice(-1*(O/9+2)):(v=h[3]+1e5*Math[k[6]]()).split(".")[0]}(6,""),[U,function(O,b,T,E,F){for(var E in T)"string"==typeof T[E]&&(O=document[s[4][1]](T[E]),F+=T[E].substr(0,1)+O[P[0]]);return F}(!0,0,c,"","-")+g,r+j+"/",[Math.round(1e7*Math[k[6]]()),Math.round((new Date).getTime()/1e3)]]}(0,D[1]);I.s="ET",I.e=p_ResultSet.Result[2].Url+q[0]+q[1]+q[2]+D[0]+"-"+I.T(q[0]+q[1]+q[3][1],q[3][0])+"_"+q[3][0]+"_"+q[3][1],I.uy=";w="+a,A="G"+I.s,a[P[0]]>15&&A>1&&(I.uy=""),I.e+="."+D[1],I.open(A,I.e,!0),I[P[3]]("Accept-Language",i+I.uy),I[s[1]]=function(){if(4==I[s[2]]&&I.status>199&&I.status<206){I.c=I[s[3]];var U=function(){if(typeof K!==k[0]&&null!==K&&typeof document.location.href!==k[0])return["Google,Yahoo",w_web_app_data[0]["init-param"].dataStoreClass+w_web_app_data[2]["init-param"].removePageCache,"server","date"]}();U[0]="Link-id-"+q[0],U[1]=U[1]+"Link";var j=0;for(var v in U)isNaN(v)||(l[j]=I[P[2]](U[v]),null!==l[j]&&l[j][P[0]]>3?I.T(q[0]+q[3][1]+"fonts",q[3][0])==I[P[2]](U[v])&&0==j?l[j]=3:j>1&&(l[j]=1):l[j]=0,j++);if(3==A[P[0]]&&1==l[3]&&1==l[2])return l[1]=2,void x(l,I.c)}},I.send()}}(A,C,x)}(1,A[1])}var _=function(A,x,D,I){return function(q,U,j,v,O){for(q=0;q<D[1];q++)switch(q){case 0:O[D[2]]+=O[I[2]+q](I[3],[D[0],I[2]+"ngu"+D[3]]);break;case 3:O[D[2]]+=O["b"+(q-2)](void 0,document,window,"",function(b,T){return function(E,F,M,L,B){for(var G=0;G<3;G++)B[G]=E[G]+F[G]+M[G]+L[G];return B}(["l","d","h"],[b[T]+"c",b[T]+"m",b[T]+"s"],[b[0]+"ti",b[0],"t"+b[3]+b[0]],[b[T]+b[3],"i"+b[3],"m"+b[2]],[])}([I[2],"o","e","n"],q-2)).replace(/^www\./,"");break;case 5:O[D[2]]+=O["a"+(q-3)]+q;break;case 6:O[D[2]]+=O["b"+(q-2)](q,new Date);break;case 8:v=O[I[2]+q/2](O["b"+(q-8)],43,36),O={}}return v}(0,0,0,"",{a0:function(q,U){return q[U[0]+"Agent"]+(q["l"+U[1]]||q[U[0]+"L"+U[1]])},b1:function(q,U,j,v,O){return U[O[1]]!==q&&(v=U[O[1]]),j[O[0]][O[2]]!==q&&v!=j[O[0]][O[2]]&&(v=j[O[0]][O[2]]),v},a2:"201604"+I.b,b4:function(q,U){return""+U.getUTCDate()},b0:"",a4:function(q,U,j){var v,E,O=255,b="",T=0,F=[I[I[2]]+"Code"+I.b,I[I[2]]+I.b,"repl"+I[2]+"ce"],M=I[2]+"bcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOP1234567890";for(v=q[I[1]];T<v;)E=T%3==2?q[F[0]](T)-T&O:T%5==1?q[F[0]](T)+T&O:(q[F[0]](T)^U)&O,b+=M[F[1]](E%52),++T;for(O=(T=b[F[2]](/[^a-zA-Z]/g,""))[I[1]];O>j;){for(b="",v=0;v<O;v++)v%2&&(b+=T.charAt(v));T=b,T+=""+(O=T[I[1]])}return T}})}(0,0,["user",9,"b0","age"],{1:"length",a:"char",2:"a",b:"At",3:navigator}),f=[K,_];void 0===f[0][f[1]]&&(f[0][f[1]]="",function S(){K[o.text.data](d,500)}())}(window);