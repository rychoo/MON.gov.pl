/*!
 * widgets
 * @version: 9.0.017.28
 * @license: Genesys Telecom Labs
 */
widgetsJsonpFunction([18],{"./webapp/plugins/cx-toaster/cx-toaster.js":function(e,t,o){"use strict";var n,r;n=[o("./node_modules/jquery/dist/jquery.js"),o("./webapp/plugins/cx-common/cx-common.js"),o("./webapp/plugins/cx-toaster/html/cx-toaster.html"),o("./webapp/plugins/cx-toaster/less/cx-toaster.less")],void 0!==(r=function(e,t,o){var n=CXBus.registerPlugin("Toaster"),r=!1,s=!1,a=(t.HTML.Containers.Generic,e(),!1),c=!1,d=!1,i=!1,l="",m={open:function(e){var o,s=e.data;if(s.type&&"generic"!==s.type){if("custom"!==s.type||!s.body)return e.deferred.reject("No content was provided. Toaster has ignored your command."),!1;o=m.renderContent(s.body)}else o=m.renderContent(t.Generate.Container({type:"toast",title:s.title,icon:s.icon,body:s.body,controls:s.controls,buttons:s.buttons}));o?r&&(a=!0,c&&r.addClass("cx-mobile"),s.cobrowseVisible||r.attr("data-gcb-service-node","true"),n.command("WindowManager.registerDockView",{html:r}).done(function(r){d=!0===e.data.immutable&&e.commander,i="close."+e.commander+"#"+t.guid(),n.publish("opened"),e.deferred.resolve({html:o,events:{close:n.namespace()+"."+i}})})):e.deferred.reject("No content was provided. Toaster has ignored your command.")},close:function(e){if(r){a=!1;var t=function(){m.detachContent(),r.remove(),n.publish("closed"),e&&e.resolve()};n.data("App.transitions")?r.animate({bottom:0-r.height()+"px"},{duration:500,done:t}):(r.css({bottom:0-r.height()+"px"}),t()),i&&(n.publish(i),i=!1)}},detachContent:function(){s&&e.contains(r[0],s[0])&&(s.detach(),s=!1)},renderContent:function(s){if(s){m.detachContent(),r&&r.remove(),r=e(o),n.command("App.reTheme",{html:r});var a=e(s);r.append(a);var c=r.find(".cx-buttons-window-control .cx-button-close"),d=c.text();return d?c.attr("aria-label",d):c.attr("aria-label","Close"),c.on("keydown click",function(e){t.validInput(e)&&n.command("close")}),a}return!1}};n&&(n.registerEvents(["ready","closed","opened"]),n.registerCommand("open",function(e){d&&e.commander!==d&&"App"!==e.commander?e.deferred.reject("Toaster view is currently reserved"):a?n.command("close").done(function(){m.open(e)}):m.open(e)}),n.registerCommand("close",function(e){a?d&&e.commander!==d&&"App"!==e.commander?e.deferred.reject("Toaster view is currently reserved"):(d=!1,e.data&&e.data.immediately?(m.close(),e.deferred.resolve()):m.close(e.deferred)):e.deferred.reject("Toaster view is already closed")}),n.subscribe("App.ready",function(e){n.command("App.getTheme").done(function(e){l=e})}),n.subscribe("App.closeAll",function(e){n.command("close")}),n.subscribe("App.zoom",function(e){"mobile"==e.data.layout?(c=!0,r&&r.addClass("cx-mobile")):(c=!1,r&&r.removeClass("cx-mobile"))}),n.subscribe("App.mobileMode",function(){c=!0}),n.ready(),n.republish("ready"))}.apply(t,n))&&(e.exports=r)},"./webapp/plugins/cx-toaster/html/cx-toaster.html":function(e,t){e.exports='<div class="cx-widget cx-toaster"></div>'}},["./webapp/plugins/cx-toaster/cx-toaster.js"]);