/*!
 * widgets
 * @version: 9.0.017.28
 * @license: Genesys Telecom Labs
 */
widgetsJsonpFunction([7],{"./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-send-message/less/cx-send-message.less":function(e,a,t){a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1),a.push([e.i,".cx-widget.cx-send-message-button{right:0;top:40%;font-weight:700;padding:10px 10px 4px!important;cursor:pointer}.cx-widget.cx-send-message-button .cx-icon{height:23px;width:23px;margin-right:2px;display:inline-block}.cx-widget.cx-send-message-button>span{white-space:nowrap;margin-bottom:-6px}.cx-widget.cx-send-message-button .cx-send-message-button-label{vertical-align:super}.cx-send-message .cx-alert,.cx-send-message.cx-minimized .cx-body,.cx-send-message.cx-minimized .cx-footer,.cx-send-message.cx-mobile.cx-landscape .cx-footer{display:none}.cx-send-message{position:fixed;z-index:99999;width:320px}.cx-send-message a{text-decoration:none}.cx-send-message .cx-icon.cx-attach{height:24px;width:24px;display:inline-block;position:relative;top:6px}.cx-send-message .cx-body{padding:0}.cx-send-message .cx-body .cx-confirmation{overflow:hidden;z-index:999999;position:absolute;left:0;top:0;width:100%}.cx-send-message .cx-body .cx-confirmation .cx-wrapper{margin:0 16px;padding:0 24px 24px;border:1px solid #eee}.cx-send-message .cx-body .cx-overlay{display:none;position:absolute;top:0;left:0;width:100%;height:100%;padding:20px;z-index:99999;-webkit-box-shadow:0 5px 11px 0 rgba(0,0,0,.3);box-shadow:0 5px 11px 0 rgba(0,0,0,.3)}.cx-send-message .cx-body .cx-form-wrapper{margin-top:0;overflow:auto;position:relative;-webkit-overflow-scrolling:touch}.cx-send-message .cx-body .cx-form-wrapper .cx-form{margin-top:0;padding:21px 24px;padding-bottom:0}.cx-send-message .cx-body .cx-form-wrapper .cx-form-inputs{margin-bottom:16px}.cx-send-message .cx-body .cx-form-wrapper .cx-form-inputs th{padding-right:8px}.cx-send-message .cx-body .cx-form-wrapper .cx-form-inputs td{width:100%;padding:4px 0}.cx-send-message .cx-body .cx-form-wrapper .cx-form-inputs th .cx-control-label{white-space:nowrap!important}.cx-send-message .cx-body .cx-form-wrapper .cx-form-group .cx-control-label{padding-left:0;display:table-cell}.cx-send-message .cx-body .cx-form-wrapper .cx-form-group .cx-control-text{padding-top:0;padding-bottom:9px;vertical-align:middle}.cx-send-message .cx-body .cx-form-wrapper .cx-control-table{display:table-row}.cx-send-message .cx-body .cx-form-wrapper .cx-reset-textarea{padding:0;margin-left:0;margin-right:0;margin-bottom:16px}.cx-send-message .cx-body .cx-form-wrapper .cx-submitForm{padding:0;position:relative;overflow:hidden;margin:0}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details{padding-left:0}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-icon-status-available-no{right:0}.cx-send-message .cx-body .cx-form-wrapper .cx-form-success{padding:24px}.cx-send-message .cx-body .cx-form-wrapper .cx-form-success .cx-icon{height:16px;display:inline-block;width:16px;position:relative;top:4px}.cx-send-message .cx-body .cx-form-wrapper .cx-form-success p{display:inline}.cx-send-message.cx-mobile.cx-minimized{height:auto!important}.cx-send-message.cx-mobile{top:inherit;right:inherit;bottom:0;left:0;height:100%;width:100%}.cx-send-message.cx-mobile .cx-titlebar{padding:8px}.cx-send-message.cx-mobile .cx-body .cx-form{-webkit-overflow-scrolling:touch}.cx-send-message.cx-mobile .cx-body .cx-form .cx-form-control{font-size:1em}.cx-send-message .cx-body .cx-reset-padding{padding-right:0!important;overflow:hidden;display:table-cell;width:100%;padding-bottom:8px}.cx-send-message .cx-body .cx-icon-alert-circle{color:#ea4f6b;float:left;padding-top:1px}.cx-send-message .cx-body .cx-parentDisable{opacity:.2}.cx-send-message .cx-body .cx-spinner{display:none;z-index:2;position:absolute;top:45%;left:45%}.cx-send-message .cx-body .cx-btn-primary{float:right;width:96px;height:32px}.cx-send-message .cx-body .cx-fileUploadField{display:none!important}.cx-send-message .cx-body .cx-form-wrapper .cx_file_upload_link{font-size:.875em;font-weight:700;padding-left:2px;cursor:pointer}.cx-send-message .cx-body .cx-form-wrapper .cx-form-control{overflow:hidden;overflow-x:hidden}.cx-send-message .cx-body .cx-form-wrapper .cx-clear-form-group{margin-left:0!important;margin-right:0!important}.cx-send-message .cx-body .cx-form-wrapper .cx-form-group{margin-bottom:8px}.cx-send-message .cx-body .cx-form-wrapper textarea{resize:none;max-height:200px;overflow:auto!important;margin-top:4px}.cx-send-message .cx-body .cx-form-wrapper .cx-left{width:20%}.cx-send-message .cx-body .cx-form-wrapper input{padding-right:0}.cx-send-message .cx-body .cx-form-wrapper .cx-icon-alert-circle{display:none}.cx-send-message .cx-body .cx-form-wrapper .cx-left-inner-addon{position:relative}.cx-send-message .cx-body .cx-form-wrapper .cx-left-inner-addon input,.cx-send-message .cx-body .cx-form-wrapper .cx-left-inner-addon textarea{padding-left:25px}.cx-send-message .cx-body .cx-form-wrapper .cx-left-inner-addon i{position:absolute;padding:8px;pointer-events:none}.cx-send-message .cx-body .cx-form-wrapper .cx-control-errorIcon{padding:2px 4px}.cx-send-message .cx-body .cx-form-wrapper .cx-error-message{padding:2px}.cx-send-message .cx-body .cx-form-wrapper .cx-icon-attach{font-size:1.25em}.cx-send-message .cx-body .cx-form-wrapper .cx-caret{margin-left:65%}.cx-send-message .cx-body .cx-form-wrapper a:active,.cx-send-message .cx-body .cx-form-wrapper a:focus,.cx-send-message .cx-body .cx-form-wrapper a:hover{text-decoration:underline}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details{display:none;clear:both;overflow-y:auto;max-height:100px}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-file-list{overflow:auto}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-file-fragment{color:inherit;position:relative;clear:both;height:34px;padding:6px 0}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-file-icon{height:24px;width:24px;position:absolute;left:0;top:6;display:inline-block}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-file-name{font-size:.875em;display:inline-block;padding-top:3px;margin-left:25px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:75%}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-remove-file{cursor:pointer;position:absolute;height:16px;width:16px;right:5px;top:5px;margin:4px;display:inline-block}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-filename-end{padding:4px;font-weight:400}.cx-send-message .cx-body .cx-form-wrapper .cx-file-details .cx-clear{clear:both;padding-left:0}.cx-send-message .cx-body .cx-form-wrapper .cx-reset-textarea{padding:0 2px 0 20px}.cx-send-message .cx-body .cx-form-wrapper .cx-submitForm .cx-file-size{margin-left:30px;display:block;font-weight:400;font-size:.75em}.cx-send-message .cx-body .cx-form-wrapper .cx-submitForm .cx-left-half{width:60%;float:left}.cx-send-message .cx-body .cx-form-wrapper .cx-submitForm .cx-right-half{width:40%;float:right}.cx-send-message .cx-body .cx-form-success{display:none;padding-top:15px;height:245px}.cx-send-message .cx-body .cx-form-success .cx-icon-alert-checkmark{padding-right:8px;color:#4ac764}.cx-send-message .cx-body .cx-form-success .cx-close-tag{padding:0 6px;cursor:pointer}.cx-send-message .cx-body .cx-form-success .cx-control-label{font-size:12px;font-weight:700}.cx-send-message.cx-theme-dark .cx-icon.cx-file-icon .cx-svg-icon-tone1{fill:#fdfdfd}.cx-send-message.cx-theme-dark .cx-attach.cx-theme-icon-interactive1 svg .cx-svg-icon-tone1{fill:#7ca0e2}.cx-send-message.cx-theme-dark a,.cx-send-message.cx-theme-dark a:hover{color:#7ca0e2}.cx-send-message.cx-theme-light .cx-icon.cx-file-icon .cx-svg-icon-tone1{fill:#8d92b0}.cx-send-message.cx-theme-light .cx-attach.cx-theme-icon-interactive1 svg .cx-svg-icon-tone1{fill:#3b71dc}.cx-send-message.cx-theme-light a,.cx-send-message.cx-theme-light a:hover{color:#3b71dc}.cx-send-message.cx-theme-light .cx-body .cx-confirmation .cx-wrapper{border-color:#94948a}.cx-widget .cx-attachfilesinfo{text-indent:-9999px;height:0}",""])},"./webapp/plugins/cx-send-message/cx-send-message.js":function(e,a,t){"use strict";var s,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=[t("./node_modules/jquery/dist/jquery.js"),t("./webapp/plugins/cx-send-message/html/cx-send-message.html"),t("./webapp/plugins/cx-send-message/html/cx-send-message-button.html"),t("./webapp/plugins/cx-send-message/html/cx-error.html"),t("./webapp/plugins/cx-send-message/html/cx-send-message-file-row.html"),t("./webapp/plugins/cx-common/cx-common.js"),t("./webapp/plugins/cx-send-message/nls/string.json"),t("./webapp/plugins/cx-send-message/less/cx-send-message.less")],void 0!==(r=function(e,a,t,s,r,n,o){function c(t){X&&X.remove(),Q=[],X=n.Generate.Container({type:t,classes:"cx-send-message",title:o.Title,body:a,icon:"email",controls:"generic"==t?"all":"close",buttons:!1}),X.addClass("cx-send-message"),X.attr({"data-gcb-service-node":!0}),X.attr("aria-label",o.AriaWindowLabel),Z=d(".cx-body"),x.uploadsEnabled?d("input[type='file']:hidden").on("change",C):X.find(".cx-left-half").remove(),X.focusin(function(){var a=e(document.activeElement),t=[];de||(de=document.activeElement),ce=de,t=oe.filter(function(e){return a.hasClass(e)}),ce==document.activeElement||t.length||(de=document.activeElement)}),d(".cx-alert").on("keydown",function(e){!e.ctrlKey&&e.which&&27===e.which&&(d(".cx-send-msg-end").is(":visible")?F():d(".cx-send-failed").is(":visible")&&B())}),d(".cx-button-close").on("keydown click",function(e){if(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)return e.preventDefault(),l.command("close"),!0}),d(".cx-button-minimize").on("keydown click",function(e){if(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)return e.preventDefault(),l.command("minimize"),!0}),h(),d(".cx_file_upload").attr("title",o.AriaAttachfiles),d(".cx_file_upload").on("keydown click",function(e){if(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)return e.preventDefault(),d("input[type='file']:hidden").trigger("click"),!0}),d("input[type='text'], input[type='email']").on("keydown",function(e){if(!e.ctrlKey&&e.which&&13==e.which)return e.preventDefault(),e.stopImmediatePropagation(),l.command("submit"),!1}),Z.find("textarea").on("cut paste drop keyup",function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+2+"px"}),d("input, textarea").on("keydown",function(a){"email"==e(this).attr("type")?(a.target.validity.typeMismatch?(e(this).addClass("cx-error").attr("aria-invalid","true"),ne[this.id]=!0):(e(this).removeClass("cx-error").attr("aria-invalid","false"),ne[this.id]=!1),a.stopPropagation(),a.stopImmediatePropagation()):e(this).removeClass("cx-error").attr("aria-invalid","false"),J||(J=P(),l.publish("started",K()))}),X.find(".cx-button-minimize").attr("aria-label",o.AriaMinimize),X.find(".cx-button-close").attr("aria-label",o.Title+" "+o.AriaClose),n.populateAllPlaceholders(X,o),X.find(".cx-buttons-window-control button.cx-button-minimize").attr({"aria-label":o.AriaMinimize})}var d=function(e){return X.find(e)},l=CXBus.registerPlugin("SendMessage"),x={i18n_messages:{},formValidation:!0,uploadsEnabled:!0,SendMessageButton:{enabled:!1,template:t,openDelay:1e3,effect:"fade",effectDuration:300},oFormJSON:{wrapper:"<table role='none'>",inputs:[{id:"cx_sendmessage_form_firstname",name:"firstname",maxlength:"100",placeholder:"@i18n:sendmessage.PlaceholderFirstName",label:"@i18n:sendmessage.FirstName",autofocus:!0,"aria-required":!0},{id:"cx_sendmessage_form_lastname",name:"lastname",maxlength:"100",placeholder:"@i18n:sendmessage.PlaceholderLastName",label:"@i18n:sendmessage.LastName","aria-required":!0},{id:"cx_sendmessage_form_email",type:"email",name:"email",maxlength:"100",placeholder:"@i18n:sendmessage.PlaceholderEmail",label:"@i18n:sendmessage.Email","aria-required":!0},{id:"cx_sendmessage_form_subject",name:"subject",maxlength:"100",placeholder:"@i18n:sendmessage.PlaceholderSubject",label:"@i18n:sendmessage.Subject","aria-required":!0},{id:"cx_sendmessage_form_messagebody",type:"textarea",name:"messagebody",rows:"2",placeholder:"@i18n:sendmessage.PlaceholderTypetexthere",label:!1,"aria-required":!0}]}},m={},p=!1,f="",g=0;l.registerEvents(["ready","opened","started","cancelled","submitted","completed","closed","minimized","unminimized"]);var u=function(a,t){X&&("object"!=i(t.formJSON)||Array.isArray(t.formJSON)||(h(t.formJSON),p=!0),l.command("WindowManager.registerDockView",{html:X,draggable:!0}).done(function(s){if(Y=!0,ae||te?(X.addClass("cx-mobile"),z()):X.addClass("cx-desktop"),t&&"object"===i(t.form)){var r=t.form;n.preFillForm(X,r),L=!0,!1===r.validation?x.formValidation=!1:(e("#cx_sendmessage_form_email").trigger("change"),x.formValidation=!0),!0===r.autoSubmit&&(l.command("submit"),O=!0)}R=P(),l.publish("opened",K()),t&&"object"===i(t.form)&&(J||(J=P(),l.publish("started",K()))),d(".cx-input:visible:first")[0]&&d(".cx-input:visible:first")[0].focus(),a&&a.resolve()}))},b=function(e){X&&(X.animate({bottom:0-X.height()+"px"},{duration:500,done:function(){X.remove(),e&&e.resolve(),0==H&&(U=P(),l.publish("cancelled",K())),G=P(),l.publish("closed",K()),T()}}),x.SendMessageButton.enabled&&l.command("showSendMessageButton"),Y=!1,$=!1)},h=function(e){X&&(X.find(".cx-form .cx-form-inputs").empty(),n.Generate.Form(e||x.oFormJSON,d(".cx-body .cx-form .cx-form-inputs")))},y=function(){var a=0,t=d(".cx-file-size");e.each(Q||[],function(e,t){a+=parseInt(t.size)}),a>0?(t.text(w(a)),t.attr({"aria-label":o.AriaFileSize+" "+w(a),tabindex:"0"}),t.removeAttr("aria-hidden")):(t.text(""),t.removeAttr("tabindex aria-label")),t.on("keydown click",function(e){(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)&&(e.preventDefault(),e.stopImmediatePropagation())})},w=function(e){var a=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return 0===t?e+" "+a[t]:(e/Math.pow(1024,t)).toFixed(1)+" "+a[t]},v=function(){var e={},a={firstname:1,lastname:1,email:1,subject:1,messagebody:1,text:1,firstName:1,lastName:1},t={};return d(".cx-form .cx-input").each(function(){a[this.name]?e[this.name]=n.getInputValue(this):t[this.name]=n.getInputValue(this)}),{form:e,userData:t}},_=function(){d(".cx-form-wrapper").addClass("cx-parentDisable"),d(".cx-form .cx-input, .cx-submit, .cx-button-minimize, .cx-button-close, .cx_file_upload, .cx-file-fragment, .cx-remove-file, .cx-file-size, .cx-success").attr("tabindex","-1")},k=function(){d(".cx-form-wrapper").removeClass("cx-parentDisable"),d(".cx-file-fragment, .cx-remove-file, .cx-file-size").each(function(){e(this).is(":visible")&&!e(this).is(":empty")&&e(this).attr("tabindex","0")}),d(".cx-success, .cx-submit, .cx-button-minimize, .cx-button-close").attr("tabindex","0"),d(".cx-form .cx-input, .cx_file_upload").removeAttr("tabindex")},S=function(){if(x.formValidation&&!p){var a=d(".cx-input"),t=[];return e.each(a,function(a){0===this.value.length?(e(this).addClass("cx-error").attr("aria-invalid","true"),t[a]="false"):ne[this]?t[a]="false":t[a]="true"}),d(".cx-error:first").trigger("focus"),-1==e.inArray("false",t)}var s=n.validateForm(d(".cx-form"));return s||d(".cx-error:first").trigger("focus"),s},C=function(){var a=this.files,t=a.length,s=d(".cx-file-details"),i=d(".cx-file-list");return d(".cx-file-details").show(),t>0&&(e.each(a,function(a,t){var n=e(r);g++,n.find(".cx-file-icon").attr({id:"cx-file-icon-"+g,"aria-label":o.AriaFileIcon}),n.find(".cx-file-name").attr({id:"cx-file-name-"+g,"aria-label":t.name}).append(t.name),n.find(".cx-remove-file").attr({id:"cx-remove-file-"+g,"aria-label":o.AriaRemoveFile}),n.attr({"aria-labelledby":"cx-file-icon-"+g+" cx-file-name-"+g+" cx-remove-file-"+g}),i.append(n),n.trigger("focus"),n.find(".cx-remove-file").on("keydown click",function(a){if(!a.ctrlKey&&a.which&&(13===a.which||32===a.which)||a.type&&"click"==a.type)return a.preventDefault(),n.remove(),X.parents(".cx-window-manager").find(".cx-widget-status").html(o.AriaFileIcon+" "+n.find(".cx-file-name").text()+" removed"),e(".cx_file_upload").trigger("focus"),e.each(Q,function(e,a){a==t&&(Q.splice(e,1),y())}),0===Q.length&&s.hide(),!0}),Q.push(t)}),y(),z(),n.populateAllPlaceholders(s)),Z.animate({scrollTop:Z[0].scrollHeight},"500","swing"),this.value=null,!1},M=function(){te||(X.removeClass("cx-portrait cx-landscape"),d(".cx-form-wrapper").css("height","auto"))},z=function(){if(X&&(ae||te)){var a=e(window).height(),t=e(window).width(),s=X.height(),r=window.screen.availHeight||e(window).height(),i=window.screen.availWidth||e(window).width();X.removeClass("cx-portrait cx-landscape"),X.addClass(i<r?"cx-portrait":"cx-landscape");var o=d(".cx-titlebar").outerHeight(),c=t<a?d(".cx-footer").outerHeight():0;d(".cx-form-wrapper").height(s-o-c),n.overlayFocusCycle(X)}},A=function(){var e=!1;return d("div.cx-form-inputs .cx-input").each(function(){if(this.value)return e=!0,!1}),e},E=function(e){j(),d(".cx-alert.cx-confirmation p").html(o.ConfirmCloseWindow).attr("aria-label",o.ConfirmCloseWindow),d(".cx-end-cancel").html(o.SendMsgFormCancel).on("keydown click",function(e){(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)&&(e.preventDefault(),F())}),d(".cx-end-confirm").html(o.SendMsgFormClose).on("keydown click",function(a){(!a.ctrlKey&&a.which&&(13===a.which||32===a.which)||a.type&&"click"==a.type)&&(a.preventDefault(),I(e))}),e.deferred.reject("Form still contains values. Cannot close until user confirms")},j=function(){d(".cx-alert.cx-send-msg-end.cx-confirmation").show(),d(".cx-smokescreen").show(),d(".cx-end-confirm").trigger("focus"),_()},F=function(){k(),d(".cx-alert.cx-send-msg-end.cx-confirmation").hide(),d(".cx-smokescreen").hide(),X.parents(".cx-window-manager").find(".cx-widget-status").empty().html(o.AriaCloseAlert),d(".cx-form-wrapper").is(":visible")&&(d(".cx-error").length>=1?d(".cx-error:first").trigger("focus"):ce&&e(ce).focus(),d(".cx-form-success").is(":visible")&&d(".cx-button-group .cx-button-close").trigger("focus"))},D=function(e){d(".cx-send-failed").show(),d(".cx-smokescreen").show(),d("#cx-error-wrapper").attr("aria-labelledby",e.trim()),d("button.cx-failed-retry").trigger("focus"),_()},B=function(){f="",k(),d(".cx-fail-message").empty(),d(".cx-send-failed").hide(),d(".cx-smokescreen").hide(),X.parents(".cx-window-manager").find(".cx-widget-status").empty().html(o.AriaCloseAlert),d(".cx-form-wrapper").is(":visible")&&(d(".cx-error").length>=1?d(".cx-error:first").trigger("focus"):ce&&e(ce).focus())},I=function(e){Y?b(e.deferred):e.deferred.reject("already closed")},N=function(a){if(a&&Z){var t=o.Errors.unknowError||o.Errors.unknownError;e.each(a,function(a,r){var i=e(s),n=i.find(".cx-fail-message");switch(V.push(r.code||"unspecified"),r.code){case 201:n.append((o.ErrorAttachfileslimit||o.Errors.attachmentsLimit)+r.advice+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code;break;case 202:n.append((o.ErrorAttachfileSizeMax||o.Errors.attachmentsSize)+w(r.advice)+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code;break;case 203:n.append((o.ErrorInvalidFileType||o.Errors.invalidFileType)+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code;break;case 381:n.append((o.ErrorInvalidFromEmail||o.Errors.invalidFromEmail)+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code,X.find("#cx_sendmessage_form_email").addClass("cx-error").attr("aria-invalid",!0);break;case 383:n.append((o.ErrorInvalidMailbox||o.Errors.invalidMailbox)+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code,X.find("#cx_sendmessage_form_email").addClass("cx-error").attr("aria-invalid",!0);break;case 102:n.append((o.NoFirstName||o.Errors[r.code])+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code,X.find("#cx_sendmessage_form_firstname").addClass("cx-error").attr("aria-invalid",!0);break;case 103:n.append((o.NoLastName||o.Errors[r.code])+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code,X.find("#cx_sendmessage_form_lastname").addClass("cx-error").attr("aria-invalid",!0);break;case 104:n.append((o.NoSubject||o.Errors[r.code])+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code,X.find("#cx_sendmessage_form_subject").addClass("cx-error").attr("aria-invalid",!0);break;case 181:n.append((o.NoEmail||o.Errors[r.code])+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code,X.find("#cx_sendmessage_form_email").addClass("cx-error").attr("aria-invalid",!0);break;case 182:n.append((o.NoTextContent||o.Errors[r.code])+"<br>").attr("id","cx_error_"+r.code),f+=" cx_error_"+r.code,X.find("#cx_sendmessage_form_messagebody").addClass("cx-error").attr("aria-invalid",!0);break;default:n.append(t+"<br>").attr("id","cx_error_unspecified"),f+=" cx_error_unspecified"}d(".cx-error-container").append(i)})}},P=function(){return(new Date).getTime()},T=function(){q=!1,L=!1,O=!1,W={},V=[],R=!1,J=!1,U=!1,H=!1,G=!1},K=function(){return{proactive:q,prefilled:L,autoSubmitted:O,errors:V.length>0&&V,opened:R,started:J,cancelled:U,completed:H,closed:G,elapsed:(G||P())-R,form:W}};if(l){var q=!1,L=!1,O=!1,W={},V=[],R=!1,J=!1,U=!1,H=!1,G=!1,Y=!1,X=e(),Z=e(),Q=[],$=!1,ee=!1,ae=!1,te=!1,se=e(x.SendMessageButton.template),re=!1,ie="SendMessageService",ne=[],oe=["cx-button-close","cx-failed-retry","cx-close-confirm","cx-end-confirm"],ce=!1,de=!1;l.registerCommand("close",function(e){A()?($&&l.command("minimize"),E(e)):I(e)}),l.registerCommand("configure",function(a){if(a.data&&Object.keys(a.data).length){var t=a.data;if("boolean"==typeof t.formValidation&&(x.formValidation=t.formValidation),"object"!=i(t.form)||Array.isArray(t.form)||(x.oFormJSON=t.form,p=!0),"boolean"==typeof t.uploadsEnabled&&(x.uploadsEnabled=t.uploadsEnabled),"object"==i(t.SendMessageButton)){var s=t.SendMessageButton;"boolean"==typeof s.enabled&&(x.SendMessageButton.enabled=s.enabled),"number"==typeof s.openDelay&&(x.SendMessageButton.openDelay=parseInt(s.openDelay)),"string"==typeof s.template&&(x.SendMessageButton.template=s.template),"string"==typeof s.effect&&(x.SendMessageButton.effect=s.effect),"number"==typeof s.effectDuration&&(x.SendMessageButton.effectDuration=parseInt(s.effectDuration)),"string"==typeof s.servicePlugin&&(ie=s.servicePlugin),se=e(x.SendMessageButton.template),se.on("keyup click",function(e){(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)&&l.command("open")}),n.populateAllPlaceholders(se,o),x.SendMessageButton.enabled&&l.command("showSendMessageButton")}a.deferred.resolve()}else a.deferred.reject("Invalid configuration")}),l.registerCommand("showSendMessageButton",function(a){if(o=l.data("App.localization").sendmessage||o,x.SendMessageButton.enabled&&!ee){var t=a.data&&"number"==typeof a.data.openDelay?parseInt(a.data.openDelay):x.SendMessageButton.openDelay,s=a.data&&"number"==typeof a.data.duration?parseInt(a.data.duration):x.SendMessageButton.effectDuration;se.find(".i18n").each(function(){e(this).data("message")&&e(this).html(o[e(this).data("message")])}),re=setTimeout(function(){re=!1,l.command("WindowManager.registerSideButton",{template:se}).done(function(e){if(0===s)se.css({display:"inline-block"});else switch(x.SendMessageButton.effect){case"slide":se.css({display:"inline-block",width:""});var t=se.outerWidth()+"px";se.css({width:0}),se.animate({width:t},s,function(){ee=!0,a.deferred.resolve()});break;case"fade":se.fadeIn(s,function(){ee=!0,a.deferred.resolve()});break;default:se.css({display:"inline-block"}),ee=!0,a.deferred.resolve()}})},t)}else a.deferred.reject("Send Message button is not enabled in the configuration, or already visible. Ignoring command.")}),l.registerCommand("hideSendMessageButton",function(e){if(ee||re){re&&clearTimeout(re);var a=e.data&&"number"==typeof e.data.duration?parseInt(e.data.duration):x.SendMessageButton.effectDuration;if(0===a)se.css({display:"none"}),se.detach();else switch(x.SendMessageButton.effect){case"slide":se.animate({width:0},a,function(){ee=!1,se.detach(),e.deferred.resolve()});break;case"fade":se.fadeOut(a,function(){se.detach(),ee=!1,e.deferred.resolve()});break;default:se.css({display:"none"}),ee=!1,se.detach(),e.deferred.resolve()}}else e.deferred.reject("Send Message button is already hidden. Ignoring command.")}),l.registerCommand("open",function(e){o=l.data("App.localization").sendmessage||o,Y?e.deferred.reject("Already open"):(T(),e.data.userData&&void 0!=i(e.data.userData.webengagement)&&(q=!0),Y=!0,l.command("hideSendMessageButton"),c("generic"),m=e.data.userData||{},u(e.deferred,e.data),d(".cx-form .cx-submit").on("keydown click",function(e){if(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)return e.preventDefault(),e.stopImmediatePropagation(),l.command("submit"),!1}))}),l.registerCommand("minimize",function(e){X.hasClass("cx-dragged-off")?(X.attr("style",""),l.command("WindowManager.registerDockView",{html:X,draggable:!0})):$?(X.hasClass("cx-minimized")&&((ae||te)&&X.attr("aria-modal",!0),X.removeClass("cx-minimized").addClass("cx-maximize").find(".cx-button-maximize.cx-icon").removeClass("cx-button-maximize").addClass("cx-button-minimize").attr({"aria-label":o.AriaMinimize}),$=!1,(ae||te)&&z()),l.publish("unminimized"),d(".cx-alert").is(":visible")&&d(".cx-alert .cx-btn-primary").trigger("focus"),e.deferred.resolve()):((ae||te)&&X.removeAttr("aria-modal"),X.removeClass("cx-maximize").addClass("cx-minimized").find(".cx-button-minimize.cx-icon").removeClass("cx-button-minimize").addClass("cx-button-maximize").attr({"aria-label":o.AriaMaximize}),$=!0,l.publish("minimized"),(ae||te)&&z(),e.deferred.resolve())}),l.registerCommand("submit",function(a){var t={},s=v();S()?(t.formData=s.form,t.userData=e.extend(!0,m,s.userData),x.uploadsEnabled&&(t.files=Q),_(),n.showLoading(X),W=t.formData,l.publish("submitted",K()),l.command(ie+".sendForm",t).done(function(){n.hideLoading(X),k()}).always(function(e){n.hideLoading(X),k()}),a.deferred.resolve()):a.deferred.reject("Form not valid")}),l.subscribe("App.i18n",function(e){"object"==i(e.data.sendmessage)&&(X&&d(".cx-title").text(x.i18n_messages.SendMessageTitle),x.SendMessageButton.enabled&&l.command("showSendMessageButton"))}),l.subscribe("App.zoom",function(e){"mobile"==e.data.layout?(te=!0,X.removeClass("cx-desktop").addClass("cx-mobile"),z()):(te=!1,X.removeClass("cx-mobile").addClass("cx-desktop"),M())}),l.subscribe("App.mobileMode",function(){e(window).on("orientationchange",z),e(window).on("resize",z),ae=!0,z()}),l.subscribe("App.closeAll",function(e){l.command("close")}),l.subscribe(ie+".messageSent",function(e){d(".cx-form").hide(),d(".cx-form-success").show(),d(".cx-button-close").trigger("focus"),H=P(),l.publish("completed",K()),d("div.cx-form-inputs .cx-input").each(function(){this.value=""}),ae&&z()}),l.subscribe(ie+".error",function(a){if(a.data.textStatus){var t=o.Errors.connectionError,r=e(s),i=o.Errors.unknowError||o.Errors.unknownError,n=d(".cx-error-container"),c=r.find(".cx-fail-message");switch(n.empty(),a.data.result&&500!=a.data.statusCode&&(a.data.result.reason?i=a.data.result.reason:a.data.result.error&&(i=a.data.result.error)),a.data.textStatus){case"timeout":f="cx_server_unreachable",c.text(t).attr("id",f),n.append(r);break;case"error":400==a.data.statusCode&&a.data.result.errors?N(a.data.result.errors):(f="cx_server_error",c.text(i).attr("id",f),n.append(r));break;case"success":1!=a.data.result.statusCode||a.data.result.error?N(a.data.result.errors):(f="cx_server_error",c.text(i).attr("id",f),n.append(r));break;default:f="cx_server_error",c.text(i).attr("id",f),n.append(r)}D(f),d("button.cx-failed-retry").on("keydown click",function(e){if(!e.ctrlKey&&e.which&&(13===e.which||32===e.which)||e.type&&"click"==e.type)return e.preventDefault(),B(),!0}),Z.animate({scrollTop:0},"500","swing")}}),l.subscribe("App.ready",function(){l.command("App.registerI18n",{i18n:o,namespace:"sendmessage",lang:"en"}).always(function(){l.command("configure",_genesys.widgets.sendmessage),l.ready(),l.republish("ready")})})}}.apply(a,s))&&(e.exports=r)},"./webapp/plugins/cx-send-message/html/cx-error.html":function(e,a){e.exports='<div>\r\n\t<p class="i18n cx-fail-message"></p>\r\n</div>'},"./webapp/plugins/cx-send-message/html/cx-send-message-button.html":function(e,a){e.exports='<div class="cx-widget cx-send-message-button cx-side-button" role="button" tabindex="0" data-message="SendMessageButton" data-gcb-service-node="true">\r\n\t<span class="cx-icon" role="img" data-icon="email"></span>\r\n\t<span class="i18n cx-send-message-button-label" data-message="SendMessageButton"></span>\r\n</div>'},"./webapp/plugins/cx-send-message/html/cx-send-message-file-row.html":function(e,a){e.exports='<div class="cx-file-fragment" role="region" tabindex="0">\n\t<div class="cx-icon cx-file-icon" data-icon="doc-generic-solid" role="img"></div>\n\t<div class="cx-file-name" role="region"></div>\n\t<div class="cx-icon cx-remove-file cx-theme-icon-interactive1" data-icon="close-circle" tabindex="0" role="button"></div>\n</div>'},"./webapp/plugins/cx-send-message/html/cx-send-message.html":function(e,a){e.exports='<div role="alertdialog" class="cx-alert cx-confirmation cx-send-failed cx-theme-background" aria-describedby="cx-error-wrapper">\r\n\t<div class="cx-wrapper">\r\n\t\t<div class="cx-error-container" id="cx-error-wrapper" tabindex="0" role="region"></div>\x3c!--Adding role to make screen reader read the error messages on focus based on aria label. Without role, aria-labelledby or aria-label doen\'t work on div\'s --\x3e\r\n\t\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t\t<button type="button" class="cx-failed-retry cx-btn cx-btn-primary i18n" data-message="OK"></button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div role="alertdialog" class="cx-alert cx-send-msg-end cx-confirmation cx-theme-background" aria-labelledby="cx-msg-confirmation">\r\n\t<div class="cx-wrapper">\r\n\t\t<p id="cx-msg-confirmation" class="i18n cx-confirmation-msg" data-message="SendMsgConfirmation"></p>\r\n\t\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t\t<button type="button" class="cx-end-cancel cx-btn cx-btn-default i18n" data-message="Cancel"></button>\r\n\t\t\t<button type="button" class="cx-end-confirm cx-btn cx-btn-primary i18n" data-message="Close"></button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class="cx-spinner">\r\n\t<div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n\t\t<div class="cx-spin-circle"></div>\r\n\t\t<div class="cx-spin-inner-circle"></div>\r\n\t</div>\r\n</div>\r\n\r\n<div class="cx-form-wrapper cx-send-message-form">\r\n\r\n\t<form class="cx-form cx-form-horizontal" data-async enctype="multipart/form-data" novalidate>\r\n\t\r\n\t\t<div class="cx-form-inputs"></div>\r\n\r\n\t\t<div class="cx-form-group cx-file-details">\r\n\t\t\t<div class="cx-file-list" cellspacing="0" cellpadding="0"></div>\r\n\t\t</div>\r\n\r\n\t\t<div class="cx-form-group cx-submitForm">\r\n\t\t\t<div class="cx-left-half">\r\n\t\t\t\t<span class="cx-icon cx-attach cx-theme-icon-interactive1" id="cx-attach-icon" data-icon="attach" role="img" aria-labelledby="cx-attach-file"></span>\x3c!--added aria-labelledby to icon to satisfy (Rule ID: role-img-alt & Ruleset: axe-core 3.4) and WCAG: 1.1.1 principle--\x3e\r\n\t\t\t\t<a href="javascript:void(0);" class="cx_file_upload" aria-labelledby="cx-attach-file">\x3c!--added class for accessing the attachfiles using tab key--\x3e\r\n\t\t\t\t\t<label class="i18n cx_file_upload_link" for="cx_send_message_fileUpload" data-message="Attachfiles" id="cx-attach-file"></label>\r\n\t\t\t\t</a>\r\n\t\t\t\t<span class="cx-file-size" role="region"></span>\r\n\t\t\t</div>\r\n\t\t\t<div class="cx-right-half">\r\n\t\t\t\t<button type="submit" data-message="Send" class="cx-btn cx-btn-primary cx-submit i18n"></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<input id="cx_send_message_fileUpload" type="file" name="fileUploadField[]" class="cx-fileUploadField" multiple=""/>\r\n\r\n\t</form>\r\n\t\t\r\n\t<div class="cx-form-success" role="alertdialog" aria-describedby="cx-success-msg">\r\n\t\t<div class="cx-success">\r\n\t\t\t<span class="cx-icon cx-theme-icon-positive" id="cx-success-icon" data-icon="alert-checkmark" role="img" aria-label="success"></span>\r\n\t\t\t<p data-message="Sent" class="cx-control-label i18n" id="cx-success-msg"></p>\x3c!-- Appropriate to use p tag. Span tag shouldn\'t be used for text elements --\x3e\r\n\t\t</div>\r\n\t</div>\r\n\r\n</div>'},"./webapp/plugins/cx-send-message/less/cx-send-message.less":function(e,a,t){var s=t("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-send-message/less/cx-send-message.less");"string"==typeof s&&(s=[[e.i,s,""]]);var r={};r.transform=void 0;var i=t("./node_modules/style-loader/lib/addStyles.js")(s,r);s.locals&&(e.exports=s.locals),s.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-send-message/less/cx-send-message.less",function(){var a=t("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-send-message/less/cx-send-message.less");"string"==typeof a&&(a=[[e.i,a,""]]),i(a)}),e.hot.dispose(function(){i()})},"./webapp/plugins/cx-send-message/nls/string.json":function(e,a){e.exports={SendMessageButton:"Send Message",OK:"OK",Title:"Send Message",PlaceholderFirstName:"Required",PlaceholderLastName:"Required",PlaceholderEmail:"Required",PlaceholderSubject:"Required",PlaceholderTypetexthere:"Type your message here...",FirstName:"First Name",LastName:"Last Name",Email:"Email",Subject:"Subject",Attachfiles:"Attach files",AriaAttachfiles:"Attach files link. Open a file upload dialog.",Send:"Send",AriaSend:"Send",Sent:"Your message has been sent...",Close:"Close",ConfirmCloseWindow:"Are you sure you want to close the Send Message widget?",Cancel:"Cancel",AriaMinimize:"Send Message Minimize",AriaMaximize:"Send Message Maximize",AriaWindowLabel:"Send Message Window",AriaClose:"Close",AriaCloseAlert:"Alert box is closed",AriaEndConfirm:"Yes",AriaEndCancel:"Cancel",AriaOK:"OK",AriaRemoveFile:"Remove file",AriaFileIcon:"File",AriaFileSize:"File Size",Errors:{102:"First Name required.",103:"Last Name required.",104:"Subject required.",181:"Email address required.",182:"Message text content required.",connectionError:"Unable to reach server. Please try again.",unknownError:"Something went wrong, we apologize for the inconvenience. Please check your connection settings and try again.",attachmentsLimit:"Total number of attachments exceeds limit: ",attachmentsSize:"Total size of attachments exceeds limit: ",invalidFileType:"Unsupported file type. Please upload images, PDFs, text files and ZIPs.",invalidFromEmail:"Invalid email - From address.",invalidMailbox:"Invalid email - To address."}}}},["./webapp/plugins/cx-send-message/cx-send-message.js"]);